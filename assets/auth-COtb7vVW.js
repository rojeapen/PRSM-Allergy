(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var zd={exports:{}},yl={};var sv;function ob(){if(sv)return yl;sv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return yl.Fragment=t,yl.jsx=n,yl.jsxs=n,yl}var av;function lb(){return av||(av=1,zd.exports=ob()),zd.exports}var uN=lb(),Bd={exports:{}},yt={};var ov;function ub(){if(ov)return yt;ov=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),O=Symbol.iterator;function q(M){return M===null||typeof M!="object"?null:(M=O&&M[O]||M["@@iterator"],typeof M=="function"?M:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,$={};function ot(M,Y,et){this.props=M,this.context=Y,this.refs=$,this.updater=et||J}ot.prototype.isReactComponent={},ot.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},ot.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function pt(){}pt.prototype=ot.prototype;function ut(M,Y,et){this.props=M,this.context=Y,this.refs=$,this.updater=et||J}var At=ut.prototype=new pt;At.constructor=ut,W(At,ot.prototype),At.isPureReactComponent=!0;var Jt=Array.isArray;function It(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(M,Y,et){var it=et.ref;return{$$typeof:r,type:M,key:Y,ref:it!==void 0?it:null,props:et}}function V(M,Y){return C(M.type,Y,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function P(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(et){return Y[et]})}var R=/\/+/g;function ee(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):Y.toString(36)}function Ce(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(It,It):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,Y,et,it,gt){var St=typeof M;(St==="undefined"||St==="boolean")&&(M=null);var Ut=!1;if(M===null)Ut=!0;else switch(St){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(M.$$typeof){case r:case t:Ut=!0;break;case A:return Ut=M._init,F(Ut(M._payload),Y,et,it,gt)}}if(Ut)return gt=gt(M),Ut=it===""?"."+ee(M,0):it,Jt(gt)?(et="",Ut!=null&&(et=Ut.replace(R,"$&/")+"/"),F(gt,Y,et,"",function(ls){return ls})):gt!=null&&(N(gt)&&(gt=V(gt,et+(gt.key==null||M&&M.key===gt.key?"":(""+gt.key).replace(R,"$&/")+"/")+Ut)),Y.push(gt)),1;Ut=0;var De=it===""?".":it+":";if(Jt(M))for(var ne=0;ne<M.length;ne++)it=M[ne],St=De+ee(it,ne),Ut+=F(it,Y,et,St,gt);else if(ne=q(M),typeof ne=="function")for(M=ne.call(M),ne=0;!(it=M.next()).done;)it=it.value,St=De+ee(it,ne++),Ut+=F(it,Y,et,St,gt);else if(St==="object"){if(typeof M.then=="function")return F(Ce(M),Y,et,it,gt);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function tt(M,Y,et){if(M==null)return M;var it=[],gt=0;return F(M,it,"","",function(St){return Y.call(et,St,gt++)}),it}function ct(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(et){(M._status===0||M._status===-1)&&(M._status=1,M._result=et)},function(et){(M._status===0||M._status===-1)&&(M._status=2,M._result=et)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var kt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},qt={map:tt,forEach:function(M,Y,et){tt(M,function(){Y.apply(this,arguments)},et)},count:function(M){var Y=0;return tt(M,function(){Y++}),Y},toArray:function(M){return tt(M,function(Y){return Y})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return yt.Activity=b,yt.Children=qt,yt.Component=ot,yt.Fragment=n,yt.Profiler=l,yt.PureComponent=ut,yt.StrictMode=s,yt.Suspense=_,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,yt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},yt.cache=function(M){return function(){return M.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(M,Y,et){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var it=W({},M.props),gt=M.key;if(Y!=null)for(St in Y.key!==void 0&&(gt=""+Y.key),Y)!S.call(Y,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Y.ref===void 0||(it[St]=Y[St]);var St=arguments.length-2;if(St===1)it.children=et;else if(1<St){for(var Ut=Array(St),De=0;De<St;De++)Ut[De]=arguments[De+2];it.children=Ut}return C(M.type,gt,it)},yt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},yt.createElement=function(M,Y,et){var it,gt={},St=null;if(Y!=null)for(it in Y.key!==void 0&&(St=""+Y.key),Y)S.call(Y,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(gt[it]=Y[it]);var Ut=arguments.length-2;if(Ut===1)gt.children=et;else if(1<Ut){for(var De=Array(Ut),ne=0;ne<Ut;ne++)De[ne]=arguments[ne+2];gt.children=De}if(M&&M.defaultProps)for(it in Ut=M.defaultProps,Ut)gt[it]===void 0&&(gt[it]=Ut[it]);return C(M,St,gt)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(M){return{$$typeof:p,render:M}},yt.isValidElement=N,yt.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:ct}},yt.memo=function(M,Y){return{$$typeof:y,type:M,compare:Y===void 0?null:Y}},yt.startTransition=function(M){var Y=I.T,et={};I.T=et;try{var it=M(),gt=I.S;gt!==null&&gt(et,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(It,kt)}catch(St){kt(St)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),I.T=Y}},yt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},yt.use=function(M){return I.H.use(M)},yt.useActionState=function(M,Y,et){return I.H.useActionState(M,Y,et)},yt.useCallback=function(M,Y){return I.H.useCallback(M,Y)},yt.useContext=function(M){return I.H.useContext(M)},yt.useDebugValue=function(){},yt.useDeferredValue=function(M,Y){return I.H.useDeferredValue(M,Y)},yt.useEffect=function(M,Y){return I.H.useEffect(M,Y)},yt.useEffectEvent=function(M){return I.H.useEffectEvent(M)},yt.useId=function(){return I.H.useId()},yt.useImperativeHandle=function(M,Y,et){return I.H.useImperativeHandle(M,Y,et)},yt.useInsertionEffect=function(M,Y){return I.H.useInsertionEffect(M,Y)},yt.useLayoutEffect=function(M,Y){return I.H.useLayoutEffect(M,Y)},yt.useMemo=function(M,Y){return I.H.useMemo(M,Y)},yt.useOptimistic=function(M,Y){return I.H.useOptimistic(M,Y)},yt.useReducer=function(M,Y,et){return I.H.useReducer(M,Y,et)},yt.useRef=function(M){return I.H.useRef(M)},yt.useState=function(M){return I.H.useState(M)},yt.useSyncExternalStore=function(M,Y,et){return I.H.useSyncExternalStore(M,Y,et)},yt.useTransition=function(){return I.H.useTransition()},yt.version="19.2.3",yt}var lv;function Mm(){return lv||(lv=1,Bd.exports=ub()),Bd.exports}var cN=Mm(),Hd={exports:{}},vl={},qd={exports:{}},jd={};var uv;function cb(){return uv||(uv=1,(function(r){function t(F,tt){var ct=F.length;F.push(tt);t:for(;0<ct;){var kt=ct-1>>>1,qt=F[kt];if(0<l(qt,tt))F[kt]=tt,F[ct]=qt,ct=kt;else break t}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var tt=F[0],ct=F.pop();if(ct!==tt){F[0]=ct;t:for(var kt=0,qt=F.length,M=qt>>>1;kt<M;){var Y=2*(kt+1)-1,et=F[Y],it=Y+1,gt=F[it];if(0>l(et,ct))it<qt&&0>l(gt,et)?(F[kt]=gt,F[it]=ct,kt=it):(F[kt]=et,F[Y]=ct,kt=Y);else if(it<qt&&0>l(gt,ct))F[kt]=gt,F[it]=ct,kt=it;else break t}}return tt}function l(F,tt){var ct=F.sortIndex-tt.sortIndex;return ct!==0?ct:F.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],A=1,b=null,O=3,q=!1,J=!1,W=!1,$=!1,ot=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function At(F){for(var tt=n(y);tt!==null;){if(tt.callback===null)s(y);else if(tt.startTime<=F)s(y),tt.sortIndex=tt.expirationTime,t(_,tt);else break;tt=n(y)}}function Jt(F){if(W=!1,At(F),!J)if(n(_)!==null)J=!0,It||(It=!0,P());else{var tt=n(y);tt!==null&&Ce(Jt,tt.startTime-F)}}var It=!1,I=-1,S=5,C=-1;function V(){return $?!0:!(r.unstable_now()-C<S)}function N(){if($=!1,It){var F=r.unstable_now();C=F;var tt=!0;try{t:{J=!1,W&&(W=!1,pt(I),I=-1),q=!0;var ct=O;try{e:{for(At(F),b=n(_);b!==null&&!(b.expirationTime>F&&V());){var kt=b.callback;if(typeof kt=="function"){b.callback=null,O=b.priorityLevel;var qt=kt(b.expirationTime<=F);if(F=r.unstable_now(),typeof qt=="function"){b.callback=qt,At(F),tt=!0;break e}b===n(_)&&s(_),At(F)}else s(_);b=n(_)}if(b!==null)tt=!0;else{var M=n(y);M!==null&&Ce(Jt,M.startTime-F),tt=!1}}break t}finally{b=null,O=ct,q=!1}tt=void 0}}finally{tt?P():It=!1}}}var P;if(typeof ut=="function")P=function(){ut(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ee=R.port2;R.port1.onmessage=N,P=function(){ee.postMessage(null)}}else P=function(){ot(N,0)};function Ce(F,tt){I=ot(function(){F(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(F){switch(O){case 1:case 2:case 3:var tt=3;break;default:tt=O}var ct=O;O=tt;try{return F()}finally{O=ct}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(F,tt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ct=O;O=F;try{return tt()}finally{O=ct}},r.unstable_scheduleCallback=function(F,tt,ct){var kt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?kt+ct:kt):ct=kt,F){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ct+qt,F={id:A++,callback:tt,priorityLevel:F,startTime:ct,expirationTime:qt,sortIndex:-1},ct>kt?(F.sortIndex=ct,t(y,F),n(_)===null&&F===n(y)&&(W?(pt(I),I=-1):W=!0,Ce(Jt,ct-kt))):(F.sortIndex=qt,t(_,F),J||q||(J=!0,It||(It=!0,P()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var tt=O;return function(){var ct=O;O=tt;try{return F.apply(this,arguments)}finally{O=ct}}}})(jd)),jd}var cv;function hb(){return cv||(cv=1,qd.exports=cb()),qd.exports}var Fd={exports:{}},Qe={};var hv;function fb(){if(hv)return Qe;hv=1;var r=Mm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:_,containerInfo:y,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},Qe.flushSync=function(_){var y=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=y,s.p=A,s.d.f()}},Qe.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(_,y))},Qe.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Qe.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?s.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:O,fetchPriority:q}):A==="script"&&s.d.X(_,{crossOrigin:b,integrity:O,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qe.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(_)},Qe.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin);s.d.L(_,A,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qe.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);s.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(_)},Qe.requestFormReset=function(_){s.d.r(_)},Qe.unstable_batchedUpdates=function(_,y){return _(y)},Qe.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.3",Qe}var fv;function db(){if(fv)return Fd.exports;fv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Fd.exports=fb(),Fd.exports}var dv;function mb(){if(dv)return vl;dv=1;var r=hb(),t=Mm(),n=db();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function A(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=A(e),i!==null)return i;e=e.sibling}return null}var b=Object.assign,O=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),pt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),At=Symbol.for("react.forward_ref"),Jt=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case ot:return"Profiler";case $:return"StrictMode";case Jt:return"Suspense";case It:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case ut:return e.displayName||"Context";case pt:return(e._context.displayName||"Context")+".Consumer";case At:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return i=e.displayName||null,i!==null?i:ee(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return ee(e(i))}catch{}}return null}var Ce=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},kt=[],qt=-1;function M(e){return{current:e}}function Y(e){0>qt||(e.current=kt[qt],kt[qt]=null,qt--)}function et(e,i){qt++,kt[qt]=e.current,e.current=i}var it=M(null),gt=M(null),St=M(null),Ut=M(null);function De(e,i){switch(et(St,i),et(gt,e),et(it,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Cy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Cy(i),e=Dy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(it),et(it,e)}function ne(){Y(it),Y(gt),Y(St)}function ls(e){e.memoizedState!==null&&et(Ut,e);var i=it.current,a=Dy(i,e.type);i!==a&&(et(gt,e),et(it,a))}function na(e){gt.current===e&&(Y(it),Y(gt)),Ut.current===e&&(Y(Ut),ml._currentValue=ct)}var ia,ra;function ti(e){if(ia===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ia=i&&i[1]||"",ra=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ia+e+ra}var mo=!1;function us(e,i){if(!e||mo)return"";mo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var z=H}Reflect.construct(e,[],K)}else{try{K.call()}catch(H){z=H}e.call(K.prototype)}}else{try{throw Error()}catch(H){z=H}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var w=g.split(`
`),x=E.split(`
`);for(h=o=0;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;for(;h<x.length&&!x[h].includes("DetermineComponentFrameRoot");)h++;if(o===w.length||h===x.length)for(o=w.length-1,h=x.length-1;1<=o&&0<=h&&w[o]!==x[h];)h--;for(;1<=o&&0<=h;o--,h--)if(w[o]!==x[h]){if(o!==1||h!==1)do if(o--,h--,0>h||w[o]!==x[h]){var j=`
`+w[o].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=o&&0<=h);break}}}finally{mo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ti(a):""}function po(e,i){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==i&&i!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return us(e.type,!1);case 11:return us(e.type.render,!1);case 1:return us(e.type,!0);case 31:return ti("Activity");default:return""}}function go(e){try{var i="",a=null;do i+=po(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,or=r.unstable_cancelCallback,Bh=r.unstable_shouldYield,iu=r.unstable_requestPaint,We=r.unstable_now,cs=r.unstable_getCurrentPriorityLevel,_o=r.unstable_ImmediatePriority,yo=r.unstable_UserBlockingPriority,lr=r.unstable_NormalPriority,Hh=r.unstable_LowPriority,ru=r.unstable_IdlePriority,su=r.log,au=r.unstable_setDisableYieldValue,xn=null,ze=null;function bn(e){if(typeof su=="function"&&au(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(xn,e)}catch{}}var fe=Math.clz32?Math.clz32:lu,ou=Math.log,sa=Math.LN2;function lu(e){return e>>>=0,e===0?32:31-(ou(e)/sa|0)|0}var ei=256,hs=262144,ye=4194304;function ni(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ni(o):(g&=E,g!==0?h=ni(g):a||(a=E&~e,a!==0&&(h=ni(a))))):(E=o&~f,E!==0?h=ni(E):g!==0?h=ni(g):a||(a=o&~e,a!==0&&(h=ni(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function zn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function qh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uu(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ri(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function fs(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jh(e,i,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,w=e.expirationTimes,x=e.hiddenUpdates;for(a=g&~a;0<a;){var j=31-fe(a),K=1<<j;E[j]=0,w[j]=-1;var z=x[j];if(z!==null)for(x[j]=null,j=0;j<z.length;j++){var H=z[j];H!==null&&(H.lane&=-536870913)}a&=~K}o!==0&&ds(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~i))}function ds(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-fe(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function vo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-fe(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Eo(e,i){var a=i&-i;return a=(a&42)!==0?1:ms(a),(a&(e.suspendedLanes|i))!==0?0:a}function ms(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cu(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:Zy(e.type))}function Bn(e,i){var a=tt.p;try{return tt.p=e,i()}finally{tt.p=a}}var Hn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Hn,Ue="__reactProps$"+Hn,si="__reactContainer$"+Hn,aa="__reactEvents$"+Hn,Fh="__reactListeners$"+Hn,hu="__reactHandles$"+Hn,fu="__reactResources$"+Hn,ai="__reactMarker$"+Hn;function oa(e){delete e[ve],delete e[Ue],delete e[aa],delete e[Fh],delete e[hu]}function oi(e){var i=e[ve];if(i)return i;for(var a=e.parentNode;a;){if(i=a[si]||a[ve]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=ky(e);e!==null;){if(a=e[ve])return a;e=ky(e)}return i}e=a,a=e.parentNode}return null}function Rn(e){if(e=e[ve]||e[si]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function fn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function li(e){var i=e[fu];return i||(i=e[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ee(e){e[ai]=!0}var To=new Set,Ao={};function ui(e,i){ci(e,i),ci(e+"Capture",i)}function ci(e,i){for(Ao[e]=i,e=0;e<i.length;e++)To.add(i[e])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},Ro={};function du(e){return _e.call(Ro,e)?!0:_e.call(bo,e)?!1:So.test(e)?Ro[e]=!0:(bo[e]=!0,!1)}function la(e,i,a){if(du(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function dn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Te(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function Pe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ur(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function wo(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function jt(e){if(!e._valueTracker){var i=ur(e)?"checked":"value";e._valueTracker=wo(e,i,""+e[i])}}function ps(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=ur(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gs=/[\n"\\]/g;function rn(e){return e.replace(gs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ua(e,i,a,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),i!=null?g==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Pe(i)):e.value!==""+Pe(i)&&(e.value=""+Pe(i)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),i!=null?Io(e,g,Pe(i)):a!=null?Io(e,g,Pe(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Pe(E):e.removeAttribute("name")}function mu(e,i,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){jt(e);return}a=a!=null?""+Pe(a):"",i=i!=null?""+Pe(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),jt(e)}function Io(e,i,a){i==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function cr(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Pe(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function pu(e,i,a){if(i!=null&&(i=""+Pe(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Pe(a):""}function hr(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(Ce(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Pe(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),jt(e)}function sn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||gu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Do(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Co(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Co(e,f,i[f])}function ca(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(e){return fr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var Oo=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dr=null,fi=null;function _s(e){var i=Rn(e);if(i&&(e=i.stateNode)){var a=e[Ue]||null;t:switch(e=i.stateNode,i.type){case"input":if(ua(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[Ue]||null;if(!h)throw Error(s(90));ua(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&ps(o)}break t;case"textarea":pu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&cr(e,!!a.multiple,i,!1)}}}var fa=!1;function mr(e,i,a){if(fa)return e(i,a);fa=!0;try{var o=e(i);return o}finally{if(fa=!1,(dr!==null||fi!==null)&&(cc(),dr&&(i=dr,e=fi,fi=dr=null,_s(i),e)))for(i=0;i<e.length;i++)_s(e[i])}}function jn(e,i){var a=e.stateNode;if(a===null)return null;var o=a[Ue]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ys=!1;if(In)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){ys=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{ys=!1}var di=null,No=null,vs=null;function Mo(){if(vs)return vs;var e,i=No,a=i.length,o,h="value"in di?di.value:di.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&i[a-o]===h[f-o];o++);return vs=h.slice(e,1<o?1-o:void 0)}function Es(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Ui(){return!0}function Fn(){return!1}function Be(e){function i(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ui:Fn,this.isPropagationStopped=Fn,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),i}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=Be(Pi),pr=b({},Pi,{view:0,detail:0}),Vo=Be(pr),gr,da,pi,ma=b({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(gr=e.screenX-pi.screenX,da=e.screenY-pi.screenY):da=gr=0,pi=e),gr)},movementY:function(e){return"movementY"in e?e.movementY:da}}),Uo=Be(ma),Ts=b({},ma,{dataTransfer:0}),yu=Be(Ts),vu=b({},pr,{relatedTarget:0}),As=Be(vu),Po=b({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=Be(Po),pa=b({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tu=Be(pa),Au=b({},Pi,{data:0}),gi=Be(Au),Su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Ru[e])?!!i[e]:!1}function _r(){return wu}var tn=b({},pr,{key:function(e){if(e.key){var i=Su[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(e){return e.type==="keypress"?Es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Iu=Be(tn),Cu=b({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=Be(Cu),u=b({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),m=Be(u),v=b({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Be(v),k=b({},ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Be(k),Z=b({},Pi,{newState:0,oldState:0}),Et=Be(Z),de=[9,13,27,32],zt=In&&"CompositionEvent"in window,ie=null;In&&"documentMode"in document&&(ie=document.documentMode);var Cn=In&&"TextEvent"in window&&!ie,_i=In&&(!zt||ie&&8<ie&&11>=ie),Gn=" ",Kn=!1;function Ss(e,i){switch(e){case"keyup":return de.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _a=!1;function NA(e,i){switch(e){case"compositionend":return ga(i);case"keypress":return i.which!==32?null:(Kn=!0,Gn);case"textInput":return e=i.data,e===Gn&&Kn?null:e;default:return null}}function MA(e,i){if(_a)return e==="compositionend"||!zt&&Ss(e,i)?(e=Mo(),vs=No=di=null,_a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _i&&i.locale!=="ko"?null:i.data;default:return null}}var VA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!VA[e.type]:i==="textarea"}function Bp(e,i,a,o){dr?fi?fi.push(o):fi=[o]:dr=o,i=_c(i,"onChange"),0<i.length&&(a=new mi("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var ko=null,Lo=null;function UA(e){Ay(e,0)}function Du(e){var i=fn(e);if(ps(i))return e}function Hp(e,i){if(e==="change")return i}var qp=!1;if(In){var Gh;if(In){var Kh="oninput"in document;if(!Kh){var jp=document.createElement("div");jp.setAttribute("oninput","return;"),Kh=typeof jp.oninput=="function"}Gh=Kh}else Gh=!1;qp=Gh&&(!document.documentMode||9<document.documentMode)}function Fp(){ko&&(ko.detachEvent("onpropertychange",Gp),Lo=ko=null)}function Gp(e){if(e.propertyName==="value"&&Du(Lo)){var i=[];Bp(i,Lo,e,wn(e)),mr(UA,i)}}function PA(e,i,a){e==="focusin"?(Fp(),ko=i,Lo=a,ko.attachEvent("onpropertychange",Gp)):e==="focusout"&&Fp()}function kA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Du(Lo)}function LA(e,i){if(e==="click")return Du(i)}function xA(e,i){if(e==="input"||e==="change")return Du(i)}function zA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var mn=typeof Object.is=="function"?Object.is:zA;function xo(e,i){if(mn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_e.call(i,h)||!mn(e[h],i[h]))return!1}return!0}function Kp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yp(e,i){var a=Kp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Kp(a)}}function Qp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Qp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Xp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=hi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=hi(e.document)}return i}function Yh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var BA=In&&"documentMode"in document&&11>=document.documentMode,ya=null,Qh=null,zo=null,Xh=!1;function Jp(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xh||ya==null||ya!==hi(o)||(o=ya,"selectionStart"in o&&Yh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zo&&xo(zo,o)||(zo=o,o=_c(Qh,"onSelect"),0<o.length&&(i=new mi("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ya)))}function bs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var va={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},Jh={},$p={};In&&($p=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function Rs(e){if(Jh[e])return Jh[e];if(!va[e])return e;var i=va[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in $p)return Jh[e]=i[a];return e}var Zp=Rs("animationend"),Wp=Rs("animationiteration"),tg=Rs("animationstart"),HA=Rs("transitionrun"),qA=Rs("transitionstart"),jA=Rs("transitioncancel"),eg=Rs("transitionend"),ng=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function Yn(e,i){ng.set(e,i),ui(i,[e])}var Ou=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dn=[],Ea=0,Zh=0;function Nu(){for(var e=Ea,i=Zh=Ea=0;i<e;){var a=Dn[i];Dn[i++]=null;var o=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var f=Dn[i];if(Dn[i++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&ig(a,h,f)}}function Mu(e,i,a,o){Dn[Ea++]=e,Dn[Ea++]=i,Dn[Ea++]=a,Dn[Ea++]=o,Zh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Wh(e,i,a,o){return Mu(e,i,a,o),Vu(e)}function ws(e,i){return Mu(e,null,null,i),Vu(e)}function ig(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-fe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Vu(e){if(50<ol)throw ol=0,ud=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ta={};function FA(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,i,a,o){return new FA(e,i,a,o)}function tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,i){var a=e.alternate;return a===null?(a=pn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function rg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Uu(e,i,a,o,h,f){var g=0;if(o=e,typeof e=="function")tf(e)&&(g=1);else if(typeof e=="string")g=XS(e,a,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=pn(31,a,i,h),e.elementType=C,e.lanes=f,e;case W:return Is(a.children,h,f,i);case $:g=8,h|=24;break;case ot:return e=pn(12,a,i,h|2),e.elementType=ot,e.lanes=f,e;case Jt:return e=pn(13,a,i,h),e.elementType=Jt,e.lanes=f,e;case It:return e=pn(19,a,i,h),e.elementType=It,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ut:g=10;break t;case pt:g=9;break t;case At:g=11;break t;case I:g=14;break t;case S:g=16,o=null;break t}g=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=pn(g,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function Is(e,i,a,o){return e=pn(7,e,o,i),e.lanes=a,e}function ef(e,i,a){return e=pn(6,e,null,i),e.lanes=a,e}function sg(e){var i=pn(18,null,null,0);return i.stateNode=e,i}function nf(e,i,a){return i=pn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ag=new WeakMap;function On(e,i){if(typeof e=="object"&&e!==null){var a=ag.get(e);return a!==void 0?a:(i={value:e,source:i,stack:go(i)},ag.set(e,i),i)}return{value:e,source:i,stack:go(i)}}var Aa=[],Sa=0,Pu=null,Bo=0,Nn=[],Mn=0,yr=null,yi=1,vi="";function xi(e,i){Aa[Sa++]=Bo,Aa[Sa++]=Pu,Pu=e,Bo=i}function og(e,i,a){Nn[Mn++]=yi,Nn[Mn++]=vi,Nn[Mn++]=yr,yr=e;var o=yi;e=vi;var h=32-fe(o)-1;o&=~(1<<h),a+=1;var f=32-fe(i)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,yi=1<<32-fe(i)+h|a<<h|o,vi=f+e}else yi=1<<f|a<<h|o,vi=e}function rf(e){e.return!==null&&(xi(e,1),og(e,1,0))}function sf(e){for(;e===Pu;)Pu=Aa[--Sa],Aa[Sa]=null,Bo=Aa[--Sa],Aa[Sa]=null;for(;e===yr;)yr=Nn[--Mn],Nn[Mn]=null,vi=Nn[--Mn],Nn[Mn]=null,yi=Nn[--Mn],Nn[Mn]=null}function lg(e,i){Nn[Mn++]=yi,Nn[Mn++]=vi,Nn[Mn++]=yr,yi=i.id,vi=i.overflow,yr=e}var He=null,Zt=null,Vt=!1,vr=null,Vn=!1,af=Error(s(519));function Er(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ho(On(i,e)),af}function ug(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[ve]=e,i[Ue]=o,a){case"dialog":wt("cancel",i),wt("close",i);break;case"iframe":case"object":case"embed":wt("load",i);break;case"video":case"audio":for(a=0;a<ul.length;a++)wt(ul[a],i);break;case"source":wt("error",i);break;case"img":case"image":case"link":wt("error",i),wt("load",i);break;case"details":wt("toggle",i);break;case"input":wt("invalid",i),mu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":wt("invalid",i);break;case"textarea":wt("invalid",i),hr(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||wy(i.textContent,a)?(o.popover!=null&&(wt("beforetoggle",i),wt("toggle",i)),o.onScroll!=null&&wt("scroll",i),o.onScrollEnd!=null&&wt("scrollend",i),o.onClick!=null&&(i.onclick=qn),i=!0):i=!1,i||Er(e,!0)}function cg(e){for(He=e.return;He;)switch(He.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:He=He.return}}function ba(e){if(e!==He)return!1;if(!Vt)return cg(e),Vt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||bd(e.type,e.memoizedProps)),a=!a),a&&Zt&&Er(e),cg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Zt=Py(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Zt=Py(e)}else i===27?(i=Zt,Ur(e.type)?(e=Dd,Dd=null,Zt=e):Zt=i):Zt=He?Pn(e.stateNode.nextSibling):null;return!0}function Cs(){Zt=He=null,Vt=!1}function of(){var e=vr;return e!==null&&(un===null?un=e:un.push.apply(un,e),vr=null),e}function Ho(e){vr===null?vr=[e]:vr.push(e)}var lf=M(null),Ds=null,zi=null;function Tr(e,i,a){et(lf,i._currentValue),i._currentValue=a}function Bi(e){e._currentValue=lf.current,Y(lf)}function uf(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function cf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var w=0;w<i.length;w++)if(E.context===i[w]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),uf(f.return,a,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),uf(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ra(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=h.type;mn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}h=h.return}e!==null&&cf(i,e,a,o),i.flags|=262144}function ku(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Os(e){Ds=e,zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return hg(Ds,e)}function Lu(e,i){return Ds===null&&Os(e),hg(e,i)}function hg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},zi===null){if(e===null)throw Error(s(308));zi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else zi=zi.next=i;return a}var GA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},KA=r.unstable_scheduleCallback,YA=r.unstable_NormalPriority,Ae={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new GA,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&KA(YA,function(){e.controller.abort()})}var jo=null,ff=0,wa=0,Ia=null;function QA(e,i){if(jo===null){var a=jo=[];ff=0,wa=pd(),Ia={status:"pending",value:void 0,then:function(o){a.push(o)}}}return ff++,i.then(fg,fg),i}function fg(){if(--ff===0&&jo!==null){Ia!==null&&(Ia.status="fulfilled");var e=jo;jo=null,wa=0,Ia=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function XA(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var dg=F.S;F.S=function(e,i){J_=We(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&QA(e,i),dg!==null&&dg(e,i)};var Ns=M(null);function df(){var e=Ns.current;return e!==null?e:$t.pooledCache}function xu(e,i){i===null?et(Ns,Ns.current):et(Ns,i.pool)}function mg(){var e=df();return e===null?null:{parent:Ae._currentValue,pool:e}}var Ca=Error(s(460)),mf=Error(s(474)),zu=Error(s(542)),Bu={then:function(){}};function pg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(qn,qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,yg(e),e;default:if(typeof i.status=="string")i.then(qn,qn);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,yg(e),e}throw Vs=i,Ca}}function Ms(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Vs=a,Ca):a}}var Vs=null;function _g(){if(Vs===null)throw Error(s(459));var e=Vs;return Vs=null,e}function yg(e){if(e===Ca||e===zu)throw Error(s(483))}var Da=null,Fo=0;function Hu(e){var i=Fo;return Fo+=1,Da===null&&(Da=[]),gg(Da,e,i)}function Go(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function qu(e,i){throw i.$$typeof===O?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function vg(e){function i(U,D){if(e){var L=U.deletions;L===null?(U.deletions=[D],U.flags|=16):L.push(D)}}function a(U,D){if(!e)return null;for(;D!==null;)i(U,D),D=D.sibling;return null}function o(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=Li(U,D),U.index=0,U.sibling=null,U}function f(U,D,L){return U.index=L,e?(L=U.alternate,L!==null?(L=L.index,L<D?(U.flags|=67108866,D):L):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,L,G){return D===null||D.tag!==6?(D=ef(L,U.mode,G),D.return=U,D):(D=h(D,L),D.return=U,D)}function w(U,D,L,G){var lt=L.type;return lt===W?j(U,D,L.props.children,G,L.key):D!==null&&(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&Ms(lt)===D.type)?(D=h(D,L.props),Go(D,L),D.return=U,D):(D=Uu(L.type,L.key,L.props,null,U.mode,G),Go(D,L),D.return=U,D)}function x(U,D,L,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=nf(L,U.mode,G),D.return=U,D):(D=h(D,L.children||[]),D.return=U,D)}function j(U,D,L,G,lt){return D===null||D.tag!==7?(D=Is(L,U.mode,G,lt),D.return=U,D):(D=h(D,L),D.return=U,D)}function K(U,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=ef(""+D,U.mode,L),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case q:return L=Uu(D.type,D.key,D.props,null,U.mode,L),Go(L,D),L.return=U,L;case J:return D=nf(D,U.mode,L),D.return=U,D;case S:return D=Ms(D),K(U,D,L)}if(Ce(D)||P(D))return D=Is(D,U.mode,L,null),D.return=U,D;if(typeof D.then=="function")return K(U,Hu(D),L);if(D.$$typeof===ut)return K(U,Lu(U,D),L);qu(U,D)}return null}function z(U,D,L,G){var lt=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return lt!==null?null:E(U,D,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case q:return L.key===lt?w(U,D,L,G):null;case J:return L.key===lt?x(U,D,L,G):null;case S:return L=Ms(L),z(U,D,L,G)}if(Ce(L)||P(L))return lt!==null?null:j(U,D,L,G,null);if(typeof L.then=="function")return z(U,D,Hu(L),G);if(L.$$typeof===ut)return z(U,D,Lu(U,L),G);qu(U,L)}return null}function H(U,D,L,G,lt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(L)||null,E(D,U,""+G,lt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case q:return U=U.get(G.key===null?L:G.key)||null,w(D,U,G,lt);case J:return U=U.get(G.key===null?L:G.key)||null,x(D,U,G,lt);case S:return G=Ms(G),H(U,D,L,G,lt)}if(Ce(G)||P(G))return U=U.get(L)||null,j(D,U,G,lt,null);if(typeof G.then=="function")return H(U,D,L,Hu(G),lt);if(G.$$typeof===ut)return H(U,D,L,Lu(D,G),lt);qu(D,G)}return null}function rt(U,D,L,G){for(var lt=null,Lt=null,st=D,bt=D=0,Dt=null;st!==null&&bt<L.length;bt++){st.index>bt?(Dt=st,st=null):Dt=st.sibling;var xt=z(U,st,L[bt],G);if(xt===null){st===null&&(st=Dt);break}e&&st&&xt.alternate===null&&i(U,st),D=f(xt,D,bt),Lt===null?lt=xt:Lt.sibling=xt,Lt=xt,st=Dt}if(bt===L.length)return a(U,st),Vt&&xi(U,bt),lt;if(st===null){for(;bt<L.length;bt++)st=K(U,L[bt],G),st!==null&&(D=f(st,D,bt),Lt===null?lt=st:Lt.sibling=st,Lt=st);return Vt&&xi(U,bt),lt}for(st=o(st);bt<L.length;bt++)Dt=H(st,U,bt,L[bt],G),Dt!==null&&(e&&Dt.alternate!==null&&st.delete(Dt.key===null?bt:Dt.key),D=f(Dt,D,bt),Lt===null?lt=Dt:Lt.sibling=Dt,Lt=Dt);return e&&st.forEach(function(zr){return i(U,zr)}),Vt&&xi(U,bt),lt}function ft(U,D,L,G){if(L==null)throw Error(s(151));for(var lt=null,Lt=null,st=D,bt=D=0,Dt=null,xt=L.next();st!==null&&!xt.done;bt++,xt=L.next()){st.index>bt?(Dt=st,st=null):Dt=st.sibling;var zr=z(U,st,xt.value,G);if(zr===null){st===null&&(st=Dt);break}e&&st&&zr.alternate===null&&i(U,st),D=f(zr,D,bt),Lt===null?lt=zr:Lt.sibling=zr,Lt=zr,st=Dt}if(xt.done)return a(U,st),Vt&&xi(U,bt),lt;if(st===null){for(;!xt.done;bt++,xt=L.next())xt=K(U,xt.value,G),xt!==null&&(D=f(xt,D,bt),Lt===null?lt=xt:Lt.sibling=xt,Lt=xt);return Vt&&xi(U,bt),lt}for(st=o(st);!xt.done;bt++,xt=L.next())xt=H(st,U,bt,xt.value,G),xt!==null&&(e&&xt.alternate!==null&&st.delete(xt.key===null?bt:xt.key),D=f(xt,D,bt),Lt===null?lt=xt:Lt.sibling=xt,Lt=xt);return e&&st.forEach(function(ab){return i(U,ab)}),Vt&&xi(U,bt),lt}function Xt(U,D,L,G){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case q:t:{for(var lt=L.key;D!==null;){if(D.key===lt){if(lt=L.type,lt===W){if(D.tag===7){a(U,D.sibling),G=h(D,L.props.children),G.return=U,U=G;break t}}else if(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&Ms(lt)===D.type){a(U,D.sibling),G=h(D,L.props),Go(G,L),G.return=U,U=G;break t}a(U,D);break}else i(U,D);D=D.sibling}L.type===W?(G=Is(L.props.children,U.mode,G,L.key),G.return=U,U=G):(G=Uu(L.type,L.key,L.props,null,U.mode,G),Go(G,L),G.return=U,U=G)}return g(U);case J:t:{for(lt=L.key;D!==null;){if(D.key===lt)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){a(U,D.sibling),G=h(D,L.children||[]),G.return=U,U=G;break t}else{a(U,D);break}else i(U,D);D=D.sibling}G=nf(L,U.mode,G),G.return=U,U=G}return g(U);case S:return L=Ms(L),Xt(U,D,L,G)}if(Ce(L))return rt(U,D,L,G);if(P(L)){if(lt=P(L),typeof lt!="function")throw Error(s(150));return L=lt.call(L),ft(U,D,L,G)}if(typeof L.then=="function")return Xt(U,D,Hu(L),G);if(L.$$typeof===ut)return Xt(U,D,Lu(U,L),G);qu(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(a(U,D.sibling),G=h(D,L),G.return=U,U=G):(a(U,D),G=ef(L,U.mode,G),G.return=U,U=G),g(U)):a(U,D)}return function(U,D,L,G){try{Fo=0;var lt=Xt(U,D,L,G);return Da=null,lt}catch(st){if(st===Ca||st===zu)throw st;var Lt=pn(29,st,null,U.mode);return Lt.lanes=G,Lt.return=U,Lt}}}var Us=vg(!0),Eg=vg(!1),Ar=!1;function pf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Sr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function br(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Vu(e),ig(e,null,a),i}return Mu(e,o,i,a),Vu(e)}function Ko(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,vo(e,a)}}function _f(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var yf=!1;function Yo(){if(yf){var e=Ia;if(e!==null)throw e}}function Qo(e,i,a,o){yf=!1;var h=e.updateQueue;Ar=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var w=E,x=w.next;w.next=null,g===null?f=x:g.next=x,g=w;var j=e.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==g&&(E===null?j.firstBaseUpdate=x:E.next=x,j.lastBaseUpdate=w))}if(f!==null){var K=h.baseState;g=0,j=x=w=null,E=f;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(Ct&z)===z:(o&z)===z){z!==0&&z===wa&&(yf=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,ft=E;z=i;var Xt=a;switch(ft.tag){case 1:if(rt=ft.payload,typeof rt=="function"){K=rt.call(Xt,K,z);break t}K=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=ft.payload,z=typeof rt=="function"?rt.call(Xt,K,z):rt,z==null)break t;K=b({},K,z);break t;case 2:Ar=!0}}z=E.callback,z!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(x=j=H,w=K):j=j.next=H,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);j===null&&(w=K),h.baseState=w,h.firstBaseUpdate=x,h.lastBaseUpdate=j,f===null&&(h.shared.lanes=0),Dr|=g,e.lanes=g,e.memoizedState=K}}function Tg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Ag(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Tg(a[e],i)}var Oa=M(null),ju=M(0);function Sg(e,i){e=Xi,et(ju,e),et(Oa,i),Xi=e|i.baseLanes}function vf(){et(ju,Xi),et(Oa,Oa.current)}function Ef(){Xi=ju.current,Y(Oa),Y(ju)}var gn=M(null),Un=null;function Rr(e){var i=e.alternate;et(me,me.current&1),et(gn,e),Un===null&&(i===null||Oa.current!==null||i.memoizedState!==null)&&(Un=e)}function Tf(e){et(me,me.current),et(gn,e),Un===null&&(Un=e)}function bg(e){e.tag===22?(et(me,me.current),et(gn,e),Un===null&&(Un=e)):wr()}function wr(){et(me,me.current),et(gn,gn.current)}function _n(e){Y(gn),Un===e&&(Un=null),Y(me)}var me=M(0);function Fu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Id(a)||Cd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Hi=0,Tt=null,Yt=null,Se=null,Gu=!1,Na=!1,Ps=!1,Ku=0,Xo=0,Ma=null,JA=0;function oe(){throw Error(s(321))}function Af(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!mn(e[a],i[a]))return!1;return!0}function Sf(e,i,a,o,h,f){return Hi=f,Tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=e===null||e.memoizedState===null?o_:xf,Ps=!1,f=a(o,h),Ps=!1,Na&&(f=wg(i,a,o,h)),Rg(e),f}function Rg(e){F.H=Zo;var i=Yt!==null&&Yt.next!==null;if(Hi=0,Se=Yt=Tt=null,Gu=!1,Xo=0,Ma=null,i)throw Error(s(300));e===null||be||(e=e.dependencies,e!==null&&ku(e)&&(be=!0))}function wg(e,i,a,o){Tt=e;var h=0;do{if(Na&&(Ma=null),Xo=0,Na=!1,25<=h)throw Error(s(301));if(h+=1,Se=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=l_,f=i(a,o)}while(Na);return f}function $A(){var e=F.H,i=e.useState()[0];return i=typeof i.then=="function"?Jo(i):i,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(Tt.flags|=1024),i}function bf(){var e=Ku!==0;return Ku=0,e}function Rf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function wf(e){if(Gu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Gu=!1}Hi=0,Se=Yt=Tt=null,Na=!1,Xo=Ku=0,Ma=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Tt.memoizedState=Se=e:Se=Se.next=e,Se}function pe(){if(Yt===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var i=Se===null?Tt.memoizedState:Se.next;if(i!==null)Se=i,Yt=e;else{if(e===null)throw Tt.alternate===null?Error(s(467)):Error(s(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Se===null?Tt.memoizedState=Se=e:Se=Se.next=e}return Se}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(e){var i=Xo;return Xo+=1,Ma===null&&(Ma=[]),e=gg(Ma,e,i),i=Tt,(Se===null?i.memoizedState:Se.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?o_:xf),e}function Qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jo(e);if(e.$$typeof===ut)return qe(e)}throw Error(s(438,String(e)))}function If(e){var i=null,a=Tt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Tt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Yu(),Tt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=V;return i.index++,a}function qi(e,i){return typeof i=="function"?i(e):i}function Xu(e){var i=pe();return Cf(i,Yt,e)}function Cf(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=g=null,w=null,x=i,j=!1;do{var K=x.lane&-536870913;if(K!==x.lane?(Ct&K)===K:(Hi&K)===K){var z=x.revertLane;if(z===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),K===wa&&(j=!0);else if((Hi&z)===z){x=x.next,z===wa&&(j=!0);continue}else K={lane:0,revertLane:x.revertLane,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},w===null?(E=w=K,g=f):w=w.next=K,Tt.lanes|=z,Dr|=z;K=x.action,Ps&&a(f,K),f=x.hasEagerState?x.eagerState:a(f,K)}else z={lane:K,revertLane:x.revertLane,gesture:x.gesture,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},w===null?(E=w=z,g=f):w=w.next=z,Tt.lanes|=K,Dr|=K;x=x.next}while(x!==null&&x!==i);if(w===null?g=f:w.next=E,!mn(f,e.memoizedState)&&(be=!0,j&&(a=Ia,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=w,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Df(e){var i=pe(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);mn(f,i.memoizedState)||(be=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Ig(e,i,a){var o=Tt,h=pe(),f=Vt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var g=!mn((Yt||h).memoizedState,a);if(g&&(h.memoizedState=a,be=!0),h=h.queue,Mf(Og.bind(null,o,h,e),[e]),h.getSnapshot!==i||g||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,Va(9,{destroy:void 0},Dg.bind(null,o,h,a,i),null),$t===null)throw Error(s(349));f||(Hi&127)!==0||Cg(o,i,a)}return a}function Cg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Tt.updateQueue,i===null?(i=Yu(),Tt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Dg(e,i,a,o){i.value=a,i.getSnapshot=o,Ng(i)&&Mg(e)}function Og(e,i,a){return a(function(){Ng(i)&&Mg(e)})}function Ng(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!mn(e,a)}catch{return!0}}function Mg(e){var i=ws(e,2);i!==null&&cn(i,e,2)}function Of(e){var i=en();if(typeof e=="function"){var a=e;if(e=a(),Ps){bn(!0);try{a()}finally{bn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},i}function Vg(e,i,a,o){return e.baseState=a,Cf(e,Yt,typeof o=="function"?o:qi)}function ZA(e,i,a,o,h){if(Zu(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Ug(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Ug(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=F.T,g={};F.T=g;try{var E=a(h,o),w=F.S;w!==null&&w(g,E),Pg(e,i,E)}catch(x){Nf(e,i,x)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=a(h,o),Pg(e,i,f)}catch(x){Nf(e,i,x)}}function Pg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){kg(e,i,o)},function(o){return Nf(e,i,o)}):kg(e,i,a)}function kg(e,i,a){i.status="fulfilled",i.value=a,Lg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Ug(e,a)))}function Nf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Lg(i),i=i.next;while(i!==o)}e.action=null}function Lg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function xg(e,i){return i}function zg(e,i){if(Vt){var a=$t.formState;if(a!==null){t:{var o=Tt;if(Vt){if(Zt){e:{for(var h=Zt,f=Vn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Zt=Pn(h.nextSibling),o=h.data==="F!";break t}}Er(o)}o=!1}o&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xg,lastRenderedState:i},a.queue=o,a=r_.bind(null,Tt,o),o.dispatch=a,o=Of(!1),f=Lf.bind(null,Tt,!1,o.queue),o=en(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=ZA.bind(null,Tt,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Bg(e){var i=pe();return Hg(i,Yt,e)}function Hg(e,i,a){if(i=Cf(e,i,xg)[0],e=Xu(qi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Jo(i)}catch(g){throw g===Ca?zu:g}else o=i;i=pe();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Tt.flags|=2048,Va(9,{destroy:void 0},WA.bind(null,h,a),null)),[o,f,e]}function WA(e,i){e.action=i}function qg(e){var i=pe(),a=Yt;if(a!==null)return Hg(i,a,e);pe(),i=i.memoizedState,a=pe();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Va(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=Tt.updateQueue,i===null&&(i=Yu(),Tt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function jg(){return pe().memoizedState}function Ju(e,i,a,o){var h=en();Tt.flags|=e,h.memoizedState=Va(1|i,{destroy:void 0},a,o===void 0?null:o)}function $u(e,i,a,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;Yt!==null&&o!==null&&Af(o,Yt.memoizedState.deps)?h.memoizedState=Va(i,f,a,o):(Tt.flags|=e,h.memoizedState=Va(1|i,f,a,o))}function Fg(e,i){Ju(8390656,8,e,i)}function Mf(e,i){$u(2048,8,e,i)}function tS(e){Tt.flags|=4;var i=Tt.updateQueue;if(i===null)i=Yu(),Tt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Gg(e){var i=pe().memoizedState;return tS({ref:i,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Kg(e,i){return $u(4,2,e,i)}function Yg(e,i){return $u(4,4,e,i)}function Qg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Xg(e,i,a){a=a!=null?a.concat([e]):null,$u(4,4,Qg.bind(null,i,e),a)}function Vf(){}function Jg(e,i){var a=pe();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Af(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function $g(e,i){var a=pe();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Af(i,o[1]))return o[0];if(o=e(),Ps){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[o,i],o}function Uf(e,i,a){return a===void 0||(Hi&1073741824)!==0&&(Ct&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=Z_(),Tt.lanes|=e,Dr|=e,a)}function Zg(e,i,a,o){return mn(a,i)?a:Oa.current!==null?(e=Uf(e,a,o),mn(e,i)||(be=!0),e):(Hi&42)===0||(Hi&1073741824)!==0&&(Ct&261930)===0?(be=!0,e.memoizedState=a):(e=Z_(),Tt.lanes|=e,Dr|=e,i)}function Wg(e,i,a,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,Lf(e,!1,i,a);try{var w=h(),x=F.S;if(x!==null&&x(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var j=XA(w,o);$o(e,i,j,En(e))}else $o(e,i,o,En(e))}catch(K){$o(e,i,{then:function(){},status:"rejected",reason:K},En())}finally{tt.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function eS(){}function Pf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=t_(e).queue;Wg(e,h,i,ct,a===null?eS:function(){return e_(e),a(o)})}function t_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:ct},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function e_(e){var i=t_(e);i.next===null&&(i=e.alternate.memoizedState),$o(e,i.next.queue,{},En())}function kf(){return qe(ml)}function n_(){return pe().memoizedState}function i_(){return pe().memoizedState}function nS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=En();e=Sr(a);var o=br(i,e,a);o!==null&&(cn(o,i,a),Ko(o,i,a)),i={cache:hf()},e.payload=i;return}i=i.return}}function iS(e,i,a){var o=En();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Zu(e)?s_(i,a):(a=Wh(e,i,a,o),a!==null&&(cn(a,e,o),a_(a,i,o)))}function r_(e,i,a){var o=En();$o(e,i,a,o)}function $o(e,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zu(e))s_(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var g=i.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,mn(E,g))return Mu(e,i,h,0),$t===null&&Nu(),!1}catch{}if(a=Wh(e,i,h,o),a!==null)return cn(a,e,o),a_(a,i,o),!0}return!1}function Lf(e,i,a,o){if(o={lane:2,revertLane:pd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Zu(e)){if(i)throw Error(s(479))}else i=Wh(e,a,o,2),i!==null&&cn(i,e,2)}function Zu(e){var i=e.alternate;return e===Tt||i!==null&&i===Tt}function s_(e,i){Na=Gu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function a_(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,vo(e,a)}}var Zo={readContext:qe,use:Qu,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe};Zo.useEffectEvent=oe;var o_={readContext:qe,use:Qu,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:qe,useEffect:Fg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Ju(4194308,4,Qg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Ju(4194308,4,e,i)},useInsertionEffect:function(e,i){Ju(4,2,e,i)},useMemo:function(e,i){var a=en();i=i===void 0?null:i;var o=e();if(Ps){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=en();if(a!==void 0){var h=a(i);if(Ps){bn(!0);try{a(i)}finally{bn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=iS.bind(null,Tt,e),[o.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=Of(e);var i=e.queue,a=r_.bind(null,Tt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Vf,useDeferredValue:function(e,i){var a=en();return Uf(a,e,i)},useTransition:function(){var e=Of(!1);return e=Wg.bind(null,Tt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=Tt,h=en();if(Vt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),$t===null)throw Error(s(349));(Ct&127)!==0||Cg(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Fg(Og.bind(null,o,f,e),[e]),o.flags|=2048,Va(9,{destroy:void 0},Dg.bind(null,o,f,a,i),null),a},useId:function(){var e=en(),i=$t.identifierPrefix;if(Vt){var a=vi,o=yi;a=(o&~(1<<32-fe(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Ku++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=JA++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:kf,useFormState:zg,useActionState:zg,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Lf.bind(null,Tt,!0,a),a.dispatch=i,[e,i]},useMemoCache:If,useCacheRefresh:function(){return en().memoizedState=nS.bind(null,Tt)},useEffectEvent:function(e){var i=en(),a={impl:e};return i.memoizedState=a,function(){if((Bt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},xf={readContext:qe,use:Qu,useCallback:Jg,useContext:qe,useEffect:Mf,useImperativeHandle:Xg,useInsertionEffect:Kg,useLayoutEffect:Yg,useMemo:$g,useReducer:Xu,useRef:jg,useState:function(){return Xu(qi)},useDebugValue:Vf,useDeferredValue:function(e,i){var a=pe();return Zg(a,Yt.memoizedState,e,i)},useTransition:function(){var e=Xu(qi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:Jo(e),i]},useSyncExternalStore:Ig,useId:n_,useHostTransitionStatus:kf,useFormState:Bg,useActionState:Bg,useOptimistic:function(e,i){var a=pe();return Vg(a,Yt,e,i)},useMemoCache:If,useCacheRefresh:i_};xf.useEffectEvent=Gg;var l_={readContext:qe,use:Qu,useCallback:Jg,useContext:qe,useEffect:Mf,useImperativeHandle:Xg,useInsertionEffect:Kg,useLayoutEffect:Yg,useMemo:$g,useReducer:Df,useRef:jg,useState:function(){return Df(qi)},useDebugValue:Vf,useDeferredValue:function(e,i){var a=pe();return Yt===null?Uf(a,e,i):Zg(a,Yt.memoizedState,e,i)},useTransition:function(){var e=Df(qi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:Jo(e),i]},useSyncExternalStore:Ig,useId:n_,useHostTransitionStatus:kf,useFormState:qg,useActionState:qg,useOptimistic:function(e,i){var a=pe();return Yt!==null?Vg(a,Yt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:If,useCacheRefresh:i_};l_.useEffectEvent=Gg;function zf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:b({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Bf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=En(),h=Sr(o);h.payload=i,a!=null&&(h.callback=a),i=br(e,h,o),i!==null&&(cn(i,e,o),Ko(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=En(),h=Sr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=br(e,h,o),i!==null&&(cn(i,e,o),Ko(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=En(),o=Sr(a);o.tag=2,i!=null&&(o.callback=i),i=br(e,o,a),i!==null&&(cn(i,e,a),Ko(i,e,a))}};function u_(e,i,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):i.prototype&&i.prototype.isPureReactComponent?!xo(a,o)||!xo(h,f):!0}function c_(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Bf.enqueueReplaceState(i,i.state,null)}function ks(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=b({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function h_(e){Ou(e)}function f_(e){console.error(e)}function d_(e){Ou(e)}function Wu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function m_(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Hf(e,i,a){return a=Sr(a),a.tag=3,a.payload={element:null},a.callback=function(){Wu(e,i)},a}function p_(e){return e=Sr(e),e.tag=3,e}function g_(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){m_(i,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){m_(i,a,o),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function rS(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Ra(i,a,h,!0),a=gn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?hc():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Bu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),fd(e,o,h)),!1;case 22:return a.flags|=65536,o===Bu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),fd(e,o,h)),!1}throw Error(s(435,a.tag))}return fd(e,o,h),hc(),!1}if(Vt)return i=gn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==af&&(e=Error(s(422),{cause:o}),Ho(On(e,a)))):(o!==af&&(i=Error(s(423),{cause:o}),Ho(On(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=On(o,a),h=Hf(e.stateNode,o,h),_f(e,h),le!==4&&(le=2)),!1;var f=Error(s(520),{cause:o});if(f=On(f,a),al===null?al=[f]:al.push(f),le!==4&&(le=2),i===null)return!0;o=On(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Hf(a.stateNode,o,e),_f(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Or===null||!Or.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=p_(h),g_(h,e,a,o),_f(a,h),!1}a=a.return}while(a!==null);return!1}var qf=Error(s(461)),be=!1;function je(e,i,a,o){i.child=e===null?Eg(i,null,a,o):Us(i,e.child,a,o)}function __(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Os(i),o=Sf(e,i,a,g,f,h),E=bf(),e!==null&&!be?(Rf(e,i,h),ji(e,i,h)):(Vt&&E&&rf(i),i.flags|=1,je(e,i,o,h),i.child)}function y_(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!tf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,v_(e,i,f,o,h)):(e=Uu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!Jf(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:xo,a(g,o)&&e.ref===i.ref)return ji(e,i,h)}return i.flags|=1,e=Li(f,o),e.ref=i.ref,e.return=i,i.child=e}function v_(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(xo(f,o)&&e.ref===i.ref)if(be=!1,i.pendingProps=o=f,Jf(e,h))(e.flags&131072)!==0&&(be=!0);else return i.lanes=e.lanes,ji(e,i,h)}return jf(e,i,a,o,h)}function E_(e,i,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return T_(e,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&xu(i,f!==null?f.cachePool:null),f!==null?Sg(i,f):vf(),bg(i);else return o=i.lanes=536870912,T_(e,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(xu(i,f.cachePool),Sg(i,f),wr(),i.memoizedState=null):(e!==null&&xu(i,null),vf(),wr());return je(e,i,h,a),i.child}function Wo(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function T_(e,i,a,o,h){var f=df();return f=f===null?null:{parent:Ae._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},e!==null&&xu(i,null),vf(),bg(i),e!==null&&Ra(e,i,o,!0),i.childLanes=h,null}function tc(e,i){return i=nc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function A_(e,i,a){return Us(i,e.child,null,a),e=tc(i,i.pendingProps),e.flags|=2,_n(i),i.memoizedState=null,e}function sS(e,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=tc(i,o),i.lanes=536870912,Wo(null,e);if(Tf(i),(e=Zt)?(e=Uy(e,Vn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:yr!==null?{id:yi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=sg(e),a.return=i,i.child=a,He=i,Zt=null)):e=null,e===null)throw Er(i);return i.lanes=536870912,null}return tc(i,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Tf(i),h)if(i.flags&256)i.flags&=-257,i=A_(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(be||Ra(e,i,a,!1),h=(a&e.childLanes)!==0,be||h){if(o=$t,o!==null&&(g=Eo(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,ws(e,g),cn(o,e,g),qf;hc(),i=A_(e,i,a)}else e=f.treeContext,Zt=Pn(g.nextSibling),He=i,Vt=!0,vr=null,Vn=!1,e!==null&&lg(i,e),i=tc(i,o),i.flags|=4096;return i}return e=Li(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function ec(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function jf(e,i,a,o,h){return Os(i),a=Sf(e,i,a,o,void 0,h),o=bf(),e!==null&&!be?(Rf(e,i,h),ji(e,i,h)):(Vt&&o&&rf(i),i.flags|=1,je(e,i,a,h),i.child)}function S_(e,i,a,o,h,f){return Os(i),i.updateQueue=null,a=wg(i,o,a,h),Rg(e),o=bf(),e!==null&&!be?(Rf(e,i,f),ji(e,i,f)):(Vt&&o&&rf(i),i.flags|=1,je(e,i,a,f),i.child)}function b_(e,i,a,o,h){if(Os(i),i.stateNode===null){var f=Ta,g=a.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Bf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},pf(i),g=a.contextType,f.context=typeof g=="object"&&g!==null?qe(g):Ta,f.state=i.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(zf(i,a,g,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Bf.enqueueReplaceState(f,f.state,null),Qo(i,o,f,h),Yo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,w=ks(a,E);f.props=w;var x=f.context,j=a.contextType;g=Ta,typeof j=="object"&&j!==null&&(g=qe(j));var K=a.getDerivedStateFromProps;j=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||x!==g)&&c_(i,f,o,g),Ar=!1;var z=i.memoizedState;f.state=z,Qo(i,o,f,h),Yo(),x=i.memoizedState,E||z!==x||Ar?(typeof K=="function"&&(zf(i,a,K,o),x=i.memoizedState),(w=Ar||u_(i,a,w,o,z,x,g))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=x),f.props=o,f.state=x,f.context=g,o=w):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,gf(e,i),g=i.memoizedProps,j=ks(a,g),f.props=j,K=i.pendingProps,z=f.context,x=a.contextType,w=Ta,typeof x=="object"&&x!==null&&(w=qe(x)),E=a.getDerivedStateFromProps,(x=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||z!==w)&&c_(i,f,o,w),Ar=!1,z=i.memoizedState,f.state=z,Qo(i,o,f,h),Yo();var H=i.memoizedState;g!==K||z!==H||Ar||e!==null&&e.dependencies!==null&&ku(e.dependencies)?(typeof E=="function"&&(zf(i,a,E,o),H=i.memoizedState),(j=Ar||u_(i,a,j,o,z,H,w)||e!==null&&e.dependencies!==null&&ku(e.dependencies))?(x||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,w)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=H),f.props=o,f.state=H,f.context=w,o=j):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,ec(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=Us(i,e.child,null,h),i.child=Us(i,null,a,h)):je(e,i,a,h),i.memoizedState=f.state,e=i.child):e=ji(e,i,h),e}function R_(e,i,a,o){return Cs(),i.flags|=256,je(e,i,a,o),i.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(e){return{baseLanes:e,cachePool:mg()}}function Kf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=vn),e}function w_(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),g&&(h=!0,i.flags&=-129),g=(i.flags&32)!==0,i.flags&=-33,e===null){if(Vt){if(h?Rr(i):wr(),(e=Zt)?(e=Uy(e,Vn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:yr!==null?{id:yi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=sg(e),a.return=i,i.child=a,He=i,Zt=null)):e=null,e===null)throw Er(i);return Cd(e)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(wr(),h=i.mode,E=nc({mode:"hidden",children:E},h),o=Is(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=Gf(a),o.childLanes=Kf(e,g,a),i.memoizedState=Ff,Wo(null,o)):(Rr(i),Yf(i,E))}var w=e.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(f)i.flags&256?(Rr(i),i.flags&=-257,i=Qf(e,i,a)):i.memoizedState!==null?(wr(),i.child=e.child,i.flags|=128,i=null):(wr(),E=o.fallback,h=i.mode,o=nc({mode:"visible",children:o.children},h),E=Is(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,Us(i,e.child,null,a),o=i.child,o.memoizedState=Gf(a),o.childLanes=Kf(e,g,a),i.memoizedState=Ff,i=Wo(null,o));else if(Rr(i),Cd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var x=g.dgst;g=x,o=Error(s(419)),o.stack="",o.digest=g,Ho({value:o,source:null,stack:null}),i=Qf(e,i,a)}else if(be||Ra(e,i,a,!1),g=(a&e.childLanes)!==0,be||g){if(g=$t,g!==null&&(o=Eo(g,a),o!==0&&o!==w.retryLane))throw w.retryLane=o,ws(e,o),cn(g,e,o),qf;Id(E)||hc(),i=Qf(e,i,a)}else Id(E)?(i.flags|=192,i.child=e.child,i=null):(e=w.treeContext,Zt=Pn(E.nextSibling),He=i,Vt=!0,vr=null,Vn=!1,e!==null&&lg(i,e),i=Yf(i,o.children),i.flags|=4096);return i}return h?(wr(),E=o.fallback,h=i.mode,w=e.child,x=w.sibling,o=Li(w,{mode:"hidden",children:o.children}),o.subtreeFlags=w.subtreeFlags&65011712,x!==null?E=Li(x,E):(E=Is(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,Wo(null,o),o=i.child,E=e.child.memoizedState,E===null?E=Gf(a):(h=E.cachePool,h!==null?(w=Ae._currentValue,h=h.parent!==w?{parent:w,pool:w}:h):h=mg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Kf(e,g,a),i.memoizedState=Ff,Wo(e.child,o)):(Rr(i),a=e.child,e=a.sibling,a=Li(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(g=i.deletions,g===null?(i.deletions=[e],i.flags|=16):g.push(e)),i.child=a,i.memoizedState=null,a)}function Yf(e,i){return i=nc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function nc(e,i){return e=pn(22,e,null,i),e.lanes=0,e}function Qf(e,i,a){return Us(i,e.child,null,a),e=Yf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function I_(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),uf(e.return,i,a)}function Xf(e,i,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function C_(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=me.current,E=(g&2)!==0;if(E?(g=g&1|2,i.flags|=128):g&=1,et(me,g),je(e,i,o,a),o=Vt?Bo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&I_(e,a,i);else if(e.tag===19)I_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Fu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Xf(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Fu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Xf(i,!0,a,null,f,o);break;case"together":Xf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function ji(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Dr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ra(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Li(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Li(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Jf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&ku(e)))}function aS(e,i,a){switch(i.tag){case 3:De(i,i.stateNode.containerInfo),Tr(i,Ae,e.memoizedState.cache),Cs();break;case 27:case 5:ls(i);break;case 4:De(i,i.stateNode.containerInfo);break;case 10:Tr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Tf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Rr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?w_(e,i,a):(Rr(i),e=ji(e,i,a),e!==null?e.sibling:null);Rr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Ra(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return C_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(me,me.current),o)break;return null;case 22:return i.lanes=0,E_(e,i,a,i.pendingProps);case 24:Tr(i,Ae,e.memoizedState.cache)}return ji(e,i,a)}function D_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)be=!0;else{if(!Jf(e,a)&&(i.flags&128)===0)return be=!1,aS(e,i,a);be=(e.flags&131072)!==0}else be=!1,Vt&&(i.flags&1048576)!==0&&og(i,Bo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=Ms(i.elementType),i.type=e,typeof e=="function")tf(e)?(o=ks(e,o),i.tag=1,i=b_(null,i,e,o,a)):(i.tag=0,i=jf(null,i,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===At){i.tag=11,i=__(null,i,e,o,a);break t}else if(h===I){i.tag=14,i=y_(null,i,e,o,a);break t}}throw i=ee(e)||e,Error(s(306,i,""))}}return i;case 0:return jf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=ks(o,i.pendingProps),b_(e,i,o,h,a);case 3:t:{if(De(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,gf(e,i),Qo(i,o,null,a);var g=i.memoizedState;if(o=g.cache,Tr(i,Ae,o),o!==f.cache&&cf(i,[Ae],a,!0),Yo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=R_(e,i,o,a);break t}else if(o!==h){h=On(Error(s(424)),i),Ho(h),i=R_(e,i,o,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Zt=Pn(e.firstChild),He=i,Vt=!0,vr=null,Vn=!0,a=Eg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Cs(),o===h){i=ji(e,i,a);break t}je(e,i,o,a)}i=i.child}return i;case 26:return ec(e,i),e===null?(a=By(i.type,null,i.pendingProps,null))?i.memoizedState=a:Vt||(a=i.type,e=i.pendingProps,o=yc(St.current).createElement(a),o[ve]=i,o[Ue]=e,Fe(o,a,e),Ee(o),i.stateNode=o):i.memoizedState=By(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ls(i),e===null&&Vt&&(o=i.stateNode=Ly(i.type,i.pendingProps,St.current),He=i,Vn=!0,h=Zt,Ur(i.type)?(Dd=h,Zt=Pn(o.firstChild)):Zt=h),je(e,i,i.pendingProps.children,a),ec(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Vt&&((h=o=Zt)&&(o=kS(o,i.type,i.pendingProps,Vn),o!==null?(i.stateNode=o,He=i,Zt=Pn(o.firstChild),Vn=!1,h=!0):h=!1),h||Er(i)),ls(i),h=i.type,f=i.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,bd(h,f)?o=null:g!==null&&bd(h,g)&&(i.flags|=32),i.memoizedState!==null&&(h=Sf(e,i,$A,null,null,a),ml._currentValue=h),ec(e,i),je(e,i,o,a),i.child;case 6:return e===null&&Vt&&((e=a=Zt)&&(a=LS(a,i.pendingProps,Vn),a!==null?(i.stateNode=a,He=i,Zt=null,e=!0):e=!1),e||Er(i)),null;case 13:return w_(e,i,a);case 4:return De(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Us(i,null,o,a):je(e,i,o,a),i.child;case 11:return __(e,i,i.type,i.pendingProps,a);case 7:return je(e,i,i.pendingProps,a),i.child;case 8:return je(e,i,i.pendingProps.children,a),i.child;case 12:return je(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Tr(i,i.type,o.value),je(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Os(i),h=qe(h),o=o(h),i.flags|=1,je(e,i,o,a),i.child;case 14:return y_(e,i,i.type,i.pendingProps,a);case 15:return v_(e,i,i.type,i.pendingProps,a);case 19:return C_(e,i,a);case 31:return sS(e,i,a);case 22:return E_(e,i,a,i.pendingProps);case 24:return Os(i),o=qe(Ae),e===null?(h=df(),h===null&&(h=$t,f=hf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},pf(i),Tr(i,Ae,h)):((e.lanes&a)!==0&&(gf(e,i),Qo(i,null,null,a),Yo()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Tr(i,Ae,o)):(o=f.cache,Tr(i,Ae,o),o!==h.cache&&cf(i,[Ae],a,!0))),je(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Fi(e){e.flags|=4}function $f(e,i,a,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(ny())e.flags|=8192;else throw Vs=Bu,mf}else e.flags&=-16777217}function O_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gy(i))if(ny())e.flags|=8192;else throw Vs=Bu,mf}function ic(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?uu():536870912,e.lanes|=i,La|=i)}function tl(e,i){if(!Vt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Wt(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function oS(e,i,a){var o=i.pendingProps;switch(sf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(i),null;case 1:return Wt(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Bi(Ae),ne(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ba(i)?Fi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,of())),Wt(i),null;case 26:var h=i.type,f=i.memoizedState;return e===null?(Fi(i),f!==null?(Wt(i),O_(i,f)):(Wt(i),$f(i,h,null,o,a))):f?f!==e.memoizedState?(Fi(i),Wt(i),O_(i,f)):(Wt(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Fi(i),Wt(i),$f(i,h,e,o,a)),null;case 27:if(na(i),a=St.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Fi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return Wt(i),null}e=it.current,ba(i)?ug(i):(e=Ly(h,o,a),i.stateNode=e,Fi(i))}return Wt(i),null;case 5:if(na(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Fi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return Wt(i),null}if(f=it.current,ba(i))ug(i);else{var g=yc(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[ve]=i,f[Ue]=o;t:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break t;for(;g.sibling===null;){if(g.return===null||g.return===i)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Fi(i)}}return Wt(i),$f(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Fi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=St.current,ba(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=He,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||wy(e.nodeValue,a)),e||Er(i,!0)}else e=yc(e).createTextNode(o),e[ve]=i,i.stateNode=e}return Wt(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=ba(i),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ve]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Wt(i),e=!1}else a=of(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Wt(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ba(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Wt(i),h=!1}else h=of(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),ic(i,i.updateQueue),Wt(i),null);case 4:return ne(),e===null&&vd(i.stateNode.containerInfo),Wt(i),null;case 10:return Bi(i.type),Wt(i),null;case 19:if(Y(me),o=i.memoizedState,o===null)return Wt(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)tl(o,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Fu(e),f!==null){for(i.flags|=128,tl(o,!1),e=f.updateQueue,i.updateQueue=e,ic(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)rg(a,e),a=a.sibling;return et(me,me.current&1|2),Vt&&xi(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&We()>lc&&(i.flags|=128,h=!0,tl(o,!1),i.lanes=4194304)}else{if(!h)if(e=Fu(f),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,ic(i,e),tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return Wt(i),null}else 2*We()-o.renderingStartTime>lc&&a!==536870912&&(i.flags|=128,h=!0,tl(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(e=o.last,e!==null?e.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,a=me.current,et(me,h?a&1|2:a&1),Vt&&xi(i,o.treeForkCount),e):(Wt(i),null);case 22:case 23:return _n(i),Ef(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(Wt(i),i.subtreeFlags&6&&(i.flags|=8192)):Wt(i),a=i.updateQueue,a!==null&&ic(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&Y(Ns),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Bi(Ae),Wt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function lS(e,i){switch(sf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Bi(Ae),ne(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return na(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(s(340));Cs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(_n(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Cs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Y(me),null;case 4:return ne(),null;case 10:return Bi(i.type),null;case 22:case 23:return _n(i),Ef(),e!==null&&Y(Ns),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Bi(Ae),null;case 25:return null;default:return null}}function N_(e,i){switch(sf(i),i.tag){case 3:Bi(Ae),ne();break;case 26:case 27:case 5:na(i);break;case 4:ne();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:Y(me);break;case 10:Bi(i.type);break;case 22:case 23:_n(i),Ef(),e!==null&&Y(Ns);break;case 24:Bi(Ae)}}function el(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){Gt(i,i.return,E)}}function Ir(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=i;var w=a,x=E;try{x()}catch(j){Gt(h,w,j)}}}o=o.next}while(o!==f)}}catch(j){Gt(i,i.return,j)}}function M_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Ag(i,a)}catch(o){Gt(e,e.return,o)}}}function V_(e,i,a){a.props=ks(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Gt(e,i,o)}}function nl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Gt(e,i,h)}}function Ei(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Gt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Gt(e,i,h)}else a.current=null}function U_(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Gt(e,e.return,h)}}function Zf(e,i,a){try{var o=e.stateNode;OS(o,e.type,a,i),o[Ue]=i}catch(h){Gt(e,e.return,h)}}function P_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ur(e.type)||e.tag===4}function Wf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||P_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ur(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function td(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=qn));else if(o!==4&&(o===27&&Ur(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(td(e,i,a),e=e.sibling;e!==null;)td(e,i,a),e=e.sibling}function rc(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Ur(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(rc(e,i,a),e=e.sibling;e!==null;)rc(e,i,a),e=e.sibling}function k_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Fe(i,o,a),i[ve]=e,i[Ue]=a}catch(f){Gt(e,e.return,f)}}var Gi=!1,Re=!1,ed=!1,L_=typeof WeakSet=="function"?WeakSet:Set,ke=null;function uS(e,i){if(e=e.containerInfo,Ad=Rc,e=Xp(e),Yh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,w=-1,x=0,j=0,K=e,z=null;e:for(;;){for(var H;K!==a||h!==0&&K.nodeType!==3||(E=g+h),K!==f||o!==0&&K.nodeType!==3||(w=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(H=K.firstChild)!==null;)z=K,K=H;for(;;){if(K===e)break e;if(z===a&&++x===h&&(E=g),z===f&&++j===o&&(w=g),(H=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=H}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sd={focusedElem:e,selectionRange:a},Rc=!1,ke=i;ke!==null;)if(i=ke,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ke=e;else for(;ke!==null;){switch(i=ke,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var rt=ks(a.type,h);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Gt(a,a.return,ft)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)wd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,ke=e;break}ke=i.return}}function x_(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(e,a),o&4&&el(5,a);break;case 1:if(Yi(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(g){Gt(a,a.return,g)}else{var h=ks(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Gt(a,a.return,g)}}o&64&&M_(a),o&512&&nl(a,a.return);break;case 3:if(Yi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ag(e,i)}catch(g){Gt(a,a.return,g)}}break;case 27:i===null&&o&4&&k_(a);case 26:case 5:Yi(e,a),i===null&&o&4&&U_(a),o&512&&nl(a,a.return);break;case 12:Yi(e,a);break;case 31:Yi(e,a),o&4&&H_(e,a);break;case 13:Yi(e,a),o&4&&q_(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=yS.bind(null,a),xS(e,a))));break;case 22:if(o=a.memoizedState!==null||Gi,!o){i=i!==null&&i.memoizedState!==null||Re,h=Gi;var f=Re;Gi=o,(Re=i)&&!f?Qi(e,a,(a.subtreeFlags&8772)!==0):Yi(e,a),Gi=h,Re=f}break;case 30:break;default:Yi(e,a)}}function z_(e){var i=e.alternate;i!==null&&(e.alternate=null,z_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&oa(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,an=!1;function Ki(e,i,a){for(a=a.child;a!==null;)B_(e,i,a),a=a.sibling}function B_(e,i,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(xn,a)}catch{}switch(a.tag){case 26:Re||Ei(a,i),Ki(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||Ei(a,i);var o=re,h=an;Ur(a.type)&&(re=a.stateNode,an=!1),Ki(e,i,a),hl(a.stateNode),re=o,an=h;break;case 5:Re||Ei(a,i);case 6:if(o=re,h=an,re=null,Ki(e,i,a),re=o,an=h,re!==null)if(an)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(f){Gt(a,i,f)}else try{re.removeChild(a.stateNode)}catch(f){Gt(a,i,f)}break;case 18:re!==null&&(an?(e=re,My(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ga(e)):My(re,a.stateNode));break;case 4:o=re,h=an,re=a.stateNode.containerInfo,an=!0,Ki(e,i,a),re=o,an=h;break;case 0:case 11:case 14:case 15:Ir(2,a,i),Re||Ir(4,a,i),Ki(e,i,a);break;case 1:Re||(Ei(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&V_(a,i,o)),Ki(e,i,a);break;case 21:Ki(e,i,a);break;case 22:Re=(o=Re)||a.memoizedState!==null,Ki(e,i,a),Re=o;break;default:Ki(e,i,a)}}function H_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ga(e)}catch(a){Gt(i,i.return,a)}}}function q_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ga(e)}catch(a){Gt(i,i.return,a)}}function cS(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new L_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new L_),i;default:throw Error(s(435,e.tag))}}function sc(e,i){var a=cS(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=vS.bind(null,e,o);o.then(h,h)}})}function on(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=i,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ur(E.type)){re=E.stateNode,an=!1;break t}break;case 5:re=E.stateNode,an=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(re===null)throw Error(s(160));B_(f,g,h),re=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)j_(i,e),i=i.sibling}var Qn=null;function j_(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(i,e),ln(e),o&4&&(Ir(3,e,e.return),el(3,e),Ir(5,e,e.return));break;case 1:on(i,e),ln(e),o&512&&(Re||a===null||Ei(a,a.return)),o&64&&Gi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Qn;if(on(i,e),ln(e),o&512&&(Re||a===null||Ei(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ai]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,a),f[ve]=e,Ee(f),o=f;break t;case"link":var g=jy("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;case"meta":if(g=jy("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else Fy(h,e.type,e.stateNode);else e.stateNode=qy(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?Fy(h,e.type,e.stateNode):qy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Zf(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(i,e),ln(e),o&512&&(Re||a===null||Ei(a,a.return)),a!==null&&o&4&&Zf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(i,e),ln(e),o&512&&(Re||a===null||Ei(a,a.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(rt){Gt(e,e.return,rt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Zf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(ed=!0);break;case 6:if(on(i,e),ln(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(rt){Gt(e,e.return,rt)}}break;case 3:if(Tc=null,h=Qn,Qn=vc(i.containerInfo),on(i,e),Qn=h,ln(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ga(i.containerInfo)}catch(rt){Gt(e,e.return,rt)}ed&&(ed=!1,F_(e));break;case 4:o=Qn,Qn=vc(e.stateNode.containerInfo),on(i,e),ln(e),Qn=o;break;case 12:on(i,e),ln(e);break;case 31:on(i,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,sc(e,o)));break;case 13:on(i,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(oc=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,sc(e,o)));break;case 22:h=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,x=Gi,j=Re;if(Gi=x||h,Re=j||w,on(i,e),Re=j,Gi=x,ln(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||w||Gi||Re||Ls(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){w=a=i;try{if(f=w.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=w.stateNode;var K=w.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(rt){Gt(w,w.return,rt)}}}else if(i.tag===6){if(a===null){w=i;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(rt){Gt(w,w.return,rt)}}}else if(i.tag===18){if(a===null){w=i;try{var H=w.stateNode;h?Vy(H,!0):Vy(w.stateNode,!1)}catch(rt){Gt(w,w.return,rt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,sc(e,a))));break;case 19:on(i,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,sc(e,o)));break;case 30:break;case 21:break;default:on(i,e),ln(e)}}function ln(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(P_(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Wf(e);rc(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(sn(g,""),a.flags&=-33);var E=Wf(e);rc(e,E,g);break;case 3:case 4:var w=a.stateNode.containerInfo,x=Wf(e);td(e,x,w);break;default:throw Error(s(161))}}catch(j){Gt(e,e.return,j)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function F_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;F_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Yi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)x_(e,i.alternate,i),i=i.sibling}function Ls(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ir(4,i,i.return),Ls(i);break;case 1:Ei(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&V_(i,i.return,a),Ls(i);break;case 27:hl(i.stateNode);case 26:case 5:Ei(i,i.return),Ls(i);break;case 22:i.memoizedState===null&&Ls(i);break;case 30:Ls(i);break;default:Ls(i)}e=e.sibling}}function Qi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,g=f.flags;switch(f.tag){case 0:case 11:case 15:Qi(h,f,a),el(4,f);break;case 1:if(Qi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(x){Gt(o,o.return,x)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Tg(w[h],E)}catch(x){Gt(o,o.return,x)}}a&&g&64&&M_(f),nl(f,f.return);break;case 27:k_(f);case 26:case 5:Qi(h,f,a),a&&o===null&&g&4&&U_(f),nl(f,f.return);break;case 12:Qi(h,f,a);break;case 31:Qi(h,f,a),a&&g&4&&H_(h,f);break;case 13:Qi(h,f,a),a&&g&4&&q_(h,f);break;case 22:f.memoizedState===null&&Qi(h,f,a),nl(f,f.return);break;case 30:break;default:Qi(h,f,a)}i=i.sibling}}function nd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&qo(a))}function id(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&qo(e))}function Xn(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)G_(e,i,a,o),i=i.sibling}function G_(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Xn(e,i,a,o),h&2048&&el(9,i);break;case 1:Xn(e,i,a,o);break;case 3:Xn(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&qo(e)));break;case 12:if(h&2048){Xn(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Gt(i,i.return,w)}}else Xn(e,i,a,o);break;case 31:Xn(e,i,a,o);break;case 13:Xn(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,g=i.alternate,i.memoizedState!==null?f._visibility&2?Xn(e,i,a,o):il(e,i):f._visibility&2?Xn(e,i,a,o):(f._visibility|=2,Ua(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&nd(g,i);break;case 24:Xn(e,i,a,o),h&2048&&id(i.alternate,i);break;default:Xn(e,i,a,o)}}function Ua(e,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,g=i,E=a,w=o,x=g.flags;switch(g.tag){case 0:case 11:case 15:Ua(f,g,E,w,h),el(8,g);break;case 23:break;case 22:var j=g.stateNode;g.memoizedState!==null?j._visibility&2?Ua(f,g,E,w,h):il(f,g):(j._visibility|=2,Ua(f,g,E,w,h)),h&&x&2048&&nd(g.alternate,g);break;case 24:Ua(f,g,E,w,h),h&&x&2048&&id(g.alternate,g);break;default:Ua(f,g,E,w,h)}i=i.sibling}}function il(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:il(a,o),h&2048&&nd(o.alternate,o);break;case 24:il(a,o),h&2048&&id(o.alternate,o);break;default:il(a,o)}i=i.sibling}}var rl=8192;function Pa(e,i,a){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)K_(e,i,a),e=e.sibling}function K_(e,i,a){switch(e.tag){case 26:Pa(e,i,a),e.flags&rl&&e.memoizedState!==null&&JS(a,Qn,e.memoizedState,e.memoizedProps);break;case 5:Pa(e,i,a);break;case 3:case 4:var o=Qn;Qn=vc(e.stateNode.containerInfo),Pa(e,i,a),Qn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=rl,rl=16777216,Pa(e,i,a),rl=o):Pa(e,i,a));break;default:Pa(e,i,a)}}function Y_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function sl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ke=o,X_(o,e)}Y_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Q_(e),e=e.sibling}function Q_(e){switch(e.tag){case 0:case 11:case 15:sl(e),e.flags&2048&&Ir(9,e,e.return);break;case 3:sl(e);break;case 12:sl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,ac(e)):sl(e);break;default:sl(e)}}function ac(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ke=o,X_(o,e)}Y_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ir(8,i,i.return),ac(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,ac(i));break;default:ac(i)}e=e.sibling}}function X_(e,i){for(;ke!==null;){var a=ke;switch(a.tag){case 0:case 11:case 15:Ir(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,ke=o;else t:for(a=e;ke!==null;){o=ke;var h=o.sibling,f=o.return;if(z_(o),o===a){ke=null;break t}if(h!==null){h.return=f,ke=h;break t}ke=f}}}var hS={getCacheForType:function(e){var i=qe(Ae),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return qe(Ae).controller.signal}},fS=typeof WeakMap=="function"?WeakMap:Map,Bt=0,$t=null,Rt=null,Ct=0,Ft=0,yn=null,Cr=!1,ka=!1,rd=!1,Xi=0,le=0,Dr=0,xs=0,sd=0,vn=0,La=0,al=null,un=null,ad=!1,oc=0,J_=0,lc=1/0,uc=null,Or=null,Ne=0,Nr=null,xa=null,Ji=0,od=0,ld=null,$_=null,ol=0,ud=null;function En(){return(Bt&2)!==0&&Ct!==0?Ct&-Ct:F.T!==null?pd():cu()}function Z_(){if(vn===0)if((Ct&536870912)===0||Vt){var e=hs;hs<<=1,(hs&3932160)===0&&(hs=262144),vn=e}else vn=536870912;return e=gn.current,e!==null&&(e.flags|=32),vn}function cn(e,i,a){(e===$t&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(za(e,0),Mr(e,Ct,vn,!1)),fs(e,a),((Bt&2)===0||e!==$t)&&(e===$t&&((Bt&2)===0&&(xs|=a),le===4&&Mr(e,Ct,vn,!1)),Ti(e))}function W_(e,i,a){if((Bt&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||zn(e,i),h=o?pS(e,i):hd(e,i,!0),f=o;do{if(h===0){ka&&!o&&Mr(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!dS(a)){h=hd(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){i=g;t:{var E=e;h=al;var w=E.current.memoizedState.isDehydrated;if(w&&(za(E,g).flags|=256),g=hd(E,g,!1),g!==2){if(rd&&!w){E.errorRecoveryDisabledLanes|=f,xs|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){za(e,0),Mr(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Mr(o,i,vn,!Cr);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=oc+300-We(),10<h)){if(Mr(o,i,vn,!Cr),ii(o,0,!0)!==0)break t;Ji=i,o.timeoutHandle=Oy(ty.bind(null,o,a,un,uc,ad,i,vn,xs,La,Cr,f,"Throttled",-0,0),h);break t}ty(o,a,un,uc,ad,i,vn,xs,La,Cr,f,null,-0,0)}}break}while(!0);Ti(e)}function ty(e,i,a,o,h,f,g,E,w,x,j,K,z,H){if(e.timeoutHandle=-1,K=i.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},K_(i,f,K);var rt=(f&62914560)===f?oc-We():(f&4194048)===f?J_-We():0;if(rt=$S(K,rt),rt!==null){Ji=f,e.cancelPendingCommit=rt(ly.bind(null,e,i,f,a,o,h,g,E,w,j,K,null,z,H)),Mr(e,f,g,!x);return}}ly(e,i,f,a,o,h,g,E,w)}function dS(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Mr(e,i,a,o){i&=~sd,i&=~xs,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-fe(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&ds(e,a,i)}function cc(){return(Bt&6)===0?(ll(0),!1):!0}function cd(){if(Rt!==null){if(Ft===0)var e=Rt.return;else e=Rt,zi=Ds=null,wf(e),Da=null,Fo=0,e=Rt;for(;e!==null;)N_(e.alternate,e),e=e.return;Rt=null}}function za(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,VS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ji=0,cd(),$t=e,Rt=a=Li(e.current,null),Ct=i,Ft=0,yn=null,Cr=!1,ka=zn(e,i),rd=!1,La=vn=sd=xs=Dr=le=0,un=al=null,ad=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-fe(o),f=1<<h;i|=e[h],o&=~f}return Xi=i,Nu(),a}function ey(e,i){Tt=null,F.H=Zo,i===Ca||i===zu?(i=_g(),Ft=3):i===mf?(i=_g(),Ft=4):Ft=i===qf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,Rt===null&&(le=1,Wu(e,On(i,e.current)))}function ny(){var e=gn.current;return e===null?!0:(Ct&4194048)===Ct?Un===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?e===Un:!1}function iy(){var e=F.H;return F.H=Zo,e===null?Zo:e}function ry(){var e=F.A;return F.A=hS,e}function hc(){le=4,Cr||(Ct&4194048)!==Ct&&gn.current!==null||(ka=!0),(Dr&134217727)===0&&(xs&134217727)===0||$t===null||Mr($t,Ct,vn,!1)}function hd(e,i,a){var o=Bt;Bt|=2;var h=iy(),f=ry();($t!==e||Ct!==i)&&(uc=null,za(e,i)),i=!1;var g=le;t:do try{if(Ft!==0&&Rt!==null){var E=Rt,w=yn;switch(Ft){case 8:cd(),g=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(i=!0);var x=Ft;if(Ft=0,yn=null,Ba(e,E,w,x),a&&ka){g=0;break t}break;default:x=Ft,Ft=0,yn=null,Ba(e,E,w,x)}}mS(),g=le;break}catch(j){ey(e,j)}while(!0);return i&&e.shellSuspendCounter++,zi=Ds=null,Bt=o,F.H=h,F.A=f,Rt===null&&($t=null,Ct=0,Nu()),g}function mS(){for(;Rt!==null;)sy(Rt)}function pS(e,i){var a=Bt;Bt|=2;var o=iy(),h=ry();$t!==e||Ct!==i?(uc=null,lc=We()+500,za(e,i)):ka=zn(e,i);t:do try{if(Ft!==0&&Rt!==null){i=Rt;var f=yn;e:switch(Ft){case 1:Ft=0,yn=null,Ba(e,i,f,1);break;case 2:case 9:if(pg(f)){Ft=0,yn=null,ay(i);break}i=function(){Ft!==2&&Ft!==9||$t!==e||(Ft=7),Ti(e)},f.then(i,i);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:pg(f)?(Ft=0,yn=null,ay(i)):(Ft=0,yn=null,Ba(e,i,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var E=Rt;if(g?Gy(g):E.stateNode.complete){Ft=0,yn=null;var w=E.sibling;if(w!==null)Rt=w;else{var x=E.return;x!==null?(Rt=x,fc(x)):Rt=null}break e}}Ft=0,yn=null,Ba(e,i,f,5);break;case 6:Ft=0,yn=null,Ba(e,i,f,6);break;case 8:cd(),le=6;break t;default:throw Error(s(462))}}gS();break}catch(j){ey(e,j)}while(!0);return zi=Ds=null,F.H=o,F.A=h,Bt=a,Rt!==null?0:($t=null,Ct=0,Nu(),le)}function gS(){for(;Rt!==null&&!Bh();)sy(Rt)}function sy(e){var i=D_(e.alternate,e,Xi);e.memoizedProps=e.pendingProps,i===null?fc(e):Rt=i}function ay(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=S_(a,i,i.pendingProps,i.type,void 0,Ct);break;case 11:i=S_(a,i,i.pendingProps,i.type.render,i.ref,Ct);break;case 5:wf(i);default:N_(a,i),i=Rt=rg(i,Xi),i=D_(a,i,Xi)}e.memoizedProps=e.pendingProps,i===null?fc(e):Rt=i}function Ba(e,i,a,o){zi=Ds=null,wf(i),Da=null,Fo=0;var h=i.return;try{if(rS(e,h,i,a,Ct)){le=1,Wu(e,On(a,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;le=1,Wu(e,On(a,e.current)),Rt=null;return}i.flags&32768?(Vt||o===1?e=!0:ka||(Ct&536870912)!==0?e=!1:(Cr=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),oy(i,e)):fc(i)}function fc(e){var i=e;do{if((i.flags&32768)!==0){oy(i,Cr);return}e=i.return;var a=oS(i.alternate,i,Xi);if(a!==null){Rt=a;return}if(i=i.sibling,i!==null){Rt=i;return}Rt=i=e}while(i!==null);le===0&&(le=5)}function oy(e,i){do{var a=lS(e.alternate,e);if(a!==null){a.flags&=32767,Rt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=a}while(e!==null);le=6,Rt=null}function ly(e,i,a,o,h,f,g,E,w){e.cancelPendingCommit=null;do dc();while(Ne!==0);if((Bt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Zh,jh(e,a,f,g,E,w),e===$t&&(Rt=$t=null,Ct=0),xa=i,Nr=e,Ji=a,od=f,ld=h,$_=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ES(lr,function(){return dy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=tt.p,tt.p=2,g=Bt,Bt|=4;try{uS(e,i,a)}finally{Bt=g,tt.p=h,F.T=o}}Ne=1,uy(),cy(),hy()}}function uy(){if(Ne===1){Ne=0;var e=Nr,i=xa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=tt.p;tt.p=2;var h=Bt;Bt|=4;try{j_(i,e);var f=Sd,g=Xp(e.containerInfo),E=f.focusedElem,w=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Qp(E.ownerDocument.documentElement,E)){if(w!==null&&Yh(E)){var x=w.start,j=w.end;if(j===void 0&&(j=x),"selectionStart"in E)E.selectionStart=x,E.selectionEnd=Math.min(j,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var H=z.getSelection(),rt=E.textContent.length,ft=Math.min(w.start,rt),Xt=w.end===void 0?ft:Math.min(w.end,rt);!H.extend&&ft>Xt&&(g=Xt,Xt=ft,ft=g);var U=Yp(E,ft),D=Yp(E,Xt);if(U&&D&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var L=K.createRange();L.setStart(U.node,U.offset),H.removeAllRanges(),ft>Xt?(H.addRange(L),H.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),H.addRange(L))}}}}for(K=[],H=E;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var G=K[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Rc=!!Ad,Sd=Ad=null}finally{Bt=h,tt.p=o,F.T=a}}e.current=i,Ne=2}}function cy(){if(Ne===2){Ne=0;var e=Nr,i=xa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=tt.p;tt.p=2;var h=Bt;Bt|=4;try{x_(e,i.alternate,i)}finally{Bt=h,tt.p=o,F.T=a}}Ne=3}}function hy(){if(Ne===4||Ne===3){Ne=0,iu();var e=Nr,i=xa,a=Ji,o=$_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ne=5:(Ne=0,xa=Nr=null,fy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Or=null),Vi(a),i=i.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(xn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=F.T,h=tt.p,tt.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{F.T=i,tt.p=h}}(Ji&3)!==0&&dc(),Ti(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ud?ol++:(ol=0,ud=e):ol=0,ll(0)}}function fy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,qo(i)))}function dc(){return uy(),cy(),hy(),dy()}function dy(){if(Ne!==5)return!1;var e=Nr,i=od;od=0;var a=Vi(Ji),o=F.T,h=tt.p;try{tt.p=32>a?32:a,F.T=null,a=ld,ld=null;var f=Nr,g=Ji;if(Ne=0,xa=Nr=null,Ji=0,(Bt&6)!==0)throw Error(s(331));var E=Bt;if(Bt|=4,Q_(f.current),G_(f,f.current,g,a),Bt=E,ll(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(xn,f)}catch{}return!0}finally{tt.p=h,F.T=o,fy(e,i)}}function my(e,i,a){i=On(a,i),i=Hf(e.stateNode,i,2),e=br(e,i,2),e!==null&&(fs(e,2),Ti(e))}function Gt(e,i,a){if(e.tag===3)my(e,e,a);else for(;i!==null;){if(i.tag===3){my(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Or===null||!Or.has(o))){e=On(a,e),a=p_(2),o=br(i,a,2),o!==null&&(g_(a,o,i,e),fs(o,2),Ti(o));break}}i=i.return}}function fd(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new fS;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(rd=!0,h.add(a),e=_S.bind(null,e,i,a),i.then(e,e))}function _S(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,$t===e&&(Ct&a)===a&&(le===4||le===3&&(Ct&62914560)===Ct&&300>We()-oc?(Bt&2)===0&&za(e,0):sd|=a,La===Ct&&(La=0)),Ti(e)}function py(e,i){i===0&&(i=uu()),e=ws(e,i),e!==null&&(fs(e,i),Ti(e))}function yS(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),py(e,a)}function vS(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),py(e,a)}function ES(e,i){return Oe(e,i)}var mc=null,Ha=null,dd=!1,pc=!1,md=!1,Vr=0;function Ti(e){e!==Ha&&e.next===null&&(Ha===null?mc=Ha=e:Ha=Ha.next=e),pc=!0,dd||(dd=!0,AS())}function ll(e,i){if(!md&&pc){md=!0;do for(var a=!1,o=mc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,vy(o,f))}else f=Ct,f=ii(o,o===$t?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zn(o,f)||(a=!0,vy(o,f));o=o.next}while(a);md=!1}}function TS(){gy()}function gy(){pc=dd=!1;var e=0;Vr!==0&&MS()&&(e=Vr);for(var i=We(),a=null,o=mc;o!==null;){var h=o.next,f=_y(o,i);f===0?(o.next=null,a===null?mc=h:a.next=h,h===null&&(Ha=a)):(a=o,(e!==0||(f&3)!==0)&&(pc=!0)),o=h}Ne!==0&&Ne!==5||ll(e),Vr!==0&&(Vr=0)}function _y(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-fe(f),E=1<<g,w=h[g];w===-1?((E&a)===0||(E&o)!==0)&&(h[g]=qh(E,i)):w<=i&&(e.expiredLanes|=E),f&=~E}if(i=$t,a=Ct,a=ii(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&or(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||zn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&or(o),Vi(a)){case 2:case 8:a=yo;break;case 32:a=lr;break;case 268435456:a=ru;break;default:a=lr}return o=yy.bind(null,e),a=Oe(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&or(o),e.callbackPriority=2,e.callbackNode=null,2}function yy(e,i){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(dc()&&e.callbackNode!==a)return null;var o=Ct;return o=ii(e,e===$t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(W_(e,o,i),_y(e,We()),e.callbackNode!=null&&e.callbackNode===a?yy.bind(null,e):null)}function vy(e,i){if(dc())return null;W_(e,i,!0)}function AS(){US(function(){(Bt&6)!==0?Oe(_o,TS):gy()})}function pd(){if(Vr===0){var e=wa;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Vr=e}return Vr}function Ey(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ha(""+e)}function Ty(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function SS(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=Ey((h[Ue]||null).action),g=o.submitter;g&&(i=(i=g[Ue]||null)?Ey(i.formAction):g.getAttribute("formAction"),i!==null&&(f=i,g=null));var E=new mi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Vr!==0){var w=g?Ty(h,g):new FormData(h);Pf(a,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=g?Ty(h,g):new FormData(h),Pf(a,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var gd=0;gd<$h.length;gd++){var _d=$h[gd],bS=_d.toLowerCase(),RS=_d[0].toUpperCase()+_d.slice(1);Yn(bS,"on"+RS)}Yn(Zp,"onAnimationEnd"),Yn(Wp,"onAnimationIteration"),Yn(tg,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(HA,"onTransitionRun"),Yn(qA,"onTransitionStart"),Yn(jA,"onTransitionCancel"),Yn(eg,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function Ay(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var g=o.length-1;0<=g;g--){var E=o[g],w=E.instance,x=E.currentTarget;if(E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=x;try{f(h)}catch(j){Ou(j)}h.currentTarget=null,f=w}else for(g=0;g<o.length;g++){if(E=o[g],w=E.instance,x=E.currentTarget,E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=x;try{f(h)}catch(j){Ou(j)}h.currentTarget=null,f=w}}}}function wt(e,i){var a=i[aa];a===void 0&&(a=i[aa]=new Set);var o=e+"__bubble";a.has(o)||(Sy(i,e,2,!1),a.add(o))}function yd(e,i,a){var o=0;i&&(o|=4),Sy(a,e,o,i)}var gc="_reactListening"+Math.random().toString(36).slice(2);function vd(e){if(!e[gc]){e[gc]=!0,To.forEach(function(a){a!=="selectionchange"&&(wS.has(a)||yd(a,!1,e),yd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[gc]||(i[gc]=!0,yd("selectionchange",!1,i))}}function Sy(e,i,a,o){switch(Zy(i)){case 2:var h=tb;break;case 8:h=eb;break;default:h=Ud}a=h.bind(null,i,a,e),h=void 0,!ys||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Ed(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=oi(E),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){o=f=g;continue t}E=E.parentNode}}o=o.return}mr(function(){var x=f,j=wn(a),K=[];t:{var z=ng.get(e);if(z!==void 0){var H=mi,rt=e;switch(e){case"keypress":if(Es(a)===0)break t;case"keydown":case"keyup":H=Iu;break;case"focusin":rt="focus",H=As;break;case"focusout":rt="blur",H=As;break;case"beforeblur":case"afterblur":H=As;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Zp:case Wp:case tg:H=Eu;break;case eg:H=T;break;case"scroll":case"scrollend":H=Vo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ki;break;case"toggle":case"beforetoggle":H=Et}var ft=(i&4)!==0,Xt=!ft&&(e==="scroll"||e==="scrollend"),U=ft?z!==null?z+"Capture":null:z;ft=[];for(var D=x,L;D!==null;){var G=D;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||U===null||(G=jn(D,U),G!=null&&ft.push(cl(D,G,L))),Xt)break;D=D.return}0<ft.length&&(z=new H(z,rt,null,a,j),K.push({event:z,listeners:ft}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",z&&a!==Oo&&(rt=a.relatedTarget||a.fromElement)&&(oi(rt)||rt[si]))break t;if((H||z)&&(z=j.window===j?j:(z=j.ownerDocument)?z.defaultView||z.parentWindow:window,H?(rt=a.relatedTarget||a.toElement,H=x,rt=rt?oi(rt):null,rt!==null&&(Xt=c(rt),ft=rt.tag,rt!==Xt||ft!==5&&ft!==27&&ft!==6)&&(rt=null)):(H=null,rt=x),H!==rt)){if(ft=Uo,G="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ft=ki,G="onPointerLeave",U="onPointerEnter",D="pointer"),Xt=H==null?z:fn(H),L=rt==null?z:fn(rt),z=new ft(G,D+"leave",H,a,j),z.target=Xt,z.relatedTarget=L,G=null,oi(j)===x&&(ft=new ft(U,D+"enter",rt,a,j),ft.target=L,ft.relatedTarget=Xt,G=ft),Xt=G,H&&rt)e:{for(ft=IS,U=H,D=rt,L=0,G=U;G;G=ft(G))L++;G=0;for(var lt=D;lt;lt=ft(lt))G++;for(;0<L-G;)U=ft(U),L--;for(;0<G-L;)D=ft(D),G--;for(;L--;){if(U===D||D!==null&&U===D.alternate){ft=U;break e}U=ft(U),D=ft(D)}ft=null}else ft=null;H!==null&&by(K,z,H,ft,!1),rt!==null&&Xt!==null&&by(K,Xt,rt,ft,!0)}}t:{if(z=x?fn(x):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Lt=Hp;else if(zp(z))if(qp)Lt=xA;else{Lt=kA;var st=PA}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?x&&ca(x.elementType)&&(Lt=Hp):Lt=LA;if(Lt&&(Lt=Lt(e,x))){Bp(K,Lt,a,j);break t}st&&st(e,z,x),e==="focusout"&&x&&z.type==="number"&&x.memoizedProps.value!=null&&Io(z,"number",z.value)}switch(st=x?fn(x):window,e){case"focusin":(zp(st)||st.contentEditable==="true")&&(ya=st,Qh=x,zo=null);break;case"focusout":zo=Qh=ya=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,Jp(K,a,j);break;case"selectionchange":if(BA)break;case"keydown":case"keyup":Jp(K,a,j)}var bt;if(zt)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else _a?Ss(e,a)&&(Dt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Dt="onCompositionStart");Dt&&(_i&&a.locale!=="ko"&&(_a||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&_a&&(bt=Mo()):(di=j,No="value"in di?di.value:di.textContent,_a=!0)),st=_c(x,Dt),0<st.length&&(Dt=new gi(Dt,e,null,a,j),K.push({event:Dt,listeners:st}),bt?Dt.data=bt:(bt=ga(a),bt!==null&&(Dt.data=bt)))),(bt=Cn?NA(e,a):MA(e,a))&&(Dt=_c(x,"onBeforeInput"),0<Dt.length&&(st=new gi("onBeforeInput","beforeinput",null,a,j),K.push({event:st,listeners:Dt}),st.data=bt)),SS(K,e,x,a,j)}Ay(K,i)})}function cl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function _c(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=jn(e,a),h!=null&&o.unshift(cl(e,h,f)),h=jn(e,i),h!=null&&o.push(cl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function IS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function by(e,i,a,o,h){for(var f=i._reactName,g=[];a!==null&&a!==o;){var E=a,w=E.alternate,x=E.stateNode;if(E=E.tag,w!==null&&w===o)break;E!==5&&E!==26&&E!==27||x===null||(w=x,h?(x=jn(a,f),x!=null&&g.unshift(cl(a,x,w))):h||(x=jn(a,f),x!=null&&g.push(cl(a,x,w)))),a=a.return}g.length!==0&&e.push({event:i,listeners:g})}var CS=/\r\n?/g,DS=/\u0000|\uFFFD/g;function Ry(e){return(typeof e=="string"?e:""+e).replace(CS,`
`).replace(DS,"")}function wy(e,i){return i=Ry(i),Ry(e)===i}function Qt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&sn(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,a,o);break;case"style":Do(e,o,f);break;case"data":if(i!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ha(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Qt(e,i,"name",h.name,h,null),Qt(e,i,"formEncType",h.formEncType,h,null),Qt(e,i,"formMethod",h.formMethod,h,null),Qt(e,i,"formTarget",h.formTarget,h,null)):(Qt(e,i,"encType",h.encType,h,null),Qt(e,i,"method",h.method,h,null),Qt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ha(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=qn);break;case"onScroll":o!=null&&wt("scroll",e);break;case"onScrollEnd":o!=null&&wt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ha(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":wt("beforetoggle",e),wt("toggle",e),la(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":la(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_u.get(a)||a,la(e,a,o))}}function Td(e,i,a,o,h,f){switch(a){case"style":Do(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&wt("scroll",e);break;case"onScrollEnd":o!=null&&wt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ao.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[Ue]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):la(e,a,o)}}}function Fe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",e),wt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Qt(e,i,f,g,a,null)}}h&&Qt(e,i,"srcSet",a.srcSet,a,null),o&&Qt(e,i,"src",a.src,a,null);return;case"input":wt("invalid",e);var E=f=g=h=null,w=null,x=null;for(o in a)if(a.hasOwnProperty(o)){var j=a[o];if(j!=null)switch(o){case"name":h=j;break;case"type":g=j;break;case"checked":w=j;break;case"defaultChecked":x=j;break;case"value":f=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Qt(e,i,o,j,a,null)}}mu(e,f,E,w,x,g,h,!1);return;case"select":wt("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Qt(e,i,h,E,a,null)}i=f,a=g,e.multiple=!!o,i!=null?cr(e,!!o,i,!1):a!=null&&cr(e,!!o,a,!0);return;case"textarea":wt("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Qt(e,i,g,E,a,null)}hr(e,o,h,f);return;case"option":for(w in a)a.hasOwnProperty(w)&&(o=a[w],o!=null)&&(w==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Qt(e,i,w,o,a,null));return;case"dialog":wt("beforetoggle",e),wt("toggle",e),wt("cancel",e),wt("close",e);break;case"iframe":case"object":wt("load",e);break;case"video":case"audio":for(o=0;o<ul.length;o++)wt(ul[o],e);break;case"image":wt("error",e),wt("load",e);break;case"details":wt("toggle",e);break;case"embed":case"source":case"link":wt("error",e),wt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in a)if(a.hasOwnProperty(x)&&(o=a[x],o!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Qt(e,i,x,o,a,null)}return;default:if(ca(i)){for(j in a)a.hasOwnProperty(j)&&(o=a[j],o!==void 0&&Td(e,i,j,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Qt(e,i,E,o,a,null))}function OS(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,w=null,x=null,j=null;for(H in a){var K=a[H];if(a.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":w=K;default:o.hasOwnProperty(H)||Qt(e,i,H,null,o,K)}}for(var z in o){var H=o[z];if(K=a[z],o.hasOwnProperty(z)&&(H!=null||K!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":x=H;break;case"defaultChecked":j=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==K&&Qt(e,i,z,H,o,K)}}ua(e,g,E,w,x,j,f,h);return;case"select":H=g=E=z=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":H=w;default:o.hasOwnProperty(f)||Qt(e,i,f,null,o,w)}for(h in o)if(f=o[h],w=a[h],o.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==w&&Qt(e,i,h,f,o,w)}i=E,a=g,o=H,z!=null?cr(e,!!a,z,!1):!!o!=!!a&&(i!=null?cr(e,!!a,i,!0):cr(e,!!a,a?[]:"",!1));return;case"textarea":H=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qt(e,i,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Qt(e,i,g,h,o,f)}pu(e,z,H);return;case"option":for(var rt in a)z=a[rt],a.hasOwnProperty(rt)&&z!=null&&!o.hasOwnProperty(rt)&&(rt==="selected"?e.selected=!1:Qt(e,i,rt,null,o,z));for(w in o)z=o[w],H=a[w],o.hasOwnProperty(w)&&z!==H&&(z!=null||H!=null)&&(w==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Qt(e,i,w,z,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)z=a[ft],a.hasOwnProperty(ft)&&z!=null&&!o.hasOwnProperty(ft)&&Qt(e,i,ft,null,o,z);for(x in o)if(z=o[x],H=a[x],o.hasOwnProperty(x)&&z!==H&&(z!=null||H!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Qt(e,i,x,z,o,H)}return;default:if(ca(i)){for(var Xt in a)z=a[Xt],a.hasOwnProperty(Xt)&&z!==void 0&&!o.hasOwnProperty(Xt)&&Td(e,i,Xt,void 0,o,z);for(j in o)z=o[j],H=a[j],!o.hasOwnProperty(j)||z===H||z===void 0&&H===void 0||Td(e,i,j,z,o,H);return}}for(var U in a)z=a[U],a.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Qt(e,i,U,null,o,z);for(K in o)z=o[K],H=a[K],!o.hasOwnProperty(K)||z===H||z==null&&H==null||Qt(e,i,K,z,o,H)}function Iy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Iy(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var w=a[o],x=w.startTime;if(x>E)break;var j=w.transferSize,K=w.initiatorType;j&&Iy(K)&&(w=w.responseEnd,g+=j*(w<E?1:(E-x)/(w-x)))}if(--o,i+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ad=null,Sd=null;function yc(e){return e.nodeType===9?e:e.ownerDocument}function Cy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function bd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rd=null;function MS(){var e=window.event;return e&&e.type==="popstate"?e===Rd?!1:(Rd=e,!0):(Rd=null,!1)}var Oy=typeof setTimeout=="function"?setTimeout:void 0,VS=typeof clearTimeout=="function"?clearTimeout:void 0,Ny=typeof Promise=="function"?Promise:void 0,US=typeof queueMicrotask=="function"?queueMicrotask:typeof Ny<"u"?function(e){return Ny.resolve(null).then(e).catch(PS)}:Oy;function PS(e){setTimeout(function(){throw e})}function Ur(e){return e==="head"}function My(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ga(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")hl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,hl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&hl(e.ownerDocument.body);a=h}while(a);Ga(i)}function Vy(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function wd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wd(a),oa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function kS(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ai])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function LS(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Pn(e.nextSibling),e===null))return null;return e}function Uy(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Pn(e.nextSibling),e===null))return null;return e}function Id(e){return e.data==="$?"||e.data==="$~"}function Cd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function xS(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Pn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Dd=null;function Py(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Pn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function ky(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function Ly(e,i,a){switch(i=yc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function hl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);oa(e)}var kn=new Map,xy=new Set;function vc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $i=tt.d;tt.d={f:zS,r:BS,D:HS,C:qS,L:jS,m:FS,X:KS,S:GS,M:YS};function zS(){var e=$i.f(),i=cc();return e||i}function BS(e){var i=Rn(e);i!==null&&i.tag===5&&i.type==="form"?e_(i):$i.r(e)}var qa=typeof document>"u"?null:document;function zy(e,i,a){var o=qa;if(o&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),xy.has(h)||(xy.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Fe(i,"link",e),Ee(i),o.head.appendChild(i)))}}function HS(e){$i.D(e),zy("dns-prefetch",e,null)}function qS(e,i){$i.C(e,i),zy("preconnect",e,i)}function jS(e,i,a){$i.L(e,i,a);var o=qa;if(o&&e&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(i){case"style":f=ja(e);break;case"script":f=Fa(e)}kn.has(f)||(e=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),kn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(fl(f))||i==="script"&&o.querySelector(dl(f))||(i=o.createElement("link"),Fe(i,"link",e),Ee(i),o.head.appendChild(i)))}}function FS(e,i){$i.m(e,i);var a=qa;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Fa(e)}if(!kn.has(f)&&(e=b({rel:"modulepreload",href:e},i),kn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(dl(f)))return}o=a.createElement("link"),Fe(o,"link",e),Ee(o),a.head.appendChild(o)}}}function GS(e,i,a){$i.S(e,i,a);var o=qa;if(o&&e){var h=li(o).hoistableStyles,f=ja(e);i=i||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(fl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":i},a),(a=kn.get(f))&&Od(e,a);var w=g=o.createElement("link");Ee(w),Fe(w,"link",e),w._p=new Promise(function(x,j){w.onload=x,w.onerror=j}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ec(g,i,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function KS(e,i){$i.X(e,i);var a=qa;if(a&&e){var o=li(a).hoistableScripts,h=Fa(e),f=o.get(h);f||(f=a.querySelector(dl(h)),f||(e=b({src:e,async:!0},i),(i=kn.get(h))&&Nd(e,i),f=a.createElement("script"),Ee(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function YS(e,i){$i.M(e,i);var a=qa;if(a&&e){var o=li(a).hoistableScripts,h=Fa(e),f=o.get(h);f||(f=a.querySelector(dl(h)),f||(e=b({src:e,async:!0,type:"module"},i),(i=kn.get(h))&&Nd(e,i),f=a.createElement("script"),Ee(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function By(e,i,a,o){var h=(h=St.current)?vc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ja(a.href),a=li(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ja(a.href);var f=li(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(fl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(e,a),f||QS(h,e,a,g.state))),i&&o===null)throw Error(s(528,""));return g}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fa(a),a=li(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ja(e){return'href="'+rn(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function Hy(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function QS(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Fe(i,"link",a),Ee(i),e.head.appendChild(i))}function Fa(e){return'[src="'+rn(e)+'"]'}function dl(e){return"script[async]"+e}function qy(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return i.instance=o,Ee(o),o;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),Fe(o,"style",h),Ec(o,a.precedence,e),i.instance=o;case"stylesheet":h=ja(a.href);var f=e.querySelector(fl(h));if(f)return i.state.loading|=4,i.instance=f,Ee(f),f;o=Hy(a),(h=kn.get(h))&&Od(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var g=f;return g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),Fe(f,"link",o),i.state.loading|=4,Ec(f,a.precedence,e),i.instance=f;case"script":return f=Fa(a.src),(h=e.querySelector(dl(f)))?(i.instance=h,Ee(h),h):(o=a,(h=kn.get(f))&&(o=b({},a),Nd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Fe(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Ec(o,a.precedence,e));return i.instance}function Ec(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Od(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Nd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Tc=null;function jy(e,i,a){if(Tc===null){var o=new Map,h=Tc=new Map;h.set(a,o)}else h=Tc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ai]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(i)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function Fy(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function XS(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Gy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function JS(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ja(o.href),f=i.querySelector(fl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Ac.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=f,Ee(f);return}f=i.ownerDocument||i,o=Hy(o),(h=kn.get(h))&&Od(o,h),f=f.createElement("link"),Ee(f);var g=f;g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),Fe(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ac.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Md=0;function $S(e,i){return e.stylesheets&&e.count===0&&bc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&Md===0&&(Md=62500*NS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Md?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Sc=null;function bc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Sc=new Map,i.forEach(ZS,e),Sc=null,Ac.call(e))}function ZS(e,i){if(!(i.state.loading&4)){var a=Sc.get(e);if(a)var o=a.get(null);else{a=new Map,Sc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=i.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=Ac.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var ml={$$typeof:ut,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function WS(e,i,a,o,h,f,g,E,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Ky(e,i,a,o,h,f,g,E,w,x,j,K){return e=new WS(e,i,a,g,w,x,j,K,E),i=1,f===!0&&(i|=24),f=pn(3,null,null,i),e.current=f,f.stateNode=e,i=hf(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},pf(f),e}function Yy(e){return e?(e=Ta,e):Ta}function Qy(e,i,a,o,h,f){h=Yy(h),o.context===null?o.context=h:o.pendingContext=h,o=Sr(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=br(e,o,i),a!==null&&(cn(a,e,i),Ko(a,e,i))}function Xy(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Vd(e,i){Xy(e,i),(e=e.alternate)&&Xy(e,i)}function Jy(e){if(e.tag===13||e.tag===31){var i=ws(e,67108864);i!==null&&cn(i,e,67108864),Vd(e,67108864)}}function $y(e){if(e.tag===13||e.tag===31){var i=En();i=ms(i);var a=ws(e,i);a!==null&&cn(a,e,i),Vd(e,i)}}var Rc=!0;function tb(e,i,a,o){var h=F.T;F.T=null;var f=tt.p;try{tt.p=2,Ud(e,i,a,o)}finally{tt.p=f,F.T=h}}function eb(e,i,a,o){var h=F.T;F.T=null;var f=tt.p;try{tt.p=8,Ud(e,i,a,o)}finally{tt.p=f,F.T=h}}function Ud(e,i,a,o){if(Rc){var h=Pd(o);if(h===null)Ed(e,i,o,wc,a),Wy(e,o);else if(ib(h,e,i,a,o))o.stopPropagation();else if(Wy(e,o),i&4&&-1<nb.indexOf(e)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ni(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var w=1<<31-fe(g);E.entanglements[1]|=w,g&=~w}Ti(f),(Bt&6)===0&&(lc=We()+500,ll(0))}}break;case 31:case 13:E=ws(f,2),E!==null&&cn(E,f,2),cc(),Vd(f,2)}if(f=Pd(o),f===null&&Ed(e,i,o,wc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ed(e,i,o,null,a)}}function Pd(e){return e=wn(e),kd(e)}var wc=null;function kd(e){if(wc=null,e=oi(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===31){if(e=p(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return wc=e,null}function Zy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cs()){case _o:return 2;case yo:return 8;case lr:case Hh:return 32;case ru:return 268435456;default:return 32}default:return 32}}var Ld=!1,Pr=null,kr=null,Lr=null,pl=new Map,gl=new Map,xr=[],nb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wy(e,i){switch(e){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":pl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(i.pointerId)}}function _l(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Rn(i),i!==null&&Jy(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function ib(e,i,a,o,h){switch(i){case"focusin":return Pr=_l(Pr,e,i,a,o,h),!0;case"dragenter":return kr=_l(kr,e,i,a,o,h),!0;case"mouseover":return Lr=_l(Lr,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return pl.set(f,_l(pl.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,gl.set(f,_l(gl.get(f)||null,e,i,a,o,h)),!0}return!1}function tv(e){var i=oi(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,Bn(e.priority,function(){$y(a)});return}}else if(i===31){if(i=p(a),i!==null){e.blockedOn=i,Bn(e.priority,function(){$y(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ic(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Pd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Oo=o,a.target.dispatchEvent(o),Oo=null}else return i=Rn(a),i!==null&&Jy(i),e.blockedOn=a,!1;i.shift()}return!0}function ev(e,i,a){Ic(e)&&a.delete(i)}function rb(){Ld=!1,Pr!==null&&Ic(Pr)&&(Pr=null),kr!==null&&Ic(kr)&&(kr=null),Lr!==null&&Ic(Lr)&&(Lr=null),pl.forEach(ev),gl.forEach(ev)}function Cc(e,i){e.blockedOn===i&&(e.blockedOn=null,Ld||(Ld=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,rb)))}var Dc=null;function nv(e){Dc!==e&&(Dc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Dc===e&&(Dc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(kd(o||a)===null)continue;break}var f=Rn(a);f!==null&&(e.splice(i,3),i-=3,Pf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ga(e){function i(w){return Cc(w,e)}Pr!==null&&Cc(Pr,e),kr!==null&&Cc(kr,e),Lr!==null&&Cc(Lr,e),pl.forEach(i),gl.forEach(i);for(var a=0;a<xr.length;a++){var o=xr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<xr.length&&(a=xr[0],a.blockedOn===null);)tv(a),a.blockedOn===null&&xr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[Ue]||null;if(typeof f=="function")g||nv(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ue]||null)E=g.formAction;else if(kd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),nv(a)}}}function iv(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function xd(e){this._internalRoot=e}Oc.prototype.render=xd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=En();Qy(a,o,e,i,null,null)},Oc.prototype.unmount=xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Qy(e.current,2,null,e,null,null),cc(),i[si]=null}};function Oc(e){this._internalRoot=e}Oc.prototype.unstable_scheduleHydration=function(e){if(e){var i=cu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<xr.length&&i!==0&&i<xr[a].priority;a++);xr.splice(a,0,e),a===0&&tv(e)}};var rv=t.version;if(rv!=="19.2.3")throw Error(s(527,rv,"19.2.3"));tt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var sb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{xn=Nc.inject(sb),ze=Nc}catch{}}return vl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=h_,f=f_,g=d_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=Ky(e,1,!1,null,null,a,o,null,h,f,g,iv),e[si]=i.current,vd(e),new xd(i)},vl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=h_,g=f_,E=d_,w=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),i=Ky(e,1,!0,i,a??null,o,h,w,f,g,E,iv),i.context=Yy(null),a=i.current,o=En(),o=ms(o),h=Sr(o),h.callback=null,br(a,h,o),a=o,i.current.lanes=a,fs(i,a),Ti(i),e[si]=i.current,vd(e),new Oc(i)},vl.version="19.2.3",vl}var mv;function pb(){if(mv)return Hd.exports;mv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Hd.exports=mb(),Hd.exports}var hN=pb();const gb="/PRSM-Allergy/";class Vm{name;description;photo;link;isFeatured;constructor({name:t,description:n,photo:s,link:l,isFeatured:c}){this.name=t,this.description=n,this.photo=s,this.link=l,this.isFeatured=c??!1}toMap(){return{name:this.name,description:this.description,photo:this.photo.toMap(),link:this.link,isFeatured:this.isFeatured}}static fromMap(t){return new Vm({name:t.name,description:t.description,photo:js.fromMap(t.photo),link:t.link,isFeatured:t.isFeatured??!1})}}let _b=class GE{title;description;date;displayDate;time;location;photoUrl;constructor({title:t,description:n,date:s,displayDate:l,time:c,location:d,photoUrl:p}){this.title=t,this.description=n,this.date=s,this.displayDate=l,this.time=c,this.location=d,this.photoUrl=p}getFormattedTime(){if(!this.time)return"";const[t,n]=this.time.split(":"),s=parseInt(t,10),l=s>=12?"PM":"AM";return`${s%12||12}:${n} ${l}`}toMap(){return{title:this.title,description:this.description,date:this.date,displayDate:this.displayDate,time:this.time,location:this.location,photoUrl:this.photoUrl}}static fromMap(t){return new GE({title:t.title,description:t.description,date:t.date,displayDate:t.displayDate,time:t.time,location:t.location,photoUrl:t.photoUrl})}};class js{url;id;constructor({url:t,id:n}){this.url=t,this.id=n}toMap(){return{url:this.url,id:this.id}}static fromMap(t){return new js({url:t.url,id:t.id})}}class Um{platform;url;constructor({platform:t,url:n}){this.platform=t,this.url=n}toMap(){return{platform:this.platform,url:this.url}}static fromMap(t){return new Um({platform:t.platform,url:t.url})}}class Pm{name;photo;description;constructor({name:t,photo:n,description:s}){this.name=t,this.photo=n,this.description=s}toMap(){return{name:this.name,photo:this.photo.toMap(),description:this.description}}static fromMap(t){return new Pm({name:t.name,photo:js.fromMap(t.photo),description:t.description})}}class km{title;description;constructor({title:t,description:n}){this.title=t,this.description=n}toMap(){return{title:this.title,description:this.description}}static fromMap(t){return new km({title:t.title,description:t.description})}}class _h{events;fundraisers;landingPageTitle;landingPageSubtitle;landingPagePhoto;galleryPhotos;socialMediaLinks;teamMembers;aboutSubtitle;aboutTiles;constructor({events:t,fundraisers:n,landingPageTitle:s,landingPageSubtitle:l,landingPagePhoto:c,galleryPhotos:d,socialMediaLinks:p,teamMembers:_,aboutSubtitle:y,aboutTiles:A}){this.events=t,this.fundraisers=n,this.landingPageTitle=s,this.landingPageSubtitle=l,this.landingPagePhoto=c,this.galleryPhotos=d,this.socialMediaLinks=p,this.teamMembers=_,this.aboutSubtitle=y,this.aboutTiles=A}toMap(){return{events:this.events.map(t=>t.toMap()),fundraisers:this.fundraisers.map(t=>t.toMap()),landingPageTitle:this.landingPageTitle,landingPageSubtitle:this.landingPageSubtitle,landingPagePhoto:this.landingPagePhoto.toMap(),galleryPhotos:this.galleryPhotos.map(t=>t.toMap()),socialMediaLinks:this.socialMediaLinks.map(t=>t.toMap()),teamMembers:this.teamMembers.map(t=>t.toMap()),aboutSubtitle:this.aboutSubtitle,aboutTiles:this.aboutTiles.map(t=>t.toMap())}}static fromMap(t){return new _h({events:t.events.map(n=>_b.fromMap(n)),fundraisers:t.fundraisers.map(n=>Vm.fromMap(n)),landingPageTitle:t.landingPageTitle,landingPageSubtitle:t.landingPageSubtitle,landingPagePhoto:js.fromMap(t.landingPagePhoto),galleryPhotos:t.galleryPhotos.map(n=>js.fromMap(n)),socialMediaLinks:t.socialMediaLinks.map(n=>Um.fromMap(n)),teamMembers:t.teamMembers.map(n=>Pm.fromMap(n)),aboutSubtitle:t.aboutSubtitle,aboutTiles:t.aboutTiles.map(n=>km.fromMap(n))})}}const yb=()=>{};var pv={};const KE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},vb=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],d=r[n++],p=r[n++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(_>>10)),t[s++]=String.fromCharCode(56320+(_&1023))}else{const c=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},YE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let O=(p&15)<<2|y>>6,q=y&63;_||(q=64,d||(O=64)),s.push(n[A],n[b],n[O],n[q])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(KE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):vb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],p=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const b=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||b==null)throw new Eb;const O=c<<2|p>>4;if(s.push(O),y!==64){const q=p<<4&240|y>>2;if(s.push(q),b!==64){const J=y<<6&192|b;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Eb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tb=function(r){const t=KE(r);return YE.encodeByteArray(t,!0)},Jc=function(r){return Tb(r).replace(/\./g,"")},QE=function(r){try{return YE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ab(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Sb=()=>Ab().__FIREBASE_DEFAULTS__,bb=()=>{if(typeof process>"u"||typeof pv>"u")return;const r=pv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Rb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&QE(r[1]);return t&&JSON.parse(t)},yh=()=>{try{return yb()||Sb()||bb()||Rb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},XE=r=>yh()?.emulatorHosts?.[r],JE=r=>{const t=XE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},$E=()=>yh()?.config,ZE=r=>yh()?.[`_${r}`];class wb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function rs(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lm(r){return(await fetch(r,{credentials:"include"})).ok}function WE(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Jc(JSON.stringify(n)),Jc(JSON.stringify(d)),""].join(".")}const Cl={};function Ib(){const r={prod:[],emulator:[]};for(const t of Object.keys(Cl))Cl[t]?r.emulator.push(t):r.prod.push(t);return r}function Cb(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let gv=!1;function xm(r,t){if(typeof window>"u"||typeof document>"u"||!rs(window.location.host)||Cl[r]===t||Cl[r]||gv)return;Cl[r]=t;function n(O){return`__firebase__banner__${O}`}const s="__firebase__banner",c=Ib().prod.length>0;function d(){const O=document.getElementById(s);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,q){O.setAttribute("width","24"),O.setAttribute("id",q),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{gv=!0,d()},O}function A(O,q){O.setAttribute("id",q),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function b(){const O=Cb(s),q=n("text"),J=document.getElementById(q)||document.createElement("span"),W=n("learnmore"),$=document.getElementById(W)||document.createElement("a"),ot=n("preprendIcon"),pt=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const ut=O.element;p(ut),A($,W);const At=y();_(pt,ot),ut.append(pt,J,$,At),document.body.appendChild(ut)}c?(J.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Db(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function Ob(){const r=yh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Nb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Mb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Vb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ub(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Pb(){return!Ob()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kb(){try{return typeof indexedDB=="object"}catch{return!1}}function Lb(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const xb="FirebaseError";class Mi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=xb,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?zb(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Mi(l,p,s)}}function zb(r,t){return r.replace(Bb,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const Bb=/\{\$([^}]+)}/g;function Hb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Fs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(_v(c)&&_v(d)){if(!Fs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function _v(r){return r!==null&&typeof r=="object"}function Ql(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Al(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Sl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function qb(r,t){const n=new jb(r,t);return n.subscribe.bind(n)}class jb{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Fb(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=Gd),l.error===void 0&&(l.error=Gd),l.complete===void 0&&(l.complete=Gd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fb(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Gd(){}function ue(r){return r&&r._delegate?r._delegate:r}class $r{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const zs="[DEFAULT]";class Gb{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new wb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Yb(t))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=zs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zs){return this.instances.has(t)}getOptions(t=zs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Kb(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=zs){return this.component?this.component.multipleInstances?t:zs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Kb(r){return r===zs?void 0:r}function Yb(r){return r.instantiationMode==="EAGER"}class Qb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Gb(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const Xb={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},Jb=Ot.INFO,$b={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},Zb=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=$b[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class zm{constructor(t){this.name=t,this._logLevel=Jb,this._logHandler=Zb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Xb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const Wb=(r,t)=>t.some(n=>r instanceof n);let yv,vv;function t1(){return yv||(yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e1(){return vv||(vv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tT=new WeakMap,am=new WeakMap,eT=new WeakMap,Kd=new WeakMap,Bm=new WeakMap;function n1(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{n(Yr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&tT.set(n,r)}).catch(()=>{}),Bm.set(t,r),t}function i1(r){if(am.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});am.set(r,t)}let om={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return am.get(r);if(t==="objectStoreNames")return r.objectStoreNames||eT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function r1(r){om=r(om)}function s1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Yd(this),t,...n);return eT.set(s,t.sort?t.sort():[t]),Yr(s)}:e1().includes(r)?function(...t){return r.apply(Yd(this),t),Yr(tT.get(this))}:function(...t){return Yr(r.apply(Yd(this),t))}}function a1(r){return typeof r=="function"?s1(r):(r instanceof IDBTransaction&&i1(r),Wb(r,t1())?new Proxy(r,om):r)}function Yr(r){if(r instanceof IDBRequest)return n1(r);if(Kd.has(r))return Kd.get(r);const t=a1(r);return t!==r&&(Kd.set(r,t),Bm.set(t,r)),t}const Yd=r=>Bm.get(r);function o1(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Yr(d);return s&&d.addEventListener("upgradeneeded",_=>{s(Yr(d.result),_.oldVersion,_.newVersion,Yr(d.transaction),_)}),n&&d.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const l1=["get","getKey","getAll","getAllKeys","count"],u1=["put","add","delete","clear"],Qd=new Map;function Ev(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Qd.get(t))return Qd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=u1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||l1.includes(n)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&_.done]))[0]};return Qd.set(t,c),c}r1(r=>({...r,get:(t,n,s)=>Ev(t,n)||r.get(t,n,s),has:(t,n)=>!!Ev(t,n)||r.has(t,n)}));class c1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(h1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function h1(r){return r.getComponent()?.type==="VERSION"}const lm="@firebase/app",Tv="0.14.7";const ir=new zm("@firebase/app"),f1="@firebase/app-compat",d1="@firebase/analytics-compat",m1="@firebase/analytics",p1="@firebase/app-check-compat",g1="@firebase/app-check",_1="@firebase/auth",y1="@firebase/auth-compat",v1="@firebase/database",E1="@firebase/data-connect",T1="@firebase/database-compat",A1="@firebase/functions",S1="@firebase/functions-compat",b1="@firebase/installations",R1="@firebase/installations-compat",w1="@firebase/messaging",I1="@firebase/messaging-compat",C1="@firebase/performance",D1="@firebase/performance-compat",O1="@firebase/remote-config",N1="@firebase/remote-config-compat",M1="@firebase/storage",V1="@firebase/storage-compat",U1="@firebase/firestore",P1="@firebase/ai",k1="@firebase/firestore-compat",L1="firebase",x1="12.8.0";const um="[DEFAULT]",z1={[lm]:"fire-core",[f1]:"fire-core-compat",[m1]:"fire-analytics",[d1]:"fire-analytics-compat",[g1]:"fire-app-check",[p1]:"fire-app-check-compat",[_1]:"fire-auth",[y1]:"fire-auth-compat",[v1]:"fire-rtdb",[E1]:"fire-data-connect",[T1]:"fire-rtdb-compat",[A1]:"fire-fn",[S1]:"fire-fn-compat",[b1]:"fire-iid",[R1]:"fire-iid-compat",[w1]:"fire-fcm",[I1]:"fire-fcm-compat",[C1]:"fire-perf",[D1]:"fire-perf-compat",[O1]:"fire-rc",[N1]:"fire-rc-compat",[M1]:"fire-gcs",[V1]:"fire-gcs-compat",[U1]:"fire-fst",[k1]:"fire-fst-compat",[P1]:"fire-vertex","fire-js":"fire-js",[L1]:"fire-js-all"};const $c=new Map,B1=new Map,cm=new Map;function Av(r,t){try{r.container.addComponent(t)}catch(n){ir.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Gs(r){const t=r.name;if(cm.has(t))return ir.debug(`There were multiple attempts to register component ${t}.`),!1;cm.set(t,r);for(const n of $c.values())Av(n,r);for(const n of B1.values())Av(n,r);return!0}function vh(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Tn(r){return r==null?!1:r.settings!==void 0}const H1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new Yl("app","Firebase",H1);class q1{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new $r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}const $s=x1;function nT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:um,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Qr.create("bad-app-name",{appName:String(l)});if(n||(n=$E()),!n)throw Qr.create("no-options");const c=$c.get(l);if(c){if(Fs(n,c.options)&&Fs(s,c.config))return c;throw Qr.create("duplicate-app",{appName:l})}const d=new Qb(l);for(const _ of cm.values())d.addComponent(_);const p=new q1(n,s,d);return $c.set(l,p),p}function Hm(r=um){const t=$c.get(r);if(!t&&r===um&&$E())return nT();if(!t)throw Qr.create("no-app",{appName:r});return t}function bi(r,t,n){let s=z1[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ir.warn(d.join(" "));return}Gs(new $r(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const j1="firebase-heartbeat-database",F1=1,kl="firebase-heartbeat-store";let Xd=null;function iT(){return Xd||(Xd=o1(j1,F1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(kl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Qr.create("idb-open",{originalErrorMessage:r.message})})),Xd}async function G1(r){try{const n=(await iT()).transaction(kl),s=await n.objectStore(kl).get(rT(r));return await n.done,s}catch(t){if(t instanceof Mi)ir.warn(t.message);else{const n=Qr.create("idb-get",{originalErrorMessage:t?.message});ir.warn(n.message)}}}async function Sv(r,t){try{const s=(await iT()).transaction(kl,"readwrite");await s.objectStore(kl).put(t,rT(r)),await s.done}catch(n){if(n instanceof Mi)ir.warn(n.message);else{const s=Qr.create("idb-set",{originalErrorMessage:n?.message});ir.warn(s.message)}}}function rT(r){return`${r.name}!${r.options.appId}`}const K1=1024,Y1=30;class Q1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new J1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Y1){const l=$1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ir.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=bv(),{heartbeatsToSend:n,unsentEntries:s}=X1(this._heartbeatsCache.heartbeats),l=Jc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ir.warn(t),""}}}function bv(){return new Date().toISOString().substring(0,10)}function X1(r,t=K1){const n=[];let s=r.slice();for(const l of r){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Rv(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Rv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class J1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kb()?Lb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await G1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Sv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Sv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Rv(r){return Jc(JSON.stringify({version:2,heartbeats:r})).length}function $1(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function Z1(r){Gs(new $r("platform-logger",t=>new c1(t),"PRIVATE")),Gs(new $r("heartbeat",t=>new Q1(t),"PRIVATE")),bi(lm,Tv,r),bi(lm,Tv,"esm2020"),bi("fire-js","")}Z1("");function sT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W1=sT,aT=new Yl("auth","Firebase",sT());const Zc=new zm("@firebase/auth");function tR(r,...t){Zc.logLevel<=Ot.WARN&&Zc.warn(`Auth (${$s}): ${r}`,...t)}function Bc(r,...t){Zc.logLevel<=Ot.ERROR&&Zc.error(`Auth (${$s}): ${r}`,...t)}function Wn(r,...t){throw qm(r,...t)}function Ri(r,...t){return qm(r,...t)}function oT(r,t,n){const s={...W1(),[t]:n};return new Yl("auth","Firebase",s).create(t,{appName:r.name})}function er(r){return oT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return aT.create(r,...t)}function dt(r,t,...n){if(!r)throw qm(t,...n)}function Zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Bc(t),new Error(t)}function rr(r,t){r||Zi(t)}function hm(){return typeof self<"u"&&self.location?.href||""}function eR(){return wv()==="http:"||wv()==="https:"}function wv(){return typeof self<"u"&&self.location?.protocol||null}function nR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eR()||Mb()||"connection"in navigator)?navigator.onLine:!0}function iR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Xl{constructor(t,n){this.shortDelay=t,this.longDelay=n,rr(n>t,"Short delay should be less than long delay!"),this.isMobile=Db()||Vb()}get(){return nR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jm(r,t){rr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class lT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const sR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aR=new Xl(3e4,6e4);function ss(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function as(r,t,n,s,l={}){return uT(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const p=Ql({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return Nb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&rs(r.emulatorConfig.host)&&(y.credentials="include"),lT.fetch()(await cT(r,r.config.apiHost,n,p),y)})}async function uT(r,t,n){r._canInitEmulator=!1;const s={...rR,...t};try{const l=new lR(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Mc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Mc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Mc(r,"user-disabled",d);const A=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw oT(r,A,y);Wn(r,A)}}catch(l){if(l instanceof Mi)throw l;Wn(r,"network-request-failed",{message:String(l)})}}async function Jl(r,t,n,s,l={}){const c=await as(r,t,n,s,l);return"mfaPendingCredential"in c&&Wn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function cT(r,t,n,s){const l=`${t}${n}?${s}`,c=r,d=c.config.emulator?jm(r.config,l):`${r.config.apiScheme}://${l}`;return sR.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function oR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ri(this.auth,"network-request-failed")),aR.get())})}}function Mc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Ri(r,t,s);return l.customData._tokenResponse=n,l}function Iv(r){return r!==void 0&&r.enterprise!==void 0}class uR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return oR(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cR(r,t){return as(r,"GET","/v2/recaptchaConfig",ss(r,t))}async function hR(r,t){return as(r,"POST","/v1/accounts:delete",t)}async function Wc(r,t){return as(r,"POST","/v1/accounts:lookup",t)}function Dl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function fR(r,t=!1){const n=ue(r),s=await n.getIdToken(t),l=Fm(s);dt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Dl(Jd(l.auth_time)),issuedAtTime:Dl(Jd(l.iat)),expirationTime:Dl(Jd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Jd(r){return Number(r)*1e3}function Fm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=QE(n);return l?JSON.parse(l):(Bc("Failed to decode base64 JWT payload"),null)}catch(l){return Bc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Cv(r){const t=Fm(r);return dt(t,"internal-error"),dt(typeof t.exp<"u","internal-error"),dt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ll(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Mi&&dR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function dR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class mR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class fm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function th(r){const t=r.auth,n=await r.getIdToken(),s=await Ll(r,Wc(t,{idToken:n}));dt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?hT(l.providerUserInfo):[],d=gR(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,A)}async function pR(r){const t=ue(r);await th(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function gR(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function hT(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function _R(r,t){const n=await uT(r,{},async()=>{const s=Ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await cT(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:s};return r.emulatorConfig&&rs(r.emulatorConfig.host)&&(_.credentials="include"),lT.fetch()(d,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yR(r,t){return as(r,"POST","/v2/accounts:revokeToken",ss(r,t))}class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){dt(t.idToken,"internal-error"),dt(typeof t.idToken<"u","internal-error"),dt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Cv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){dt(t.length!==0,"internal-error");const n=Cv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(dt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await _R(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,d=new $a;return s&&(dt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(dt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(dt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function Br(r,t){dt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new mR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new fm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Ll(this,this.stsTokenManager.getToken(this.auth,t));return dt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return fR(this,t)}reload(){return pR(this)}_assign(t){this!==t&&(dt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await th(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(er(this.auth));const t=await this.getIdToken();return await Ll(this,hR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,_=n._redirectEventId??void 0,y=n.createdAt??void 0,A=n.lastLoginAt??void 0,{uid:b,emailVerified:O,isAnonymous:q,providerData:J,stsTokenManager:W}=n;dt(b&&W,t,"internal-error");const $=$a.fromJSON(this.name,W);dt(typeof b=="string",t,"internal-error"),Br(s,t.name),Br(l,t.name),dt(typeof O=="boolean",t,"internal-error"),dt(typeof q=="boolean",t,"internal-error"),Br(c,t.name),Br(d,t.name),Br(p,t.name),Br(_,t.name),Br(y,t.name),Br(A,t.name);const ot=new Jn({uid:b,auth:t,email:l,emailVerified:O,displayName:s,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:$,createdAt:y,lastLoginAt:A});return J&&Array.isArray(J)&&(ot.providerData=J.map(pt=>({...pt}))),_&&(ot._redirectEventId=_),ot}static async _fromIdTokenResponse(t,n,s=!1){const l=new $a;l.updateFromServerResponse(n);const c=new Jn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await th(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];dt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?hT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new $a;p.updateFromIdToken(s);const _=new Jn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const Dv=new Map;function Wi(r){rr(r instanceof Function,"Expected a class definition");let t=Dv.get(r);return t?(rr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Dv.set(r,t),t)}class fT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}fT.type="NONE";const Ov=fT;function Hc(r,t,n){return`firebase:${r}:${t}:${n}`}class Za{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Hc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Hc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Wc(this.auth,{idToken:t}).catch(()=>{});return n?Jn._fromGetAccountInfoResponse(this.auth,n,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Za(Wi(Ov),t,s);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Wi(Ov);const d=Hc(s,t.config.apiKey,t.name);let p=null;for(const y of n)try{const A=await y._get(d);if(A){let b;if(typeof A=="string"){const O=await Wc(t,{idToken:A}).catch(()=>{});if(!O)break;b=await Jn._fromGetAccountInfoResponse(t,O,A)}else b=Jn._fromJSON(t,A);y!==c&&(p=b),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Za(c,t,s):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Za(c,t,s))}}function Nv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yT(t))return"Blackberry";if(vT(t))return"Webos";if(mT(t))return"Safari";if((t.includes("chrome/")||pT(t))&&!t.includes("edge/"))return"Chrome";if(_T(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function dT(r=Ze()){return/firefox\//i.test(r)}function mT(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function pT(r=Ze()){return/crios\//i.test(r)}function gT(r=Ze()){return/iemobile/i.test(r)}function _T(r=Ze()){return/android/i.test(r)}function yT(r=Ze()){return/blackberry/i.test(r)}function vT(r=Ze()){return/webos/i.test(r)}function Gm(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function vR(r=Ze()){return Gm(r)&&!!window.navigator?.standalone}function ER(){return Ub()&&document.documentMode===10}function ET(r=Ze()){return Gm(r)||_T(r)||vT(r)||yT(r)||/windows phone/i.test(r)||gT(r)}function TT(r,t=[]){let n;switch(r){case"Browser":n=Nv(Ze());break;case"Worker":n=`${Nv(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${$s}/${s}`}class TR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function AR(r,t={}){return as(r,"GET","/v2/passwordPolicy",ss(r,t))}const SR=6;class bR{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??SR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class RR{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mv(this),this.idTokenSubscription=new Mv(this),this.beforeStateQueue=new TR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Wc(this,{idToken:t}),s=await Jn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Tn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await th(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=iR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Tn(this.app))return Promise.reject(er(this));const n=t?ue(t):null;return n&&dt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&dt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Tn(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await AR(this),n=new bR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Yl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await yR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Wi(t)||this._popupRedirectResolver;dt(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(dt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const _=t.addObserver(n,s,l);return()=>{d=!0,_()}}else{const _=t.addObserver(n);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=TT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&tR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Zs(r){return ue(r)}class Mv{constructor(t){this.auth=t,this.observer=null,this.addObserver=qb(n=>this.observer=n)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Eh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wR(r){Eh=r}function AT(r){return Eh.loadJS(r)}function IR(){return Eh.recaptchaEnterpriseScript}function CR(){return Eh.gapiScript}function DR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class OR{constructor(){this.enterprise=new NR}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class NR{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const MR="recaptcha-enterprise",ST="NO_RECAPTCHA";class VR{constructor(t){this.type=MR,this.auth=Zs(t)}async verify(t="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{cR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new uR(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{p(_)})})}function l(c,d,p){const _=window.grecaptcha;Iv(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:t}).then(y=>{d(y)}).catch(()=>{d(ST)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OR().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(p=>{if(!n&&Iv(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=IR();_.length!==0&&(_+=p),AT(_).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function Vv(r,t,n,s=!1,l=!1){const c=new VR(r);let d;if(l)d=ST;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const p={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function dm(r,t,n,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Vv(r,t,n,n==="getOobCode");return s(r,c)}else return s(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Vv(r,t,n,n==="getOobCode");return s(r,d)}else return Promise.reject(c)})}function UR(r,t){const n=vh(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Fs(c,t??{}))return l;Wn(l,"already-initialized")}return n.initialize({options:t})}function PR(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Wi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function kR(r,t,n){const s=Zs(r);dt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=bT(t),{host:d,port:p}=LR(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){dt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),dt(Fs(y,s.config.emulator)&&Fs(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,rs(d)?(Lm(`${c}//${d}${_}`),xm("Auth",!0)):xR()}function bT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function LR(r){const t=bT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Uv(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Uv(d)}}}function Uv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function xR(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Km{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,n){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function zR(r,t){return as(r,"POST","/v1/accounts:signUp",t)}async function BR(r,t){return Jl(r,"POST","/v1/accounts:signInWithPassword",ss(r,t))}async function HR(r,t){return Jl(r,"POST","/v1/accounts:signInWithEmailLink",ss(r,t))}async function qR(r,t){return Jl(r,"POST","/v1/accounts:signInWithEmailLink",ss(r,t))}class xl extends Km{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new xl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new xl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dm(t,n,"signInWithPassword",BR);case"emailLink":return HR(t,{email:this._email,oobCode:this._password});default:Wn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dm(t,s,"signUpPassword",zR);case"emailLink":return qR(t,{idToken:n,email:this._email,oobCode:this._password});default:Wn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Wa(r,t){return Jl(r,"POST","/v1/accounts:signInWithIdp",ss(r,t))}const jR="http://localhost";class Ks extends Km{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ks(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=n;if(!s||!l)return null;const d=new Ks(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return Wa(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Wa(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Wa(t,n)}buildRequest(){const t={requestUri:jR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ql(n)}return t}}function FR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GR(r){const t=Al(Sl(r)).link,n=t?Al(Sl(t)).deep_link_id:null,s=Al(Sl(r)).deep_link_id;return(s?Al(Sl(s)).link:null)||s||n||t||r}class Ym{constructor(t){const n=Al(Sl(t)),s=n.apiKey??null,l=n.oobCode??null,c=FR(n.mode??null);dt(s&&l&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=GR(t);try{return new Ym(n)}catch{return null}}}class lo{constructor(){this.providerId=lo.PROVIDER_ID}static credential(t,n){return xl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Ym.parseLink(n);return dt(s,"argument-error"),xl._fromEmailAndCode(t,s.code,s.tenantId)}}lo.PROVIDER_ID="password";lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class RT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class $l extends RT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Hr extends $l{constructor(){super("facebook.com")}static credential(t){return Ks._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hr.credential(t.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";class qr extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ks._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return qr.credential(n,s)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";class jr extends $l{constructor(){super("github.com")}static credential(t){return Ks._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return jr.credential(t.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";class Fr extends $l{constructor(){super("twitter.com")}static credential(t,n){return Ks._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Fr.credential(n,s)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";async function KR(r,t){return Jl(r,"POST","/v1/accounts:signUp",ss(r,t))}class Ys{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await Jn._fromIdTokenResponse(t,s,l),d=Pv(s);return new Ys({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=Pv(s);return new Ys({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function Pv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class eh extends Mi{constructor(t,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new eh(t,n,s,l)}}function wT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?eh._fromErrorAndOperation(r,c,t,s):c})}async function YR(r,t,n=!1){const s=await Ll(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ys._forOperation(r,"link",s)}async function QR(r,t,n=!1){const{auth:s}=r;if(Tn(s.app))return Promise.reject(er(s));const l="reauthenticate";try{const c=await Ll(r,wT(s,l,t,r),n);dt(c.idToken,s,"internal-error");const d=Fm(c.idToken);dt(d,s,"internal-error");const{sub:p}=d;return dt(r.uid===p,s,"user-mismatch"),Ys._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Wn(s,"user-mismatch"),c}}async function IT(r,t,n=!1){if(Tn(r.app))return Promise.reject(er(r));const s="signIn",l=await wT(r,s,t),c=await Ys._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}async function XR(r,t){return IT(Zs(r),t)}async function CT(r){const t=Zs(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function JR(r,t,n){if(Tn(r.app))return Promise.reject(er(r));const s=Zs(r),d=await dm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KR).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&CT(r),_}),p=await Ys._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function $R(r,t,n){return Tn(r.app)?Promise.reject(er(r)):XR(ue(r),lo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&CT(r),s})}function DT(r,t){return ue(r).setPersistence(t)}function ZR(r,t,n,s){return ue(r).onIdTokenChanged(t,n,s)}function WR(r,t,n){return ue(r).beforeAuthStateChanged(t,n)}function tw(r,t,n,s){return ue(r).onAuthStateChanged(t,n,s)}function ew(r){return ue(r).signOut()}const nh="__sak";class OT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const nw=1e3,iw=10;class NT extends OT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ET(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);ER()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,iw):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},nw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}NT.type="LOCAL";const Qm=NT;class MT extends OT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}MT.type="SESSION";const VT=MT;function rw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Th{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new Th(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async y=>y(n.origin,c)),_=await rw(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:_})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Th.receivers=[];function Xm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class sw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Xm("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(b){const O=b;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(O.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function wi(){return window}function aw(r){wi().location.href=r}function UT(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function ow(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lw(){return navigator?.serviceWorker?.controller||null}function uw(){return UT()?self:null}const PT="firebaseLocalStorageDb",cw=1,ih="firebaseLocalStorage",kT="fbase_key";class Zl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ah(r,t){return r.transaction([ih],t?"readwrite":"readonly").objectStore(ih)}function hw(){const r=indexedDB.deleteDatabase(PT);return new Zl(r).toPromise()}function mm(){const r=indexedDB.open(PT,cw);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ih,{keyPath:kT})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ih)?t(s):(s.close(),await hw(),t(await mm()))})})}async function kv(r,t,n){const s=Ah(r,!0).put({[kT]:t,value:n});return new Zl(s).toPromise()}async function fw(r,t){const n=Ah(r,!1).get(t),s=await new Zl(n).toPromise();return s===void 0?null:s.value}function Lv(r,t){const n=Ah(r,!0).delete(t);return new Zl(n).toPromise()}const dw=800,mw=3;class LT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>mw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Th._getInstance(uw()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ow(),!this.activeServiceWorker)return;this.sender=new sw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||lw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await mm();return await kv(t,nh,"1"),await Lv(t,nh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>kv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>fw(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Ah(l,!1).getAll();return new Zl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LT.type="LOCAL";const pw=LT;new Xl(3e4,6e4);function gw(r,t){return t?Wi(t):(dt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Jm extends Km{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Wa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Wa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function _w(r){return IT(r.auth,new Jm(r),r.bypassAuthState)}function yw(r){const{auth:t,user:n}=r;return dt(n,t,"internal-error"),QR(n,new Jm(r),r.bypassAuthState)}async function vw(r){const{auth:t,user:n}=r;return dt(n,t,"internal-error"),YR(n,new Jm(r),r.bypassAuthState)}class xT{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _w;case"linkViaPopup":case"linkViaRedirect":return vw;case"reauthViaPopup":case"reauthViaRedirect":return yw;default:Wn(this.auth,"internal-error")}}resolve(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ew=new Xl(2e3,1e4);class Ja extends xT{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return dt(t,this.auth,"internal-error"),t}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const t=Xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Ew.get())};t()}}Ja.currentPopupAction=null;const Tw="pendingRedirect",qc=new Map;class Aw extends xT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=qc.get(this.auth._key());if(!t){try{const s=await Sw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}qc.set(this.auth._key(),t)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Sw(r,t){const n=ww(t),s=Rw(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function bw(r,t){qc.set(r._key(),t)}function Rw(r){return Wi(r._redirectPersistence)}function ww(r){return Hc(Tw,r.config.apiKey,r.name)}async function Iw(r,t,n=!1){if(Tn(r.app))return Promise.reject(er(r));const s=Zs(r),l=gw(s,t),d=await new Aw(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const Cw=600*1e3;class Dw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Ow(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!zT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ri(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Cw&&this.cachedEventUids.clear(),this.cachedEventUids.has(xv(t))}saveEventToCache(t){this.cachedEventUids.add(xv(t)),this.lastProcessedEventTime=Date.now()}}function xv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function zT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Ow(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zT(r);default:return!1}}async function Nw(r,t={}){return as(r,"GET","/v1/projects",t)}const Mw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vw=/^https?/;async function Uw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Nw(r);for(const n of t)try{if(Pw(n))return}catch{}Wn(r,"unauthorized-domain")}function Pw(r){const t=hm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!Vw.test(n))return!1;if(Mw.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const kw=new Xl(3e4,6e4);function zv(){const r=wi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Lw(r){return new Promise((t,n)=>{function s(){zv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{zv(),n(Ri(r,"network-request-failed"))},timeout:kw.get()})}if(wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(wi().gapi?.load)s();else{const l=DR("iframefcb");return wi()[l]=()=>{gapi.load?s():n(Ri(r,"network-request-failed"))},AT(`${CR()}?onload=${l}`).catch(c=>n(c))}}).catch(t=>{throw jc=null,t})}let jc=null;function xw(r){return jc=jc||Lw(r),jc}const zw=new Xl(5e3,15e3),Bw="__/auth/iframe",Hw="emulator/auth/iframe",qw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fw(r){const t=r.config;dt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?jm(t,Hw):`https://${r.config.authDomain}/${Bw}`,s={apiKey:t.apiKey,appName:r.name,v:$s},l=jw.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Ql(s).slice(1)}`}async function Gw(r){const t=await xw(r),n=wi().gapi;return dt(n,r,"internal-error"),t.open({where:document.body,url:Fw(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qw,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Ri(r,"network-request-failed"),p=wi().setTimeout(()=>{c(d)},zw.get());function _(){wi().clearTimeout(p),l(s)}s.ping(_).then(_,()=>{c(d)})}))}const Kw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Yw=500,Qw=600,Xw="_blank",Jw="http://localhost";class Bv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $w(r,t,n,s=Yw,l=Qw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const _={...Kw,width:s.toString(),height:l.toString(),top:c,left:d},y=Ze().toLowerCase();n&&(p=pT(y)?Xw:n),dT(y)&&(t=t||Jw,_.scrollbars="yes");const A=Object.entries(_).reduce((O,[q,J])=>`${O}${q}=${J},`,"");if(vR(y)&&p!=="_self")return Zw(t||"",p),new Bv(null);const b=window.open(t||"",p,A);dt(b,r,"popup-blocked");try{b.focus()}catch{}return new Bv(b)}function Zw(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const Ww="__/auth/handler",tI="emulator/auth/handler",eI=encodeURIComponent("fac");async function Hv(r,t,n,s,l,c){dt(r.config.authDomain,r,"auth-domain-config-required"),dt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:$s,eventId:l};if(t instanceof RT){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",Hb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof $l){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await r._getAppCheckToken(),y=_?`#${eI}=${encodeURIComponent(_)}`:"";return`${nI(r)}?${Ql(p).slice(1)}${y}`}function nI({config:r}){return r.emulator?jm(r,tI):`https://${r.authDomain}/${Ww}`}const $d="webStorageSupport";class iI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VT,this._completeRedirectFn=Iw,this._overrideRedirectResult=bw}async _openPopup(t,n,s,l){rr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Hv(t,n,s,hm(),l);return $w(t,c,Xm())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await Hv(t,n,s,hm(),l);return aw(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(rr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await Gw(t),s=new Dw(t);return n.register("authEvent",l=>(dt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send($d,{type:$d},l=>{const c=l?.[0]?.[$d];c!==void 0&&n(!!c),Wn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Uw(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return ET()||mT()||Gm()}}const rI=iI;var qv="@firebase/auth",jv="1.12.0";class sI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function aI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oI(r){Gs(new $r("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;dt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TT(r)},y=new RR(s,l,c,_);return PR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Gs(new $r("auth-internal",t=>{const n=Zs(t.getProvider("auth").getImmediate());return(s=>new sI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(qv,jv,aI(r)),bi(qv,jv,"esm2020")}const lI=300,uI=ZE("authIdTokenMaxAge")||lI;let Fv=null;const cI=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>uI)return;const l=n?.token;Fv!==l&&(Fv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function hI(r=Hm()){const t=vh(r,"auth");if(t.isInitialized())return t.getImmediate();const n=UR(r,{popupRedirectResolver:rI,persistence:[pw,Qm,VT]}),s=ZE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=cI(c.toString());WR(n,d,()=>d(n.currentUser)),ZR(n,p=>d(p))}}const l=XE("auth");return l&&kR(n,`http://${l}`),n}function fI(){return document.getElementsByTagName("head")?.[0]??document}wR({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=Ri("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",fI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oI("Browser");var dI="firebase",mI="12.8.0";bi(dI,mI,"app");const pI={apiKey:"AIzaSyDooigbginaGtCiKmadDK5MCKYbSCtSkuk",authDomain:"prsm-allergy.firebaseapp.com",projectId:"prsm-allergy",storageBucket:"prsm-allergy.firebasestorage.app",messagingSenderId:"475135250168",appId:"1:475135250168:web:047174e5b8317ba342350d"},$m=nT(pI);var Gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xr,BT;(function(){var r;function t(I,S){function C(){}C.prototype=S.prototype,I.F=S.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,N,P){for(var R=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)R[ee-2]=arguments[ee];return S.prototype[N].apply(V,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,S,C){C||(C=0);const V=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)V[N]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=I.g[0],C=I.g[1],N=I.g[2];let P=I.g[3],R;R=S+(P^C&(N^P))+V[0]+3614090360&4294967295,S=C+(R<<7&4294967295|R>>>25),R=P+(N^S&(C^N))+V[1]+3905402710&4294967295,P=S+(R<<12&4294967295|R>>>20),R=N+(C^P&(S^C))+V[2]+606105819&4294967295,N=P+(R<<17&4294967295|R>>>15),R=C+(S^N&(P^S))+V[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(P^C&(N^P))+V[4]+4118548399&4294967295,S=C+(R<<7&4294967295|R>>>25),R=P+(N^S&(C^N))+V[5]+1200080426&4294967295,P=S+(R<<12&4294967295|R>>>20),R=N+(C^P&(S^C))+V[6]+2821735955&4294967295,N=P+(R<<17&4294967295|R>>>15),R=C+(S^N&(P^S))+V[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(P^C&(N^P))+V[8]+1770035416&4294967295,S=C+(R<<7&4294967295|R>>>25),R=P+(N^S&(C^N))+V[9]+2336552879&4294967295,P=S+(R<<12&4294967295|R>>>20),R=N+(C^P&(S^C))+V[10]+4294925233&4294967295,N=P+(R<<17&4294967295|R>>>15),R=C+(S^N&(P^S))+V[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(P^C&(N^P))+V[12]+1804603682&4294967295,S=C+(R<<7&4294967295|R>>>25),R=P+(N^S&(C^N))+V[13]+4254626195&4294967295,P=S+(R<<12&4294967295|R>>>20),R=N+(C^P&(S^C))+V[14]+2792965006&4294967295,N=P+(R<<17&4294967295|R>>>15),R=C+(S^N&(P^S))+V[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(N^P&(C^N))+V[1]+4129170786&4294967295,S=C+(R<<5&4294967295|R>>>27),R=P+(C^N&(S^C))+V[6]+3225465664&4294967295,P=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(P^S))+V[11]+643717713&4294967295,N=P+(R<<14&4294967295|R>>>18),R=C+(P^S&(N^P))+V[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(N^P&(C^N))+V[5]+3593408605&4294967295,S=C+(R<<5&4294967295|R>>>27),R=P+(C^N&(S^C))+V[10]+38016083&4294967295,P=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(P^S))+V[15]+3634488961&4294967295,N=P+(R<<14&4294967295|R>>>18),R=C+(P^S&(N^P))+V[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(N^P&(C^N))+V[9]+568446438&4294967295,S=C+(R<<5&4294967295|R>>>27),R=P+(C^N&(S^C))+V[14]+3275163606&4294967295,P=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(P^S))+V[3]+4107603335&4294967295,N=P+(R<<14&4294967295|R>>>18),R=C+(P^S&(N^P))+V[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(N^P&(C^N))+V[13]+2850285829&4294967295,S=C+(R<<5&4294967295|R>>>27),R=P+(C^N&(S^C))+V[2]+4243563512&4294967295,P=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(P^S))+V[7]+1735328473&4294967295,N=P+(R<<14&4294967295|R>>>18),R=C+(P^S&(N^P))+V[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(C^N^P)+V[5]+4294588738&4294967295,S=C+(R<<4&4294967295|R>>>28),R=P+(S^C^N)+V[8]+2272392833&4294967295,P=S+(R<<11&4294967295|R>>>21),R=N+(P^S^C)+V[11]+1839030562&4294967295,N=P+(R<<16&4294967295|R>>>16),R=C+(N^P^S)+V[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(C^N^P)+V[1]+2763975236&4294967295,S=C+(R<<4&4294967295|R>>>28),R=P+(S^C^N)+V[4]+1272893353&4294967295,P=S+(R<<11&4294967295|R>>>21),R=N+(P^S^C)+V[7]+4139469664&4294967295,N=P+(R<<16&4294967295|R>>>16),R=C+(N^P^S)+V[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(C^N^P)+V[13]+681279174&4294967295,S=C+(R<<4&4294967295|R>>>28),R=P+(S^C^N)+V[0]+3936430074&4294967295,P=S+(R<<11&4294967295|R>>>21),R=N+(P^S^C)+V[3]+3572445317&4294967295,N=P+(R<<16&4294967295|R>>>16),R=C+(N^P^S)+V[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(C^N^P)+V[9]+3654602809&4294967295,S=C+(R<<4&4294967295|R>>>28),R=P+(S^C^N)+V[12]+3873151461&4294967295,P=S+(R<<11&4294967295|R>>>21),R=N+(P^S^C)+V[15]+530742520&4294967295,N=P+(R<<16&4294967295|R>>>16),R=C+(N^P^S)+V[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(N^(C|~P))+V[0]+4096336452&4294967295,S=C+(R<<6&4294967295|R>>>26),R=P+(C^(S|~N))+V[7]+1126891415&4294967295,P=S+(R<<10&4294967295|R>>>22),R=N+(S^(P|~C))+V[14]+2878612391&4294967295,N=P+(R<<15&4294967295|R>>>17),R=C+(P^(N|~S))+V[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=S+(N^(C|~P))+V[12]+1700485571&4294967295,S=C+(R<<6&4294967295|R>>>26),R=P+(C^(S|~N))+V[3]+2399980690&4294967295,P=S+(R<<10&4294967295|R>>>22),R=N+(S^(P|~C))+V[10]+4293915773&4294967295,N=P+(R<<15&4294967295|R>>>17),R=C+(P^(N|~S))+V[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=S+(N^(C|~P))+V[8]+1873313359&4294967295,S=C+(R<<6&4294967295|R>>>26),R=P+(C^(S|~N))+V[15]+4264355552&4294967295,P=S+(R<<10&4294967295|R>>>22),R=N+(S^(P|~C))+V[6]+2734768916&4294967295,N=P+(R<<15&4294967295|R>>>17),R=C+(P^(N|~S))+V[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=S+(N^(C|~P))+V[4]+4149444226&4294967295,S=C+(R<<6&4294967295|R>>>26),R=P+(C^(S|~N))+V[11]+3174756917&4294967295,P=S+(R<<10&4294967295|R>>>22),R=N+(S^(P|~C))+V[2]+718787259&4294967295,N=P+(R<<15&4294967295|R>>>17),R=C+(P^(N|~S))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+P&4294967295}s.prototype.v=function(I,S){S===void 0&&(S=I.length);const C=S-this.blockSize,V=this.C;let N=this.h,P=0;for(;P<S;){if(N==0)for(;P<=C;)l(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<S;)if(V[N++]=I.charCodeAt(P++),N==this.blockSize){l(this,V),N=0;break}}else for(;P<S;)if(V[N++]=I[P++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=S},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[S++]=this.g[C]>>>V&255;return I};function c(I,S){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=S(I)}function d(I,S){this.h=S;const C=[];let V=!0;for(let N=I.length-1;N>=0;N--){const P=I[N]|0;V&&P==S||(C[N]=P,V=!1)}this.g=C}var p={};function _(I){return-128<=I&&I<128?c(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return $(y(-I));const S=[];let C=1;for(let V=0;I>=C;V++)S[V]=I/C|0,C*=4294967296;return new d(S,0)}function A(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return $(A(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(S,8));let V=b;for(let P=0;P<I.length;P+=8){var N=Math.min(8,I.length-P);const R=parseInt(I.substring(P,P+N),S);N<8?(N=y(Math.pow(S,N)),V=V.j(N).add(y(R))):(V=V.j(C),V=V.add(y(R)))}return V}var b=_(0),O=_(1),q=_(16777216);r=d.prototype,r.m=function(){if(W(this))return-$(this).m();let I=0,S=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*S,S*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(J(this))return"0";if(W(this))return"-"+$(this).toString(I);const S=y(Math.pow(I,6));var C=this;let V="";for(;;){const N=At(C,S).g;C=ot(C,N.j(S));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,J(C))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function J(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function W(I){return I.h==-1}r.l=function(I){return I=ot(this,I),W(I)?-1:J(I)?0:1};function $(I){const S=I.g.length,C=[];for(let V=0;V<S;V++)C[V]=~I.g[V];return new d(C,~I.h).add(O)}r.abs=function(){return W(this)?$(this):this},r.add=function(I){const S=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let N=0;N<=S;N++){let P=V+(this.i(N)&65535)+(I.i(N)&65535),R=(P>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=R>>>16,P&=65535,R&=65535,C[N]=R<<16|P}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ot(I,S){return I.add($(S))}r.j=function(I){if(J(this)||J(I))return b;if(W(this))return W(I)?$(this).j($(I)):$($(this).j(I));if(W(I))return $(this.j($(I)));if(this.l(q)<0&&I.l(q)<0)return y(this.m()*I.m());const S=this.g.length+I.g.length,C=[];for(var V=0;V<2*S;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const P=this.i(V)>>>16,R=this.i(V)&65535,ee=I.i(N)>>>16,Ce=I.i(N)&65535;C[2*V+2*N]+=R*Ce,pt(C,2*V+2*N),C[2*V+2*N+1]+=P*Ce,pt(C,2*V+2*N+1),C[2*V+2*N+1]+=R*ee,pt(C,2*V+2*N+1),C[2*V+2*N+2]+=P*ee,pt(C,2*V+2*N+2)}for(I=0;I<S;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=S;I<2*S;I++)C[I]=0;return new d(C,0)};function pt(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function ut(I,S){this.g=I,this.h=S}function At(I,S){if(J(S))throw Error("division by zero");if(J(I))return new ut(b,b);if(W(I))return S=At($(I),S),new ut($(S.g),$(S.h));if(W(S))return S=At(I,$(S)),new ut($(S.g),S.h);if(I.g.length>30){if(W(I)||W(S))throw Error("slowDivide_ only works with positive integers.");for(var C=O,V=S;V.l(I)<=0;)C=Jt(C),V=Jt(V);var N=It(C,1),P=It(V,1);for(V=It(V,2),C=It(C,2);!J(V);){var R=P.add(V);R.l(I)<=0&&(N=N.add(C),P=R),V=It(V,1),C=It(C,1)}return S=ot(I,N.j(S)),new ut(N,S)}for(N=b;I.l(S)>=0;){for(C=Math.max(1,Math.floor(I.m()/S.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=y(C),R=P.j(S);W(R)||R.l(I)>0;)C-=V,P=y(C),R=P.j(S);J(P)&&(P=O),N=N.add(P),I=ot(I,R)}return new ut(N,I)}r.B=function(I){return At(this,I).h},r.and=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},r.or=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},r.xor=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function Jt(I){const S=I.g.length+1,C=[];for(let V=0;V<S;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function It(I,S){const C=S>>5;S%=32;const V=I.g.length-C,N=[];for(let P=0;P<V;P++)N[P]=S>0?I.i(P+C)>>>S|I.i(P+C+1)<<32-S:I.i(P+C);return new d(N,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,BT=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Xr=d}).apply(typeof Gv<"u"?Gv:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var HT,bl,qT,Fc,pm,jT,FT,GT;(function(){var r,t=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var v=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in v))break t;v=v[k]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,k,B){for(var Z=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)Z[Et-2]=arguments[Et];return m.prototype[k].apply(T,Z)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const k=arguments[T];var v=typeof k;if(v=v!="object"?v:k?Array.isArray(k)?"array":v:"null",v=="array"||v=="object"&&typeof k.length=="number"){v=u.length||0;const B=k.length||0;u.length=v+B;for(let Z=0;Z<B;Z++)u[v+Z]=k[Z]}else u.push(k)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function ot(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pt{constructor(){this.h=this.g=null}add(m,v){const T=ut.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ut=new W(()=>new At,u=>u.reset());class At{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Jt,It=!1,I=new pt,S=()=>{const u=Promise.resolve(void 0);Jt=()=>{u.then(C)}};function C(){for(var u;u=ot();){try{u.h.call(u.g)}catch(v){$(v)}var m=ut;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}It=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ee,N),ee.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),F=0;function tt(u,m,v,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=k,this.key=++F,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function qt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,v,T,k){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const Z=St(u,m,T,k);return Z>-1?(m=u[Z],v||(m.fa=!1)):(m=new tt(m,this.src,B,!!T,k),m.fa=v,u.push(m)),m};function gt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],k=Array.prototype.indexOf.call(T,m,void 0),B;(B=k>=0)&&Array.prototype.splice.call(T,k,1),B&&(ct(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,T){for(let k=0;k<u.length;++k){const B=u[k];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return k}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),De={};function ne(u,m,v,T,k){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ne(u,m[B],v,T,k);return null}return v=go(v),u&&u[Ce]?u.J(m,v,p(T)?!!T.capture:!1,k):ls(u,m,v,!1,T,k)}function ls(u,m,v,T,k,B){if(!m)throw Error("Invalid event type");const Z=p(k)?!!k.capture:!!k;let Et=us(u);if(Et||(u[Ut]=Et=new it(u)),v=Et.add(m,v,T,Z,B),v.proxy)return v;if(T=na(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)P||(k=Z),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(ti(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function na(){function u(v){return m.call(u.src,u.listener,v)}const m=mo;return u}function ia(u,m,v,T,k){if(Array.isArray(m))for(var B=0;B<m.length;B++)ia(u,m[B],v,T,k);else T=p(T)?!!T.capture:!!T,v=go(v),u&&u[Ce]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=St(m,v,T,k),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=us(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,T,k)),(v=u>-1?m[u]:null)&&ra(v))}function ra(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])gt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ti(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=us(m))?(gt(v,u),v.h==0&&(v.src=null,m[Ut]=null)):ct(u)}}}function ti(u){return u in De?De[u]:De[u]="on"+u}function mo(u,m){if(u.da)u=!0;else{m=new ee(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ra(u),u=v.call(T,m)}return u}function us(u){return u=u[Ut],u instanceof it?u:null}var po="__closure_events_fn_"+(Math.random()*1e9>>>0);function go(u){return typeof u=="function"?u:(u[po]||(u[po]=function(m){return u.handleEvent(m)}),u[po])}function _e(){V.call(this),this.i=new it(this),this.M=this,this.G=null}b(_e,V),_e.prototype[Ce]=!0,_e.prototype.removeEventListener=function(u,m,v,T){ia(this,u,m,v,T)};function Oe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var k=m;m=new N(T,u),et(m,k)}k=!0;let B,Z;if(v)for(Z=v.length-1;Z>=0;Z--)B=m.g=v[Z],k=or(B,T,!0,m)&&k;if(B=m.g=u,k=or(B,T,!0,m)&&k,k=or(B,T,!1,m)&&k,v)for(Z=0;Z<v.length;Z++)B=m.g=v[Z],k=or(B,T,!1,m)&&k}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ct(v[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},_e.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function or(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let k=!0;for(let B=0;B<m.length;++B){const Z=m[B];if(Z&&!Z.da&&Z.capture==v){const Et=Z.listener,de=Z.ha||Z.src;Z.fa&&gt(u.i,Z),k=Et.call(de,T)!==!1&&k}}return k&&!T.defaultPrevented}function Bh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function iu(u){u.g=Bh(()=>{u.g=null,u.i&&(u.i=!1,iu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:iu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(u){V.call(this),this.h=u,this.g={}}b(cs,V);var _o=[];function yo(u){kt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ra(m)},u),u.g={}}cs.prototype.N=function(){cs.Z.N.call(this),yo(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lr=d.JSON.stringify,Hh=d.JSON.parse,ru=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function su(){}function au(){}var xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){N.call(this,"d")}b(ze,N);function bn(){N.call(this,"c")}b(bn,N);var fe={},ou=null;function sa(){return ou=ou||new _e}fe.Ia="serverreachability";function lu(u){N.call(this,fe.Ia,u)}b(lu,N);function ei(u){const m=sa();Oe(m,new lu(m))}fe.STAT_EVENT="statevent";function hs(u,m){N.call(this,fe.STAT_EVENT,u),this.stat=m}b(hs,N);function ye(u){const m=sa();Oe(m,new hs(m,u))}fe.Ja="timingevent";function ni(u,m){N.call(this,fe.Ja,u),this.size=m}b(ni,N);function ii(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function qh(u,m,v,T,k,B){u.info(function(){if(u.g)if(B){var Z="",Et=B.split("&");for(let zt=0;zt<Et.length;zt++){var de=Et[zt].split("=");if(de.length>1){const ie=de[0];de=de[1];const Cn=ie.split("_");Z=Cn.length>=2&&Cn[1]=="type"?Z+(ie+"="+de+"&"):Z+(ie+"=redacted&")}}}else Z=null;else Z=B;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+v+`
`+Z})}function uu(u,m,v,T,k,B,Z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+v+`
`+B+" "+Z})}function ri(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jh(u,v)+(T?" "+T:"")})}function fs(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function jh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var k=T[0];if(k!="noop"&&k!="stop"&&k!="close")for(let Z=1;Z<T.length;Z++)T[Z]=""}}}}return lr(B)}catch{return m}}var ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eo;function ms(){}b(ms,su),ms.prototype.g=function(){return new XMLHttpRequest},Eo=new ms;function Vi(u){return encodeURIComponent(String(u))}function cu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Bn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var ve={},Ue={};function si(u,m,v){u.M=1,u.A=ps(Te(m)),u.u=v,u.R=!0,aa(u,null)}function aa(u,m){u.F=Date.now(),ai(u),u.B=Te(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ca(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Hn,u.g=Ru(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var k="readystatechange";Array.isArray(k)||(k&&(_o[0]=k.toString()),k=_o);for(let B=0;B<k.length;B++){const Z=ne(v,k[B],T||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ei(),qh(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)t:{const Et=Fn(this.g),de=this.g.ya(),zt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||Et!=4||de==7||(de==8||zt<=0?ei(3):ei(2)),oi(this);var m=this.g.ca();this.X=m;var v=Fh(this);if(this.o=m==200,uu(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,k=this.g;if((T=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)ri(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,ye(12),fn(this),Rn(this);break t}}if(this.R){u=!0;let ie;for(;!this.K&&this.C<v.length;)if(ie=fu(this,v),ie==Ue){Et==4&&(this.m=4,ye(14),u=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(ie==ve){this.m=4,ye(15),ri(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ri(this.i,this.l,ie,null),li(this,ie);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||v.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ri(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Po(Z),Z.P=!0,ye(11))}}else ri(this.i,this.l,v,null),li(this,v);Et==4&&fn(this),this.o&&!this.K&&(Et==4?Tu(this.j,this):(this.o=!1,ai(this)))}else Pi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),fn(this),Rn(this)}}}catch{}};function Fh(u){if(!hu(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const T=m.length,k=Fn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),Rn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(k&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function hu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function fu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ue:(v=Number(m.substring(v,T)),isNaN(v)?ve:(T+=1,T+v>m.length?Ue:(m=m.slice(T,T+v),u.C=T+v,m)))}Bn.prototype.cancel=function(){this.K=!0,fn(this)};function ai(u){u.T=Date.now()+u.H,oa(u,u.H)}function oa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(y(u.aa,u),m)}function oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(fs(this.i,this.B),this.M!=2&&(ei(),ye(17)),fn(this),this.m=2,Rn(this)):oa(this,this.T-u)};function Rn(u){u.j.I==0||u.K||Tu(u.j,u)}function fn(u){oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,yo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ci(v.h,u))){if(!u.L&&ci(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)pa(v),gr(v);else break t;As(v),ye(18)}}else v.xa=k[1],0<v.xa-v.K&&k[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(y(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else gi(v,11)}else if((u.L||v.g==u)&&pa(v),!R(m))for(k=v.Ba.g.parse(m),m=0;m<k.length;m++){let zt=k[m];const ie=zt[0];if(!(ie<=v.K))if(v.K=ie,zt=zt[1],v.I==2)if(zt[0]=="c"){v.M=zt[1],v.ba=zt[2];const Cn=zt[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const _i=zt[4];_i!=null&&(v.za=_i,v.j.info("SVER="+v.za));const Gn=zt[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(T=1.5*Gn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Kn=u.g;if(Kn){const Ss=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var B=T.h;B.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(So(B,B.h),B.h=null))}if(T.G){const ga=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(T.wa=ga,jt(T.J,T.G,ga))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var Z=u;if(T.na=bu(T,T.L?T.ba:null,T.W),Z.L){bo(T.h,Z);var Et=Z,de=T.O;de&&(Et.H=de),Et.D&&(oi(Et),ai(Et)),T.g=Z}else vu(T);v.i.length>0&&pi(v)}else zt[0]!="stop"&&zt[0]!="close"||gi(v,7);else v.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?gi(v,7):Vo(v):zt[0]!="noop"&&v.l&&v.l.qa(zt),v.A=0)}}ei(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function To(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ao(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function So(u,m){u.g?u.g.add(m):u.h=m}function bo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}To.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ro(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let k,B=null;T>=0?(k=u[v].substring(0,T),B=u[v].substring(T+1)):k=u[v],m(k,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,Pe(this,u.j),this.o=u.o,this.g=u.g,ur(this,u.u),this.h=u.h,wo(this,_u(u.i)),this.m=u.m):u&&(m=String(u).match(du))?(this.l=!1,Pe(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),ur(this,m[4]),this.h=hi(m[5]||"",!0),wo(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new hr(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(gs(m,ua,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(gs(m,ua,!0),"@"),u.push(Vi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(gs(v,v.charAt(0)=="/"?Io:mu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",gs(v,pu)),u.join("")},dn.prototype.resolve=function(u){const m=Te(this);let v=!!u.j;v?Pe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)ur(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var k=m.h.lastIndexOf("/");k!=-1&&(T=m.h.slice(0,k+1)+T)}if(k=T,k==".."||k==".")T="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){T=k.lastIndexOf("/",0)==0,k=k.split("/");const B=[];for(let Z=0;Z<k.length;){const Et=k[Z++];Et=="."?T&&Z==k.length&&B.push(""):Et==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&Z==k.length&&B.push("")):(B.push(Et),T=!0)}T=B.join("/")}else T=k}return v?m.h=T:v=u.i.toString()!=="",v?wo(m,_u(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Te(u){return new dn(u)}function Pe(u,m,v){u.j=v?hi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ur(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function wo(u,m,v){m instanceof hr?(u.i=m,ha(u.i,u.l)):(v||(m=gs(m,cr)),u.i=new hr(m,u.l))}function jt(u,m,v){u.i.set(m,v)}function ps(u){return jt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gs(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ua=/[#\/\?@]/g,mu=/[#\?:]/g,Io=/[#\?]/g,cr=/[#\?@]/g,pu=/#/g;function hr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&la(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=hr.prototype,r.add=function(u,m){sn(this),this.i=null,u=fr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function gu(u,m){sn(u),m=fr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Co(u,m){return sn(u),m=fr(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(k){u.call(m,k,T,this)},this)},this)};function Do(u,m){sn(u);let v=[];if(typeof m=="string")Co(u,m)&&(v=v.concat(u.g.get(fr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return sn(this),this.i=null,u=fr(this,u),Co(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Do(this,u),u.length>0?String(u[0]):m):m};function ca(u,m,v){gu(u,m),v.length>0&&(u.i=null,u.g.set(fr(u,m),q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const k=Vi(v);v=Do(this,v);for(let B=0;B<v.length;B++){let Z=k;v[B]!==""&&(Z+="="+Vi(v[B])),u.push(Z)}}return this.i=u.join("&")};function _u(u){const m=new hr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function fr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ha(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,T){const k=T.toLowerCase();T!=k&&(gu(this,T),ca(this,k,v))},u)),u.j=m}function qn(u,m){const v=new zn;if(d.Image){const T=new Image;T.onload=A(wn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(wn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(wn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(wn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Oo(u,m){const v=new zn,T=new AbortController,k=setTimeout(()=>{T.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(k),B.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),wn(v,"TestPingServer: error",!1,m)})}function wn(u,m,v,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(v)}catch{}}function dr(){this.g=new ru}function fi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(fi,su),fi.prototype.g=function(){return new _s(this.i,this.h)};function _s(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(_s,_e),r=_s.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,jn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function fa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?mr(this):jn(this),this.readyState==3&&fa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,mr(this))},r.Na=function(u){this.g&&(this.response=u,mr(this))},r.ga=function(){this.g&&mr(this)};function mr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,jn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function In(u){let m="";return kt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function ys(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=In(v),typeof u=="string"?v!=null&&Vi(v):jt(u,m,v))}function Kt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Kt,_e);var di=/^https?$/i,No=["POST","PUT"];r=Kt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eo.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){vs(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)v.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),k=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(No,m,void 0)>=0)||T||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Z]of v)this.g.setRequestHeader(B,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){vs(this,B)}};function vs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Mo(u),Ui(u)}function Mo(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Oe(this,"complete"),Oe(this,"abort"),Ui(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Es(this):this.Xa())},r.Xa=function(){Es(this)};function Es(u){if(u.h&&typeof c<"u"){if(u.v&&Fn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Oe(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let Z=String(u.D).match(du)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),T=!di.test(Z?Z.toLowerCase():"")}v=T}if(v)Oe(u,"complete"),Oe(u,"success");else{u.o=6;try{var k=Fn(u)>2?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.ca()+"]",Mo(u)}}finally{Ui(u)}}}}function Ui(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Oe(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Hh(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(u){const m={};u=(u.g&&Fn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=cu(u[T]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[k]||[];m[k]=B,B.push(v)}qt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function pr(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,u),this.Za=mi("retryDelaySeedMs",1e4,u),this.Ta=mi("forwardChannelMaxRetries",2,u),this.va=mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new To(u&&u.concurrentRequestLimit),this.Ba=new dr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=pr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){ye(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=bu(this,null,this.W),pi(this)};function Vo(u){if(da(u),u.I==3){var m=u.V++,v=Te(u.J);if(jt(v,"SID",u.M),jt(v,"RID",m),jt(v,"TYPE","terminate"),Ts(u,v),m=new Bn(u,u.j,m),m.M=2,m.A=ps(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ru(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}Su(u)}function gr(u){u.g&&(Po(u),u.g.cancel(),u.g=null)}function da(u){gr(u),u.v&&(d.clearTimeout(u.v),u.v=null),pa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function pi(u){if(!Ao(u.h)&&!u.m){u.m=!0;var m=u.Ea;Jt||S(),It||(Jt(),It=!0),I.add(m,u),u.D=0}}function ma(u,m){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(y(u.Ea,u,m),Au(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const k=new Bn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=M(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(k.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=yu(this,k,m),v=Te(this.J),jt(v,"RID",u),jt(v,"CVER",22),this.G&&jt(v,"X-HTTP-Session-Id",this.G),Ts(this,v),B&&(this.R?m="headers="+Vi(In(B))+"&"+m:this.u&&ys(v,this.u,B)),So(this.h,k),this.Ra&&jt(v,"TYPE","init"),this.S?(jt(v,"$req",m),jt(v,"SID","null"),k.U=!0,si(k,v,null)):si(k,v,m),this.I=2}}else this.I==3&&(u?Uo(this,u):this.i.length==0||Ao(this.h)||Uo(this))};function Uo(u,m){var v;m?v=m.l:v=u.V++;const T=Te(u.J);jt(T,"SID",u.M),jt(T,"RID",v),jt(T,"AID",u.K),Ts(u,T),u.u&&u.o&&ys(T,u.u,u.o),v=new Bn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=yu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),So(u.h,v),si(v,T,m)}function Ts(u,m){u.H&&kt(u.H,function(v,T){jt(m,T,v)}),u.l&&kt({},function(v,T){jt(m,T,v)})}function yu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var k=u.i;let Et=-1;for(;;){const de=["count="+v];Et==-1?v>0?(Et=k[0].g,de.push("ofs="+Et)):Et=0:de.push("ofs="+Et);let zt=!0;for(let ie=0;ie<v;ie++){var B=k[ie].g;const Cn=k[ie].map;if(B-=Et,B<0)Et=Math.max(0,k[ie].g-100),zt=!1;else try{B="req"+B+"_"||"";try{var Z=Cn instanceof Map?Cn:Object.entries(Cn);for(const[_i,Gn]of Z){let Kn=Gn;p(Gn)&&(Kn=lr(Gn)),de.push(B+_i+"="+encodeURIComponent(Kn))}}catch(_i){throw de.push(B+"type="+encodeURIComponent("_badmap")),_i}}catch{T&&T(Cn)}}if(zt){Z=de.join("&");break t}}Z=void 0}return u=u.i.splice(0,v),m.G=u,Z}function vu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Jt||S(),It||(Jt(),It=!0),I.add(m,u),u.A=0}}function As(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(y(u.Da,u),Au(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),gr(this),Eu(this))};function Po(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Eu(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);jt(m,"RID","rpc"),jt(m,"SID",u.M),jt(m,"AID",u.K),jt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&jt(m,"TO",u.ia),jt(m,"TYPE","xmlhttp"),Ts(u,m),u.u&&u.o&&ys(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ps(Te(m)),v.u=null,v.R=!0,aa(v,u)}r.Va=function(){this.C!=null&&(this.C=null,gr(this),As(this),ye(19))};function pa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Tu(u,m){var v=null;if(u.g==m){pa(u),Po(u),u.g=null;var T=2}else if(ci(u.h,m))v=m.G,bo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var k=u.D;T=sa(),Oe(T,new ni(T,v)),pi(u)}else vu(u);else if(k=m.m,k==3||k==0&&m.X>0||!(T==1&&ma(u,m)||T==2&&As(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),k){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function Au(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const k=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pe(T,"https"),ps(T),k?qn(T.toString(),v):Oo(T.toString(),v)}else ye(2);u.I=0,u.l&&u.l.pa(m),Su(u),da(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Su(u){if(u.I=0,u.ja=[],u.l){const m=Ro(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function bu(u,m,v){var T=v instanceof dn?Te(v):new dn(v);if(T.g!="")m&&(T.g=m+"."+T.g),ur(T,T.u);else{var k=d.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;const B=new dn(null);T&&Pe(B,T),m&&(B.g=m),k&&ur(B,k),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&jt(T,v,m),jt(T,"VER",u.ka),Ts(u,T),T}function Ru(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new fi({ab:v})):new Kt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}r=wu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _r(){}_r.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){_e.call(this),this.g=new pr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ki(this)}b(tn,_e),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Vo(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=lr(u),u=v);m.i.push(new Ee(m.Ya++,u)),m.I==3&&pi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,tn.Z.N.call(this)};function Iu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Iu,ze);function Cu(){bn.call(this),this.status=1}b(Cu,bn);function ki(u){this.g=u}b(ki,wu),ki.prototype.ra=function(){Oe(this.g,"a")},ki.prototype.qa=function(u){Oe(this.g,new Iu(u))},ki.prototype.pa=function(u){Oe(this.g,new Cu)},ki.prototype.oa=function(){Oe(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,GT=function(){return new _r},FT=function(){return sa()},jT=fe,pm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,Fc=ds,vo.COMPLETE="complete",qT=vo,au.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,bl=au,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,HT=Kt}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let uo="12.8.0";function gI(r){uo=r}const Qs=new zm("@firebase/firestore");function Ka(){return Qs.logLevel}function nt(r,...t){if(Qs.logLevel<=Ot.DEBUG){const n=t.map(Zm);Qs.debug(`Firestore (${uo}): ${r}`,...n)}}function sr(r,...t){if(Qs.logLevel<=Ot.ERROR){const n=t.map(Zm);Qs.error(`Firestore (${uo}): ${r}`,...n)}}function no(r,...t){if(Qs.logLevel<=Ot.WARN){const n=t.map(Zm);Qs.warn(`Firestore (${uo}): ${r}`,...n)}}function Zm(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function mt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,KT(r,s,n)}function KT(r,t,n){let s=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw sr(s),new Error(s)}function Ht(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||KT(t,l,s)}function vt(r,t){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Mi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class YT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _I{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Je.UNAUTHENTICATED)))}shutdown(){}}class yI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class vI{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let s=this.i;const l=_=>this.i!==s?(s=this.i,n(_)):Promise.resolve();let c=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Jr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Jr)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new YT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class EI{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class TI{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new EI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Kv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const s=c=>{c.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Kv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Kv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function SI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Wm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=SI(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function Nt(r,t){return r<t?-1:r>t?1:0}function gm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const l=r.charAt(s),c=t.charAt(s);if(l!==c)return Zd(l)===Zd(c)?Nt(l,c):Zd(l)?1:-1}return Nt(r.length,t.length)}const bI=55296,RI=57343;function Zd(r){const t=r.charCodeAt(0);return t>=bI&&t<=RI}function io(r,t,n){return r.length===t.length&&r.every(((s,l)=>n(s,t[l])))}const Yv="__name__";class Ai{constructor(t,n,s){n===void 0?n=0:n>t.length&&mt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&mt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ai.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ai?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=Ai.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return Nt(t.length,n.length)}static compareSegments(t,n){const s=Ai.isNumericId(t),l=Ai.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Ai.extractNumericId(t).compare(Ai.extractNumericId(n)):gm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xr.fromString(t.substring(4,t.length-2))}}class se extends Ai{construct(t,n,s){return new se(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new at(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new se(n)}static emptyPath(){return new se([])}}const wI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Ai{construct(t,n,s){return new Ke(t,n,s)}static isValidIdentifier(t){return wI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yv}static keyField(){return new Ke([Yv])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new at(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new at(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new at(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(n)}static emptyPath(){return new Ke([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(se.fromString(t))}static fromName(t){return new ht(se.fromString(t).popFirst(5))}static empty(){return new ht(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return se.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new se(t.slice()))}}function II(r,t,n){if(!n)throw new at(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function CI(r,t,n,s){if(t===!0&&s===!0)throw new at(X.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Qv(r){if(!ht.isDocumentKey(r))throw new at(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function QT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function tp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":mt(12329,{type:typeof r})}function zl(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new at(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tp(r);throw new at(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function Ie(r,t){const n={typeString:r};return t&&(n.value=t),n}function Wl(r,t){if(!QT(r))throw new at(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new at(X.INVALID_ARGUMENT,n);return!0}const Xv=-62135596800,Jv=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(t){return te.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Jv);return new te(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Xv)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jv}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Wl(t,te._jsonSchema))return new te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Xv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:Ie("string",te._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new te(0,0))}static max(){return new _t(new te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bl=-1;function DI(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(s===1e9?new te(n+1,0):new te(n,s));return new Zr(l,ht.empty(),t)}function OI(r){return new Zr(r.readTime,r.key,Bl)}class Zr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Zr(_t.min(),ht.empty(),Bl)}static max(){return new Zr(_t.max(),ht.empty(),Bl)}}function NI(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ht.comparator(r.documentKey,t.documentKey),n!==0?n:Nt(r.largestBatchId,t.largestBatchId))}const MI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function co(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==MI)throw r;nt("LocalStore","Unexpectedly lost primary lease")}class Q{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Q(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):Q.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):Q.reject(n)}static resolve(t){return new Q(((n,s)=>{n(t)}))}static reject(t){return new Q(((n,s)=>{s(t)}))}static waitFor(t){return new Q(((n,s)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&n()}),(_=>s(_)))})),d=!0,c===l&&n()}))}static or(t){let n=Q.resolve(!1);for(const s of t)n=n.next((l=>l?Q.resolve(l):s()));return n}static forEach(t,n){const s=[];return t.forEach(((l,c)=>{s.push(n.call(this,l,c))})),this.waitFor(s)}static mapArray(t,n){return new Q(((s,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;n(t[y]).next((A=>{d[y]=A,++p,p===c&&s(d)}),(A=>l(A)))}}))}static doWhile(t,n){return new Q(((s,l)=>{const c=()=>{t()===!0?n().next((()=>{c()}),l):s()};c()}))}}function UI(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ho(r){return r.name==="IndexedDbTransactionError"}class Sh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Sh.ce=-1;const ep=-1;function bh(r){return r==null}function rh(r){return r===0&&1/r==-1/0}function PI(r){return typeof r=="number"&&Number.isInteger(r)&&!rh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const XT="";function kI(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=$v(t)),t=LI(r.get(n),t);return $v(t)}function LI(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case XT:n+="";break;default:n+=c}}return n}function $v(r){return r+XT+""}function Zv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function os(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function JT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ae{constructor(t,n){this.comparator=t,this.root=n||Ge.EMPTY}insert(t,n){return new ae(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Uc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Uc(this.root,t,this.comparator,!0)}}class Uc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new Ge(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,n,s,l,c){return this}insert(t,n,s){return new Ge(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wv(this.data.getIterator())}getIteratorFrom(t){return new Wv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ve(this.comparator);return n.data=t,n}}class Wv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $n{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new $n([])}unionWith(t){let n=new Ve(Ke.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new $n(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return io(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class $T extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new $T("Invalid base64 string: "+c):c}})(t);return new Ye(n)}static fromUint8Array(t){const n=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ye(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const xI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const n=xI.exec(r);if(Ht(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ts(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}const ZT="server_timestamp",WT="__type__",t0="__previous_value__",e0="__local_write_time__";function np(r){return(r?.mapValue?.fields||{})[WT]?.stringValue===ZT}function Rh(r){const t=r.mapValue.fields[t0];return np(t)?Rh(t):t}function Hl(r){const t=Wr(r.mapValue.fields[e0].timestampValue);return new te(t.seconds,t.nanos)}class zI{constructor(t,n,s,l,c,d,p,_,y,A,b){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A,this.apiKey=b}}const sh="(default)";class ql{constructor(t,n){this.projectId=t,this.database=n||sh}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===sh}isEqual(t){return t instanceof ql&&t.projectId===this.projectId&&t.database===this.database}}function BI(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new at(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(r.options.projectId,t)}const n0="__type__",HI="__max__",Pc={mapValue:{}},i0="__vector__",ah="value";function es(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?np(r)?4:jI(r)?9007199254740991:qI(r)?10:11:mt(28295,{value:r})}function Oi(r,t){if(r===t)return!0;const n=es(r);if(n!==es(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Hl(r).isEqual(Hl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Wr(l.timestampValue),p=Wr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return ts(l.bytesValue).isEqual(ts(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),p=ge(c.doubleValue);return d===p?rh(d)===rh(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return io(r.arrayValue.values||[],t.arrayValue.values||[],Oi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Zv(d)!==Zv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Oi(d[_],p[_])))return!1;return!0})(r,t);default:return mt(52216,{left:r})}}function jl(r,t){return(r.values||[]).find((n=>Oi(n,t)))!==void 0}function ro(r,t){if(r===t)return 0;const n=es(r),s=es(t);if(n!==s)return Nt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ge(c.integerValue||c.doubleValue),_=ge(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return tE(r.timestampValue,t.timestampValue);case 4:return tE(Hl(r),Hl(t));case 5:return gm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=ts(c),_=ts(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=Nt(p[y],_[y]);if(A!==0)return A}return Nt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Nt(ge(c.latitude),ge(d.latitude));return p!==0?p:Nt(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return eE(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[ah]?.arrayValue,A=_[ah]?.arrayValue,b=Nt(y?.values?.length||0,A?.values?.length||0);return b!==0?b:eE(y,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Pc.mapValue&&d===Pc.mapValue)return 0;if(c===Pc.mapValue)return 1;if(d===Pc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let b=0;b<_.length&&b<A.length;++b){const O=gm(_[b],A[b]);if(O!==0)return O;const q=ro(p[_[b]],y[A[b]]);if(q!==0)return q}return Nt(_.length,A.length)})(r.mapValue,t.mapValue);default:throw mt(23264,{he:n})}}function tE(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Nt(r,t);const n=Wr(r),s=Wr(t),l=Nt(n.seconds,s.seconds);return l!==0?l:Nt(n.nanos,s.nanos)}function eE(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=ro(n[l],s[l]);if(c)return c}return Nt(n.length,s.length)}function so(r){return _m(r)}function _m(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Wr(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ts(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ht.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=_m(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${_m(n.fields[d])}`;return l+"}"})(r.mapValue):mt(61005,{value:r})}function Gc(r){switch(es(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Rh(r);return t?16+Gc(t):16;case 5:return 2*r.stringValue.length;case 6:return ts(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Gc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return os(s.fields,((c,d)=>{l+=c.length+Gc(d)})),l})(r.mapValue);default:throw mt(13486,{value:r})}}function ym(r){return!!r&&"integerValue"in r}function ip(r){return!!r&&"arrayValue"in r}function nE(r){return!!r&&"nullValue"in r}function iE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Kc(r){return!!r&&"mapValue"in r}function qI(r){return(r?.mapValue?.fields||{})[n0]?.stringValue===i0}function Ol(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return os(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Ol(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ol(r.arrayValue.values[n]);return t}return{...r}}function jI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===HI}class An{constructor(t){this.value=t}static empty(){return new An({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Kc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ol(n)}setAll(t){let n=Ke.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const _=this.getFieldsMap(n);this.applyChanges(_,s,l),s={},l=[],n=p.popLast()}d?s[p.lastSegment()]=Ol(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());Kc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Oi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Kc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){os(n,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new An(Ol(this.value))}}function r0(r){const t=[];return os(r.fields,((n,s)=>{const l=new Ke([n]);if(Kc(s)){const c=r0(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new $n(t)}class $e{constructor(t,n,s,l,c,d,p){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new $e(t,0,_t.min(),_t.min(),_t.min(),An.empty(),0)}static newFoundDocument(t,n,s,l){return new $e(t,1,n,_t.min(),s,l,0)}static newNoDocument(t,n){return new $e(t,2,n,_t.min(),_t.min(),An.empty(),0)}static newUnknownDocument(t,n){return new $e(t,3,n,_t.min(),_t.min(),An.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oh{constructor(t,n){this.position=t,this.inclusive=n}}function rE(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=ht.comparator(ht.fromName(d.referenceValue),n.key):s=ro(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function sE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Oi(r.position[n],t.position[n]))return!1;return!0}class lh{constructor(t,n="asc"){this.field=t,this.dir=n}}function FI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class s0{}class Me extends s0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new KI(t,n,s):n==="array-contains"?new XI(t,s):n==="in"?new JI(t,s):n==="not-in"?new $I(t,s):n==="array-contains-any"?new ZI(t,s):new Me(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new YI(t,s):new QI(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ro(n,this.value)):n!==null&&es(this.value)===es(n)&&this.matchesComparison(ro(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends s0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ni(t,n)}matches(t){return a0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function a0(r){return r.op==="and"}function o0(r){return GI(r)&&a0(r)}function GI(r){for(const t of r.filters)if(t instanceof Ni)return!1;return!0}function vm(r){if(r instanceof Me)return r.field.canonicalString()+r.op.toString()+so(r.value);if(o0(r))return r.filters.map((t=>vm(t))).join(",");{const t=r.filters.map((n=>vm(n))).join(",");return`${r.op}(${t})`}}function l0(r,t){return r instanceof Me?(function(s,l){return l instanceof Me&&s.op===l.op&&s.field.isEqual(l.field)&&Oi(s.value,l.value)})(r,t):r instanceof Ni?(function(s,l){return l instanceof Ni&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,p)=>c&&l0(d,l.filters[p])),!0):!1})(r,t):void mt(19439)}function u0(r){return r instanceof Me?(function(n){return`${n.field.canonicalString()} ${n.op} ${so(n.value)}`})(r):r instanceof Ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(u0).join(" ,")+"}"})(r):"Filter"}class KI extends Me{constructor(t,n,s){super(t,n,s),this.key=ht.fromName(s.referenceValue)}matches(t){const n=ht.comparator(t.key,this.key);return this.matchesComparison(n)}}class YI extends Me{constructor(t,n){super(t,"in",n),this.keys=c0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class QI extends Me{constructor(t,n){super(t,"not-in",n),this.keys=c0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function c0(r,t){return(t.arrayValue?.values||[]).map((n=>ht.fromName(n.referenceValue)))}class XI extends Me{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ip(n)&&jl(n.arrayValue,this.value)}}class JI extends Me{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&jl(this.value.arrayValue,n)}}class $I extends Me{constructor(t,n){super(t,"not-in",n)}matches(t){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!jl(this.value.arrayValue,n)}}class ZI extends Me{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ip(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>jl(this.value.arrayValue,s)))}}class WI{constructor(t,n=null,s=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function aE(r,t=null,n=[],s=[],l=null,c=null,d=null){return new WI(r,t,n,s,l,c,d)}function rp(r){const t=vt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>vm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),bh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>so(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>so(s))).join(",")),t.Te=n}return t.Te}function sp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!FI(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!l0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!sE(r.startAt,t.startAt)&&sE(r.endAt,t.endAt)}function Em(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class wh{constructor(t,n=null,s=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function tC(r,t,n,s,l,c,d,p){return new wh(r,t,n,s,l,c,d,p)}function ap(r){return new wh(r)}function oE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function eC(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function nC(r){return r.collectionGroup!==null}function Nl(r){const t=vt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Ke.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new lh(c,s))})),n.has(Ke.keyField().canonicalString())||t.Ie.push(new lh(Ke.keyField(),s))}return t.Ie}function Ii(r){const t=vt(r);return t.Ee||(t.Ee=iC(t,Nl(r))),t.Ee}function iC(r,t){if(r.limitType==="F")return aE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new lh(l.field,c)}));const n=r.endAt?new oh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new oh(r.startAt.position,r.startAt.inclusive):null;return aE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Tm(r,t,n){return new wh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Ih(r,t){return sp(Ii(r),Ii(t))&&r.limitType===t.limitType}function h0(r){return`${rp(Ii(r))}|lt:${r.limitType}`}function Ya(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>u0(l))).join(", ")}]`),bh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>so(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>so(l))).join(",")),`Target(${s})`})(Ii(r))}; limitType=${r.limitType})`}function Ch(r,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ht.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,l){for(const c of Nl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,_){const y=rE(d,p,_);return d.inclusive?y<=0:y<0})(s.startAt,Nl(s),l)||s.endAt&&!(function(d,p,_){const y=rE(d,p,_);return d.inclusive?y>=0:y>0})(s.endAt,Nl(s),l))})(r,t)}function rC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function f0(r){return(t,n)=>{let s=!1;for(const l of Nl(r)){const c=sC(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function sC(r,t,n){const s=r.field.isKeyField()?ht.comparator(t.key,n.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?ro(_,y):mt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return mt(19790,{direction:r.dir})}}class Ws{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){os(this.inner,((n,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return JT(this.inner)}size(){return this.innerSize}}const aC=new ae(ht.comparator);function ar(){return aC}const d0=new ae(ht.comparator);function Rl(...r){let t=d0;for(const n of r)t=t.insert(n.key,n);return t}function m0(r){let t=d0;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Bs(){return Ml()}function p0(){return Ml()}function Ml(){return new Ws((r=>r.toString()),((r,t)=>r.isEqual(t)))}const oC=new ae(ht.comparator),lC=new Ve(ht.comparator);function Mt(...r){let t=lC;for(const n of r)t=t.add(n);return t}const uC=new Ve(Nt);function cC(){return uC}function op(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(t)?"-0":t}}function g0(r){return{integerValue:""+r}}function hC(r,t){return PI(t)?g0(t):op(r,t)}class Dh{constructor(){this._=void 0}}function fC(r,t,n){return r instanceof uh?(function(l,c){const d={fields:{[WT]:{stringValue:ZT},[e0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&np(c)&&(c=Rh(c)),c&&(d.fields[t0]=c),{mapValue:d}})(n,t):r instanceof Fl?y0(r,t):r instanceof Gl?v0(r,t):(function(l,c){const d=_0(l,c),p=lE(d)+lE(l.Ae);return ym(d)&&ym(l.Ae)?g0(p):op(l.serializer,p)})(r,t)}function dC(r,t,n){return r instanceof Fl?y0(r,t):r instanceof Gl?v0(r,t):n}function _0(r,t){return r instanceof ch?(function(s){return ym(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class uh extends Dh{}class Fl extends Dh{constructor(t){super(),this.elements=t}}function y0(r,t){const n=E0(t);for(const s of r.elements)n.some((l=>Oi(l,s)))||n.push(s);return{arrayValue:{values:n}}}class Gl extends Dh{constructor(t){super(),this.elements=t}}function v0(r,t){let n=E0(t);for(const s of r.elements)n=n.filter((l=>!Oi(l,s)));return{arrayValue:{values:n}}}class ch extends Dh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function lE(r){return ge(r.integerValue||r.doubleValue)}function E0(r){return ip(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function mC(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof Fl&&l instanceof Fl||s instanceof Gl&&l instanceof Gl?io(s.elements,l.elements,Oi):s instanceof ch&&l instanceof ch?Oi(s.Ae,l.Ae):s instanceof uh&&l instanceof uh})(r.transform,t.transform)}class pC{constructor(t,n){this.version=t,this.transformResults=n}}class nr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new nr}static exists(t){return new nr(void 0,t)}static updateTime(t){return new nr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Yc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Oh{}function T0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new S0(r.key,nr.none()):new Nh(r.key,r.data,nr.none());{const n=r.data,s=An.empty();let l=new Ve(Ke.comparator);for(let c of t.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new ta(r.key,s,new $n(l.toArray()),nr.none())}}function gC(r,t,n){r instanceof Nh?(function(l,c,d){const p=l.value.clone(),_=cE(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,n):r instanceof ta?(function(l,c,d){if(!Yc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=cE(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(A0(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,n):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function Vl(r,t,n,s){return r instanceof Nh?(function(c,d,p,_){if(!Yc(c.precondition,d))return p;const y=c.value.clone(),A=hE(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof ta?(function(c,d,p,_){if(!Yc(c.precondition,d))return p;const y=hE(c.fieldTransforms,_,d),A=d.data;return A.setAll(A0(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,t,n,s):(function(c,d,p){return Yc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,n)}function _C(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=_0(s.transform,l||null);c!=null&&(n===null&&(n=An.empty()),n.set(s.field,c))}return n||null}function uE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&io(s,l,((c,d)=>mC(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Nh extends Oh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ta extends Oh{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function A0(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function cE(r,t,n){const s=new Map;Ht(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let l=0;l<n.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);s.set(c.field,dC(d,p,n[l]))}return s}function hE(r,t,n){const s=new Map;for(const l of r){const c=l.transform,d=n.data.field(l.field);s.set(l.field,fC(c,d,t))}return s}class S0 extends Oh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yC extends Oh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vC{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&gC(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Vl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Vl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=p0();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=n.has(l.key)?null:p;const _=T0(d,p);_!==null&&s.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&io(this.mutations,t.mutations,((n,s)=>uE(n,s)))&&io(this.baseMutations,t.baseMutations,((n,s)=>uE(n,s)))}}class lp{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Ht(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return oC})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new lp(t,n,s,l)}}class EC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class TC{constructor(t,n){this.count=t,this.unchangedNames=n}}var we,Pt;function AC(r){switch(r){case X.OK:return mt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return mt(15467,{code:r})}}function b0(r){if(r===void 0)return sr("GRPC error has no .code"),X.UNKNOWN;switch(r){case we.OK:return X.OK;case we.CANCELLED:return X.CANCELLED;case we.UNKNOWN:return X.UNKNOWN;case we.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case we.INTERNAL:return X.INTERNAL;case we.UNAVAILABLE:return X.UNAVAILABLE;case we.UNAUTHENTICATED:return X.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case we.NOT_FOUND:return X.NOT_FOUND;case we.ALREADY_EXISTS:return X.ALREADY_EXISTS;case we.PERMISSION_DENIED:return X.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case we.ABORTED:return X.ABORTED;case we.OUT_OF_RANGE:return X.OUT_OF_RANGE;case we.UNIMPLEMENTED:return X.UNIMPLEMENTED;case we.DATA_LOSS:return X.DATA_LOSS;default:return mt(39323,{code:r})}}(Pt=we||(we={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function SC(){return new TextEncoder}const bC=new Xr([4294967295,4294967295],0);function fE(r){const t=SC().encode(r),n=new BT;return n.update(t),new Uint8Array(n.digest())}function dE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Xr([n,s],0),new Xr([l,c],0)]}class up{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new wl(`Invalid padding: ${n}`);if(s<0)throw new wl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new wl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Xr.fromNumber(this.ge)}ye(t,n,s){let l=t.add(n.multiply(Xr.fromNumber(s)));return l.compare(bC)===1&&(l=new Xr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=fE(t),[s,l]=dE(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new up(c,l,n);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const n=fE(t),[s,l]=dE(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.be(d)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mh{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,tu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Mh(_t.min(),l,new ae(Nt),ar(),Mt())}}class tu{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new tu(s,n,Mt(),Mt(),Mt())}}class Qc{constructor(t,n,s,l){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=l}}class R0{constructor(t,n){this.targetId=t,this.Ce=n}}class w0{constructor(t,n,s=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class mE{constructor(){this.ve=0,this.Fe=pE(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),n=Mt(),s=Mt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:mt(38017,{changeType:c})}})),new tu(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=pE()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class RC{constructor(t){this.Ge=t,this.ze=new Map,this.je=ar(),this.He=kc(),this.Je=kc(),this.Ze=new ae(Nt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,s=t.Ce.count,l=this.ot(n);if(l){const c=l.target;if(Em(c))if(s===0){const d=new ht(c.path);this.et(n,d,$e.newNoDocument(d,_t.min()))}else Ht(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(n);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let d,p;try{d=ts(s).toUint8Array()}catch(_){if(_ instanceof $T)return no("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new up(d,l,c)}catch(_){return no(_ instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(n,c,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Em(p.target)){const _=new ht(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,$e.newNoDocument(_,t))}c.Be&&(n.set(d,c.ke()),c.Ke())}}));let s=Mt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Mh(t,n,this.Ze,this.je,s);return this.je=ar(),this.He=kc(),this.Je=kc(),this.Ze=new ae(Nt),l}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new mE,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Ve(Nt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Ve(Nt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||nt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new mE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function kc(){return new ae(ht.comparator)}function pE(){return new ae(ht.comparator)}const wC={asc:"ASCENDING",desc:"DESCENDING"},IC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CC={and:"AND",or:"OR"};class DC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Am(r,t){return r.useProto3Json||bh(t)?t:{value:t}}function hh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function I0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function OC(r,t){return hh(r,t.toTimestamp())}function Ci(r){return Ht(!!r,49232),_t.fromTimestamp((function(n){const s=Wr(n);return new te(s.seconds,s.nanos)})(r))}function cp(r,t){return Sm(r,t).canonicalString()}function Sm(r,t){const n=(function(l){return new se(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function C0(r){const t=se.fromString(r);return Ht(V0(t),10190,{key:t.toString()}),t}function bm(r,t){return cp(r.databaseId,t.path)}function Wd(r,t){const n=C0(t);if(n.get(1)!==r.databaseId.projectId)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ht(O0(n))}function D0(r,t){return cp(r.databaseId,t)}function NC(r){const t=C0(r);return t.length===4?se.emptyPath():O0(t)}function Rm(r){return new se(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function O0(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function gE(r,t,n){return{name:bm(r,t),fields:n.value.mapValue.fields}}function MC(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:mt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Ht(A===void 0||typeof A=="string",58123),Ye.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ye.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?X.UNKNOWN:b0(y.code);return new at(A,y.message||"")})(d);n=new w0(s,l,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Wd(r,s.document.name),c=Ci(s.document.updateTime),d=s.document.createTime?Ci(s.document.createTime):_t.min(),p=new An({mapValue:{fields:s.document.fields}}),_=$e.newFoundDocument(l,c,d,p),y=s.targetIds||[],A=s.removedTargetIds||[];n=new Qc(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Wd(r,s.document),c=s.readTime?Ci(s.readTime):_t.min(),d=$e.newNoDocument(l,c),p=s.removedTargetIds||[];n=new Qc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Wd(r,s.document),c=s.removedTargetIds||[];n=new Qc([],c,l,null)}else{if(!("filter"in t))return mt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new TC(l,c),p=s.targetId;n=new R0(p,d)}}return n}function VC(r,t){let n;if(t instanceof Nh)n={update:gE(r,t.key,t.value)};else if(t instanceof S0)n={delete:bm(r,t.key)};else if(t instanceof ta)n={update:gE(r,t.key,t.data),updateMask:qC(t.fieldMask)};else{if(!(t instanceof yC))return mt(16599,{dt:t.type});n={verify:bm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof uh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Fl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Gl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ch)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw mt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:OC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:mt(27497)})(r,t.precondition)),n}function UC(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map((n=>(function(l,c){let d=l.updateTime?Ci(l.updateTime):Ci(c);return d.isEqual(_t.min())&&(d=Ci(c)),new pC(d,l.transformResults||[])})(n,t)))):[]}function PC(r,t){return{documents:[D0(r,t.path)]}}function kC(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=D0(r,l);const c=(function(y){if(y.length!==0)return M0(Ni.create(y,"and"))})(t.filters);c&&(n.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(O){return{field:Qa(O.field),direction:zC(O.dir)}})(A)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Am(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:l}}function LC(r){let t=NC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Ht(s===1,65062);const A=n.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];n.where&&(c=(function(b){const O=N0(b);return O instanceof Ni&&o0(O)?O.getFilters():[O]})(n.where));let d=[];n.orderBy&&(d=(function(b){return b.map((O=>(function(J){return new lh(Xa(J.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(O)))})(n.orderBy));let p=null;n.limit&&(p=(function(b){let O;return O=typeof b=="object"?b.value:b,bh(O)?null:O})(n.limit));let _=null;n.startAt&&(_=(function(b){const O=!!b.before,q=b.values||[];return new oh(q,O)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const O=!b.before,q=b.values||[];return new oh(q,O)})(n.endAt)),tC(t,l,d,c,p,"F",_,y)}function xC(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function N0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Xa(n.unaryFilter.field);return Me.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Xa(n.unaryFilter.field);return Me.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Xa(n.unaryFilter.field);return Me.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Xa(n.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Me.create(Xa(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ni.create(n.compositeFilter.filters.map((s=>N0(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(n.compositeFilter.op))})(r):mt(30097,{filter:r})}function zC(r){return wC[r]}function BC(r){return IC[r]}function HC(r){return CC[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function Xa(r){return Ke.fromServerFormat(r.fieldPath)}function M0(r){return r instanceof Me?(function(n){if(n.op==="=="){if(iE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NAN"}};if(nE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NAN"}};if(nE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(n.field),op:BC(n.op),value:n.value}}})(r):r instanceof Ni?(function(n){const s=n.getFilters().map((l=>M0(l)));return s.length===1?s[0]:{compositeFilter:{op:HC(n.op),filters:s}}})(r):mt(54877,{filter:r})}function qC(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function V0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function U0(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Kr{constructor(t,n,s,l,c=_t.min(),d=_t.min(),p=Ye.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Kr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class jC{constructor(t){this.yt=t}}function FC(r){const t=LC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Tm(t,t.limit,"L"):t}class GC{constructor(){this.Sn=new KC}addToCollectionParentIndex(t,n){return this.Sn.add(n),Q.resolve()}getCollectionParents(t,n){return Q.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return Q.resolve()}deleteFieldIndex(t,n){return Q.resolve()}deleteAllFieldIndexes(t){return Q.resolve()}createTargetIndexes(t,n){return Q.resolve()}getDocumentsMatchingTarget(t,n){return Q.resolve(null)}getIndexType(t,n){return Q.resolve(0)}getFieldIndexes(t,n){return Q.resolve([])}getNextCollectionGroupToUpdate(t){return Q.resolve(null)}getMinOffset(t,n){return Q.resolve(Zr.min())}getMinOffsetFromCollectionGroup(t,n){return Q.resolve(Zr.min())}updateCollectionGroup(t,n,s){return Q.resolve()}updateIndexEntries(t,n){return Q.resolve()}}class KC{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Ve(se.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ve(se.comparator)).toArray()}}const _E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},P0=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(P0,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class ao{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ao(0)}static ar(){return new ao(-1)}}const yE="LruGarbageCollector",YC=1048576;function vE([r,t],[n,s]){const l=Nt(r,n);return l===0?Nt(t,s):l}class QC{constructor(t){this.Pr=t,this.buffer=new Ve(vE),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();vE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XC{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){nt(yE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ho(n)?nt(yE,"Ignoring IndexedDB error during garbage collection: ",n):await co(n)}await this.Ar(3e5)}))}}class JC{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return Q.resolve(Sh.ce);const s=new QC(n);return this.Vr.forEachTarget(t,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(_E)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_E):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,l,c,d,p,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(s=b,p=Date.now(),this.removeTargets(t,s,n)))).next((b=>(c=b,_=Date.now(),this.removeOrphanedDocuments(t,s)))).next((b=>(y=Date.now(),Ka()<=Ot.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${b} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function $C(r,t){return new JC(r,t)}class ZC{constructor(){this.changes=new Ws((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Q.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class WC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class t2{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(s!==null&&Vl(s.mutation,l,$n.empty(),te.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Mt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Mt()){const l=Bs();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,s).next((c=>{let d=Rl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const s=Bs();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Mt())))}populateOverlays(t,n,s){const l=[];return s.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(t,n,s,l){let c=ar();const d=Ml(),p=(function(){return Ml()})();return n.forEach(((_,y)=>{const A=s.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof ta)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Vl(A.mutation,y,A.mutation.getFieldMask(),te.now())):d.set(y.key,$n.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),n.forEach(((y,A)=>p.set(y,new WC(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,n){const s=Ml();let l=new ae(((d,p)=>d-p)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=n.get(_);if(y===null)return;let A=s.get(_)||$n.empty();A=p.applyToLocalView(y,A),s.set(_,A);const b=(l.get(p.batchId)||Mt()).add(_);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,b=p0();A.forEach((O=>{if(!c.has(O)){const q=T0(n.get(O),s.get(O));q!==null&&b.set(O,q),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return Q.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,l){return eC(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):nC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):Q.resolve(Bs());let p=Bl,_=c;return d.next((y=>Q.forEach(y,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?Q.resolve():this.remoteDocumentCache.getEntry(t,A).next((O=>{_=_.insert(A,O)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Mt()))).next((A=>({batchId:p,changes:m0(A)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ht(n)).next((s=>{let l=Rl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let d=Rl();return this.indexManager.getCollectionParents(t,c).next((p=>Q.forEach(p,(_=>{const y=(function(b,O){return new wh(O,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next((A=>{A.forEach(((b,O)=>{d=d.insert(b,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,$e.newInvalidDocument(A)))}));let p=Rl();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Vl(A.mutation,y,$n.empty(),te.now()),Ch(n,y)&&(p=p.insert(_,y))})),p}))}}class e2{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return Q.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Ci(l.createTime)}})(n)),Q.resolve()}getNamedQuery(t,n){return Q.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:FC(l.bundledQuery),readTime:Ci(l.readTime)}})(n)),Q.resolve()}}class n2{constructor(){this.overlays=new ae(ht.comparator),this.Lr=new Map}getOverlay(t,n){return Q.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Bs();return Q.forEach(n,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((l,c)=>{this.bt(t,n,c)})),Q.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),Q.resolve()}getOverlaysForCollection(t,n,s){const l=Bs(),c=n.length+1,d=new ht(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>s&&l.set(_.getKey(),_)}return Q.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new ae(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let A=c.get(y.largestBatchId);A===null&&(A=Bs(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=Bs(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return Q.resolve(p)}bt(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new EC(n,s));let c=this.Lr.get(n);c===void 0&&(c=Mt(),this.Lr.set(n,c)),this.Lr.set(n,c.add(s.key))}}class i2{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return Q.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Q.resolve()}}class hp{constructor(){this.kr=new Ve(Le.Kr),this.qr=new Ve(Le.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new Le(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new Le(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new ht(new se([])),s=new Le(n,t),l=new Le(n,t+1),c=[];return this.qr.forEachInRange([s,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new ht(new se([])),s=new Le(n,t),l=new Le(n,t+1);let c=Mt();return this.qr.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const n=new Le(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Le{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return ht.comparator(t.key,n.key)||Nt(t.Hr,n.Hr)}static Ur(t,n){return Nt(t.Hr,n.Hr)||ht.comparator(t.key,n.key)}}class r2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ve(Le.Kr)}checkEmpty(t){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vC(c,n,s,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(t,n){return Q.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.Xr(s),c=l<0?0:l;return Q.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?ep:this.Yn-1)}getAllMutationBatches(t){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Le(n,0),l=new Le(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),Q.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ve(Nt);return n.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{s=s.add(p.Hr)}))})),Q.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;ht.isDocumentKey(c)||(c=c.child(""));const d=new Le(new ht(c),0);let p=new Ve(Nt);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),Q.resolve(this.Yr(p))}Yr(t){const n=[];return t.forEach((s=>{const l=this.Zr(s);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){Ht(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return Q.forEach(n.mutations,(l=>{const c=new Le(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new Le(n,0),l=this.Jr.firstAfterOrEqual(s);return Q.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Q.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class s2{constructor(t){this.ti=t,this.docs=(function(){return new ae(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,d=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Q.resolve(s?s.document.mutableCopy():$e.newInvalidDocument(n))}getEntries(t,n){let s=ar();return n.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():$e.newInvalidDocument(l))})),Q.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=ar();const d=n.path,p=new ht(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||NI(OI(A),s)<=0||(l.has(A.key)||Ch(n,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Q.resolve(c)}getAllFromCollectionGroup(t,n,s,l){mt(9500)}ni(t,n){return Q.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new a2(this)}getSize(t){return Q.resolve(this.size)}}class a2 extends ZC{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(s)})),Q.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class o2{constructor(t){this.persistence=t,this.ri=new Ws((n=>rp(n)),sp),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.ii=0,this.si=new hp,this.targetCount=0,this.oi=ao._r()}forEachTarget(t,n){return this.ri.forEach(((s,l)=>n(l))),Q.resolve()}getLastRemoteSnapshotVersion(t){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Q.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),Q.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new ao(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,Q.resolve()}updateTargetData(t,n){return this.lr(n),Q.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Q.waitFor(c).next((()=>l))}getTargetCount(t){return Q.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return Q.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),Q.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Q.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),Q.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return Q.resolve(s)}containsKey(t,n){return Q.resolve(this.si.containsKey(n))}}class k0{constructor(t,n){this._i={},this.overlays={},this.ai=new Sh(0),this.ui=!1,this.ui=!0,this.ci=new i2,this.referenceDelegate=t(this),this.li=new o2(this),this.indexManager=new GC,this.remoteDocumentCache=(function(l){return new s2(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new jC(n),this.Pi=new e2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new n2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new r2(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){nt("MemoryPersistence","Starting transaction:",t);const l=new l2(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,n){return Q.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class l2 extends VI{constructor(t){super(),this.currentSequenceNumber=t}}class fp{constructor(t){this.persistence=t,this.Ri=new hp,this.Ai=null}static Vi(t){return new fp(t)}get di(){if(this.Ai)return this.Ai;throw mt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),Q.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),Q.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.di,(s=>{const l=ht.fromPath(s);return this.mi(t,l).next((c=>{c||n.removeEntry(l,_t.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class fh{constructor(t,n){this.persistence=t,this.fi=new Ws((s=>kI(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=$C(this,n)}static Vi(t,n){return new fh(t,n)}Ti(){}Ii(t){return Q.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((l=>s+l))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return Q.forEach(this.fi,((s,l)=>this.wr(t,s,l).next((c=>c?Q.resolve():n(l)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,n).next((p=>{p||(s++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),Q.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),Q.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),Q.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),Q.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Gc(t.data.value)),n}wr(t,n,s){return Q.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.fi.get(n);return Q.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class dp{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=l}static Es(t,n){let s=Mt(),l=Mt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new dp(t,n.fromCache,s,l)}}class u2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class c2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Pb()?8:UI(Ze())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.gs(t,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,n,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new u2;return this.ys(t,n,d).next((p=>{if(c.result=p,this.As)return this.ws(t,n,d,p.size)}))})).next((()=>c.result))}ws(t,n,s,l){return s.documentReadCount<this.Vs?(Ka()<=Ot.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Q.resolve()):(Ka()<=Ot.DEBUG&&nt("QueryEngine","Query:",Ya(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(Ka()<=Ot.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(n))):Q.resolve())}gs(t,n){if(oE(n))return Q.resolve(null);let s=Ii(n);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Tm(n,null,"F"),s=Ii(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Mt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((_=>{const y=this.bs(n,p);return this.Ss(n,y,d,_.readTime)?this.gs(t,Tm(n,null,"F")):this.Ds(t,y,n,_)}))))})))))}ps(t,n,s,l){return oE(n)||l.isEqual(_t.min())?Q.resolve(null):this.fs.getDocuments(t,s).next((c=>{const d=this.bs(n,c);return this.Ss(n,d,s,l)?Q.resolve(null):(Ka()<=Ot.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ya(n)),this.Ds(t,d,n,DI(l,Bl)).next((p=>p)))}))}bs(t,n){let s=new Ve(f0(t));return n.forEach(((l,c)=>{Ch(t,c)&&(s=s.add(c))})),s}Ss(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,n,s){return Ka()<=Ot.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.fs.getDocumentsMatchingQuery(t,n,Zr.min(),s)}Ds(t,n,s,l){return this.fs.getDocumentsMatchingQuery(t,s,l).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const mp="LocalStore",h2=3e8;class f2{constructor(t,n,s,l){this.persistence=t,this.Cs=n,this.serializer=l,this.vs=new ae(Nt),this.Fs=new Ws((c=>rp(c)),sp),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new t2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function d2(r,t,n,s){return new f2(r,t,n,s)}async function L0(r,t){const n=vt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let _=Mt();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return n.localDocuments.getDocuments(s,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function m2(r,t){const n=vt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const b=y.batch,O=b.keys();let q=Q.resolve();return O.forEach((J=>{q=q.next((()=>A.getEntry(_,J))).next((W=>{const $=y.docVersions.get(J);Ht($!==null,48541),W.version.compareTo($)<0&&(b.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),A.addEntry(W)))}))})),q.next((()=>p.mutationQueue.removeMutationBatch(_,b)))})(n,s,t,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let _=Mt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function x0(r){const t=vt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function p2(r,t){const n=vt(r),s=t.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const p=[];t.targetChanges.forEach(((A,b)=>{const O=l.get(b);if(!O)return;p.push(n.li.removeMatchingKeys(c,A.removedDocuments,b).next((()=>n.li.addMatchingKeys(c,A.addedDocuments,b))));let q=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?q=q.withResumeToken(Ye.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,s)),l=l.insert(b,q),(function(W,$,ot){return W.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=h2?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(O,q,A)&&p.push(n.li.updateTargetData(c,q))}));let _=ar(),y=Mt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(g2(c,d,t.documentUpdates).next((A=>{_=A.Bs,y=A.Ls}))),!s.isEqual(_t.min())){const A=n.li.getLastRemoteSnapshotVersion(c).next((b=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(A)}return Q.waitFor(p).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(n.vs=l,c)))}function g2(r,t,n){let s=Mt(),l=Mt();return n.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let d=ar();return n.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(_t.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):nt(mp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function _2(r,t){const n=vt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=ep),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function y2(r,t){const n=vt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.li.getTargetData(s,t).next((c=>c?(l=c,Q.resolve(l)):n.li.allocateTargetId(s).next((d=>(l=new Kr(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function wm(r,t,n){const s=vt(r),l=s.vs.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ho(d))throw d;nt(mp,`Failed to update sequence numbers for target ${t}: ${d}`)}s.vs=s.vs.remove(t),s.Fs.delete(l.target)}function EE(r,t,n){const s=vt(r);let l=_t.min(),c=Mt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const b=vt(_),O=b.Fs.get(A);return O!==void 0?Q.resolve(b.vs.get(O)):b.li.getTargetData(y,A)})(s,d,Ii(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,t,n?l:_t.min(),n?c:Mt()))).next((p=>(v2(s,rC(t),p),{documents:p,ks:c})))))}function v2(r,t,n){let s=r.Ms.get(t)||_t.min();n.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(t,s)}class TE{constructor(){this.activeTargetIds=cC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class E2{constructor(){this.vo=new TE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new TE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class T2{Mo(t){}shutdown(){}}const AE="ConnectivityMonitor";class SE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){nt(AE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){nt(AE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Lc=null;function Im(){return Lc===null?Lc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lc++,"0x"+Lc.toString(16)}const tm="RestConnection",A2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class S2{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===sh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(t,n,s,l,c){const d=Im(),p=this.Qo(t,n.toUriEncodedString());nt(tm,`Sending RPC '${t}' ${d}:`,p,s);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(p),A=rs(y);return this.zo(t,p,_,s,A).then((b=>(nt(tm,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw no(tm,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",s),b}))}jo(t,n,s,l,c,d){return this.Wo(t,n,s,l,c)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}Qo(t,n){const s=A2[t];let l=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class b2{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Xe="WebChannelConnection",El=(r,t,n)=>{r.listen(t,(s=>{try{n(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class to extends S2{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!to.c_){const t=FT();El(t,jT.STAT_EVENT,(n=>{n.stat===pm.PROXY?nt(Xe,"STAT_EVENT: detected buffering proxy"):n.stat===pm.NOPROXY&&nt(Xe,"STAT_EVENT: detected no buffering proxy")})),to.c_=!0}}zo(t,n,s,l,c){const d=Im();return new Promise(((p,_)=>{const y=new HT;y.setWithCredentials(!0),y.listenOnce(qT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Fc.NO_ERROR:const b=y.getResponseJson();nt(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Fc.TIMEOUT:nt(Xe,`RPC '${t}' ${d} timed out`),_(new at(X.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const O=y.getStatus();if(nt(Xe,`RPC '${t}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const J=q?.error;if(J&&J.status&&J.message){const W=(function(ot){const pt=ot.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(pt)>=0?pt:X.UNKNOWN})(J.status);_(new at(W,J.message))}else _(new at(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new at(X.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{nt(Xe,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);nt(Xe,`RPC '${t}' ${d} sending request:`,l),y.send(n,"POST",A,s,15)}))}T_(t,n,s){const l=Im(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const y=c.join("");nt(Xe,`Creating RPC '${t}' stream ${l}: ${y}`,p);const A=d.createWebChannel(y,p);this.I_(A);let b=!1,O=!1;const q=new b2({Ho:J=>{O?nt(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(b||(nt(Xe,`Opening RPC '${t}' stream ${l} transport.`),A.open(),b=!0),nt(Xe,`RPC '${t}' stream ${l} sending:`,J),A.send(J))},Jo:()=>A.close()});return El(A,bl.EventType.OPEN,(()=>{O||(nt(Xe,`RPC '${t}' stream ${l} transport opened.`),q.i_())})),El(A,bl.EventType.CLOSE,(()=>{O||(O=!0,nt(Xe,`RPC '${t}' stream ${l} transport closed`),q.o_(),this.E_(A))})),El(A,bl.EventType.ERROR,(J=>{O||(O=!0,no(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),q.o_(new at(X.UNAVAILABLE,"The operation could not be completed")))})),El(A,bl.EventType.MESSAGE,(J=>{if(!O){const W=J.data[0];Ht(!!W,16349);const $=W,ot=$?.error||$[0]?.error;if(ot){nt(Xe,`RPC '${t}' stream ${l} received error:`,ot);const pt=ot.status;let ut=(function(It){const I=we[It];if(I!==void 0)return b0(I)})(pt),At=ot.message;ut===void 0&&(ut=X.INTERNAL,At="Unknown error status: "+pt+" with message "+ot.message),O=!0,q.o_(new at(ut,At)),A.close()}else nt(Xe,`RPC '${t}' stream ${l} received:`,W),q.__(W)}})),to.u_(),setTimeout((()=>{q.s_()}),0),q}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return GT()}}function R2(r){return new to(r)}function em(){return typeof document<"u"?document:null}function Vh(r){return new DC(r,!0)}to.c_=!1;class z0{constructor(t,n,s=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const bE="PersistentStream";class B0{constructor(t,n,s,l,c,d,p,_){this.Ci=t,this.b_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new z0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{t((()=>{const l=new at(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return nt(bE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(nt(bE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class w2 extends B0{constructor(t,n,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=MC(this.serializer,t),s=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Ci(d.readTime):_t.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=Rm(this.serializer),n.addTarget=(function(c,d){let p;const _=d.target;if(p=Em(_)?{documents:PC(c,_)}:{query:kC(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=I0(c,d.resumeToken);const y=Am(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=hh(c,d.snapshotVersion.toTimestamp());const y=Am(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const s=xC(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=Rm(this.serializer),n.removeTarget=t,this.K_(n)}}class I2 extends B0{constructor(t,n,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=UC(t.writeResults,t.commitTime),s=Ci(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Rm(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>VC(this.serializer,s)))};this.K_(n)}}class C2{}class D2 extends C2{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,Sm(n,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(X.UNKNOWN,c.toString())}))}jo(t,n,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,Sm(n,s),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function O2(r,t,n,s){return new D2(r,t,n,s)}class N2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sr(n),this.aa=!1):nt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xs="RemoteStore";class M2{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{ea(this)&&(nt(Xs,"Restarting streams for network reachability change."),await(async function(_){const y=vt(_);y.Ea.add(4),await eu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Uh(y)})(this))}))})),this.Va=new N2(s,l)}}async function Uh(r){if(ea(r))for(const t of r.Ra)await t(!0)}async function eu(r){for(const t of r.Ra)await t(!1)}function H0(r,t){const n=vt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),yp(n)?_p(n):fo(n).O_()&&gp(n,t))}function pp(r,t){const n=vt(r),s=fo(n);n.Ia.delete(t),s.O_()&&q0(n,t),n.Ia.size===0&&(s.O_()?s.L_():ea(n)&&n.Va.set("Unknown"))}function gp(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}fo(r).Z_(t)}function q0(r,t){r.da.$e(t),fo(r).X_(t)}function _p(r){r.da=new RC({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),fo(r).start(),r.Va.ua()}function yp(r){return ea(r)&&!fo(r).x_()&&r.Ia.size>0}function ea(r){return vt(r).Ea.size===0}function j0(r){r.da=void 0}async function V2(r){r.Va.set("Online")}async function U2(r){r.Ia.forEach(((t,n)=>{gp(r,t)}))}async function P2(r,t){j0(r),yp(r)?(r.Va.ha(t),_p(r)):r.Va.set("Unknown")}async function k2(r,t,n){if(r.Va.set("Online"),t instanceof w0&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(r,t)}catch(s){nt(Xs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await dh(r,s)}else if(t instanceof Qc?r.da.Xe(t):t instanceof R0?r.da.st(t):r.da.tt(t),!n.isEqual(_t.min()))try{const s=await x0(r.localStore);n.compareTo(s)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Ye.EMPTY_BYTE_STRING,A.snapshotVersion)),q0(c,_);const b=new Kr(A.target,_,y,A.sequenceNumber);gp(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){nt(Xs,"Failed to raise snapshot:",s),await dh(r,s)}}async function dh(r,t,n){if(!ho(t))throw t;r.Ea.add(1),await eu(r),r.Va.set("Offline"),n||(n=()=>x0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{nt(Xs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Uh(r)}))}function F0(r,t){return t().catch((n=>dh(r,n,t)))}async function Ph(r){const t=vt(r),n=ns(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ep;for(;L2(t);)try{const l=await _2(t.localStore,s);if(l===null){t.Ta.length===0&&n.L_();break}s=l.batchId,x2(t,l)}catch(l){await dh(t,l)}G0(t)&&K0(t)}function L2(r){return ea(r)&&r.Ta.length<10}function x2(r,t){r.Ta.push(t);const n=ns(r);n.O_()&&n.Y_&&n.ea(t.mutations)}function G0(r){return ea(r)&&!ns(r).x_()&&r.Ta.length>0}function K0(r){ns(r).start()}async function z2(r){ns(r).ra()}async function B2(r){const t=ns(r);for(const n of r.Ta)t.ea(n.mutations)}async function H2(r,t,n){const s=r.Ta.shift(),l=lp.from(s,t,n);await F0(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ph(r)}async function q2(r,t){t&&ns(r).Y_&&await(async function(s,l){if((function(d){return AC(d)&&d!==X.ABORTED})(l.code)){const c=s.Ta.shift();ns(s).B_(),await F0(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ph(s)}})(r,t),G0(r)&&K0(r)}async function RE(r,t){const n=vt(r);n.asyncQueue.verifyOperationInProgress(),nt(Xs,"RemoteStore received new credentials");const s=ea(n);n.Ea.add(3),await eu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Uh(n)}async function j2(r,t){const n=vt(r);t?(n.Ea.delete(2),await Uh(n)):t||(n.Ea.add(2),await eu(n),n.Va.set("Unknown"))}function fo(r){return r.ma||(r.ma=(function(n,s,l){const c=vt(n);return c.sa(),new w2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:V2.bind(null,r),Yo:U2.bind(null,r),t_:P2.bind(null,r),J_:k2.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),yp(r)?_p(r):r.Va.set("Unknown")):(await r.ma.stop(),j0(r))}))),r.ma}function ns(r){return r.fa||(r.fa=(function(n,s,l){const c=vt(n);return c.sa(),new I2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:z2.bind(null,r),t_:q2.bind(null,r),ta:B2.bind(null,r),na:H2.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Ph(r)):(await r.fa.stop(),r.Ta.length>0&&(nt(Xs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class vp{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const d=Date.now()+s,p=new vp(t,n,d,l,c);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ep(r,t){if(sr("AsyncQueue",`${t}: ${r}`),ho(r))return new at(X.UNAVAILABLE,`${t}: ${r}`);throw r}class eo{static emptySet(t){return new eo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ht.comparator(n.key,s.key):(n,s)=>ht.comparator(n.key,s.key),this.keyedMap=Rl(),this.sortedSet=new ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof eo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new eo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class wE{constructor(){this.ga=new ae(ht.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):mt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class oo{constructor(t,n,s,l,c,d,p,_,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,l,c){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new oo(t,n,eo.emptySet(n),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ih(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class F2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class G2{constructor(){this.queries=IE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=vt(n),c=l.queries;l.queries=IE(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(s)}))})(this,new at(X.ABORTED,"Firestore shutting down"))}}function IE(){return new Ws((r=>h0(r)),Ih)}async function K2(r,t){const n=vt(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.Sa()&&t.Da()&&(s=2):(c=new F2,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=Ep(d,`Initialization of query '${Ya(t.query)}' failed`);return void t.onError(p)}n.queries.set(l,c),c.ba.push(t),t.va(n.onlineState),c.wa&&t.Fa(c.wa)&&Tp(n)}async function Y2(r,t){const n=vt(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Q2(r,t){const n=vt(r);let s=!1;for(const l of t){const c=l.query,d=n.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(s=!0);d.wa=l}}s&&Tp(n)}function X2(r,t,n){const s=vt(r),l=s.queries.get(t);if(l)for(const c of l.ba)c.onError(n);s.queries.delete(t)}function Tp(r){r.Ca.forEach((t=>{t.next()}))}var Cm,CE;(CE=Cm||(Cm={})).Ma="default",CE.Cache="cache";class J2{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new oo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Cm.Cache}}class Y0{constructor(t){this.key=t}}class Q0{constructor(t){this.key=t}}class $2{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Mt(),this.mutatedKeys=Mt(),this.eu=f0(t),this.tu=new eo(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new wE,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const O=l.get(A),q=Ch(this.query,b)?b:null,J=!!O&&this.mutatedKeys.has(O.key),W=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let $=!1;O&&q?O.data.isEqual(q.data)?J!==W&&(s.track({type:3,doc:q}),$=!0):this.su(O,q)||(s.track({type:2,doc:q}),$=!0,(_&&this.eu(q,_)>0||y&&this.eu(q,y)<0)&&(p=!0)):!O&&q?(s.track({type:0,doc:q}),$=!0):O&&!q&&(s.track({type:1,doc:O}),$=!0,(_||y)&&(p=!0)),$&&(q?(d=d.add(q),c=W?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Ss:p,mutatedKeys:c}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(q,J){const W=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Vt:$})}};return W(q)-W(J)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(s),l=l??!1;const p=n&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new oo(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Mt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new Q0(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new Y0(s))})),n}cu(t){this.Za=t.ks,this.Ya=Mt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ap="SyncEngine";class Z2{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class W2{constructor(t){this.key=t,this.hu=!1}}class tD{constructor(t,n,s,l,c,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ws((p=>h0(p)),Ih),this.Iu=new Map,this.Eu=new Set,this.Ru=new ae(ht.comparator),this.Au=new Map,this.Vu=new hp,this.du={},this.mu=new Map,this.fu=ao.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eD(r,t,n=!0){const s=tA(r);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await X0(s,t,n,!0),l}async function nD(r,t){const n=tA(r);await X0(n,t,!0,!1)}async function X0(r,t,n,s){const l=await y2(r.localStore,Ii(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,n);let p;return s&&(p=await iD(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&H0(r.remoteStore,l),p}async function iD(r,t,n,s,l){r.pu=(b,O,q)=>(async function(W,$,ot,pt){let ut=$.view.ru(ot);ut.Ss&&(ut=await EE(W.localStore,$.query,!1).then((({documents:I})=>$.view.ru(I,ut))));const At=pt&&pt.targetChanges.get($.targetId),Jt=pt&&pt.targetMismatches.get($.targetId)!=null,It=$.view.applyChanges(ut,W.isPrimaryClient,At,Jt);return OE(W,$.targetId,It.au),It.snapshot})(r,b,O,q);const c=await EE(r.localStore,t,!0),d=new $2(t,c.ks),p=d.ru(c.documents),_=tu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);OE(r,n,y.au);const A=new Z2(t,n,d);return r.Tu.set(t,A),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function rD(r,t,n){const s=vt(r),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!Ih(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await wm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&pp(s.remoteStore,l.targetId),Dm(s,l.targetId)})).catch(co)):(Dm(s,l.targetId),await wm(s.localStore,l.targetId,!0))}async function sD(r,t){const n=vt(r),s=n.Tu.get(t),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),pp(n.remoteStore,s.targetId))}async function aD(r,t,n){const s=dD(r);try{const l=await(function(d,p){const _=vt(d),y=te.now(),A=p.reduce(((q,J)=>q.add(J.key)),Mt());let b,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let J=ar(),W=Mt();return _.xs.getEntries(q,A).next(($=>{J=$,J.forEach(((ot,pt)=>{pt.isValidDocument()||(W=W.add(ot))}))})).next((()=>_.localDocuments.getOverlayedDocuments(q,J))).next(($=>{b=$;const ot=[];for(const pt of p){const ut=_C(pt,b.get(pt.key).overlayedDocument);ut!=null&&ot.push(new ta(pt.key,ut,r0(ut.value.mapValue),nr.exists(!0)))}return _.mutationQueue.addMutationBatch(q,y,ot,p)})).next(($=>{O=$;const ot=$.applyToLocalDocumentSet(b,W);return _.documentOverlayCache.saveOverlays(q,$.batchId,ot)}))})).then((()=>({batchId:O.batchId,changes:m0(b)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new ae(Nt)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(s,l.batchId,n),await nu(s,l.changes),await Ph(s.remoteStore)}catch(l){const c=Ep(l,"Failed to persist write");n.reject(c)}}async function J0(r,t){const n=vt(r);try{const s=await p2(n.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=n.Au.get(c);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await nu(n,s,t)}catch(s){await co(s)}}function DE(r,t,n){const s=vt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=vt(d);_.onlineState=p;let y=!1;_.queries.forEach(((A,b)=>{for(const O of b.ba)O.va(p)&&(y=!0)})),y&&Tp(_)})(s.eventManager,t),l.length&&s.Pu.J_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function oD(r,t,n){const s=vt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new ae(ht.comparator);d=d.insert(c,$e.newNoDocument(c,_t.min()));const p=Mt().add(c),_=new Mh(_t.min(),new Map,new ae(Nt),d,p);await J0(s,_),s.Ru=s.Ru.remove(c),s.Au.delete(t),Sp(s)}else await wm(s.localStore,t,!1).then((()=>Dm(s,t,n))).catch(co)}async function lD(r,t){const n=vt(r),s=t.batch.batchId;try{const l=await m2(n.localStore,t);Z0(n,s,null),$0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await nu(n,l)}catch(l){await co(l)}}async function uD(r,t,n){const s=vt(r);try{const l=await(function(d,p){const _=vt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((b=>(Ht(b!==null,37113),A=b.keys(),_.mutationQueue.removeMutationBatch(y,b)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(s.localStore,t);Z0(s,t,n),$0(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await nu(s,l)}catch(l){await co(l)}}function $0(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function Z0(r,t,n){const s=vt(r);let l=s.du[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.du[s.currentUser.toKey()]=l}}function Dm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((s=>{r.Vu.containsKey(s)||W0(r,s)}))}function W0(r,t){r.Eu.delete(t.path.canonicalString());const n=r.Ru.get(t);n!==null&&(pp(r.remoteStore,n),r.Ru=r.Ru.remove(t),r.Au.delete(n),Sp(r))}function OE(r,t,n){for(const s of n)s instanceof Y0?(r.Vu.addReference(s.key,t),cD(r,s)):s instanceof Q0?(nt(Ap,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,t),r.Vu.containsKey(s.key)||W0(r,s.key)):mt(19791,{wu:s})}function cD(r,t){const n=t.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(nt(Ap,"New document in limbo: "+n),r.Eu.add(s),Sp(r))}function Sp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new ht(se.fromString(t)),s=r.fu.next();r.Au.set(s,new W2(n)),r.Ru=r.Ru.insert(n,s),H0(r.remoteStore,new Kr(Ii(ap(n.path)),s,"TargetPurposeLimboResolution",Sh.ce))}}async function nu(r,t,n){const s=vt(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,_)=>{d.push(s.pu(_,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const A=y?!y.fromCache:n?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=dp.Es(_.targetId,y);c.push(A)}})))})),await Promise.all(d),s.Pu.J_(l),await(async function(_,y){const A=vt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Q.forEach(y,(O=>Q.forEach(O.Ts,(q=>A.persistence.referenceDelegate.addReference(b,O.targetId,q))).next((()=>Q.forEach(O.Is,(q=>A.persistence.referenceDelegate.removeReference(b,O.targetId,q)))))))))}catch(b){if(!ho(b))throw b;nt(mp,"Failed to update sequence numbers: "+b)}for(const b of y){const O=b.targetId;if(!b.fromCache){const q=A.vs.get(O),J=q.snapshotVersion,W=q.withLastLimboFreeSnapshotVersion(J);A.vs=A.vs.insert(O,W)}}})(s.localStore,c))}async function hD(r,t){const n=vt(r);if(!n.currentUser.isEqual(t)){nt(Ap,"User change. New user:",t.toKey());const s=await L0(n.localStore,t);n.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new at(X.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await nu(n,s.Ns)}}function fD(r,t){const n=vt(r),s=n.Au.get(t);if(s&&s.hu)return Mt().add(s.key);{let l=Mt();const c=n.Iu.get(t);if(!c)return l;for(const d of c){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function tA(r){const t=vt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=J0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oD.bind(null,t),t.Pu.J_=Q2.bind(null,t.eventManager),t.Pu.yu=X2.bind(null,t.eventManager),t}function dD(r){const t=vt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uD.bind(null,t),t}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Vh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return d2(this.persistence,new c2,t.initialUser,this.serializer)}Cu(t){return new k0(fp.Vi,this.serializer)}Du(t){return new E2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class mD extends mh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ht(this.persistence.referenceDelegate instanceof fh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new XC(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new k0((s=>fh.Vi(s,n)),this.serializer)}}class Om{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>DE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=hD.bind(null,this.syncEngine),await j2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new G2})()}createDatastore(t){const n=Vh(t.databaseInfo.databaseId),s=R2(t.databaseInfo);return O2(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,l,c,d,p){return new M2(s,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(n=>DE(this.syncEngine,n,0)),(function(){return SE.v()?new SE:new T2})())}createSyncEngine(t,n){return(function(l,c,d,p,_,y,A){const b=new tD(l,c,d,p,_,y);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=vt(n);nt(Xs,"RemoteStore shutting down."),s.Ea.add(5),await eu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Om.provider={build:()=>new Om};class pD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):sr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const is="FirestoreClient";class gD{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=Wm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{nt(is,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(nt(is,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Ep(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function nm(r,t){r.asyncQueue.verifyOperationInProgress(),nt(is,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await L0(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function NE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await _D(r);nt(is,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>RE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>RE(t.remoteStore,l))),r._onlineComponents=t}async function _D(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){nt(is,"Using user provided OfflineComponentProvider");try{await nm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;no("Error using user provided cache. Falling back to memory cache: "+n),await nm(r,new mh)}}else nt(is,"Using default OfflineComponentProvider"),await nm(r,new mD(void 0));return r._offlineComponents}async function eA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(nt(is,"Using user provided OnlineComponentProvider"),await NE(r,r._uninitializedComponentsProvider._online)):(nt(is,"Using default OnlineComponentProvider"),await NE(r,new Om))),r._onlineComponents}function yD(r){return eA(r).then((t=>t.syncEngine))}async function vD(r){const t=await eA(r),n=t.eventManager;return n.onListen=eD.bind(null,t.syncEngine),n.onUnlisten=rD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=nD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=sD.bind(null,t.syncEngine),n}function ED(r,t,n={}){const s=new Jr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new pD({next:O=>{A.Nu(),d.enqueueAndForget((()=>Y2(c,b)));const q=O.docs.has(p);!q&&O.fromCache?y.reject(new at(X.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&O.fromCache&&_&&_.source==="server"?y.reject(new at(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(O)},error:O=>y.reject(O)}),b=new J2(ap(p.path),A,{includeMetadataChanges:!0,Ka:!0});return K2(c,b)})(await vD(r),r.asyncQueue,t,n,s))),s.promise}function TD(r,t){const n=new Jr;return r.asyncQueue.enqueueAndForget((async()=>aD(await yD(r),t,n))),n.promise}function nA(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const AD="ComponentProvider",ME=new Map;function SD(r,t,n,s,l){return new zI(r,t,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,nA(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}const iA="firestore.googleapis.com",VE=!0;class UE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iA,this.ssl=VE}else this.host=t.host,this.ssl=t.ssl??VE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=P0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<YC)throw new at(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}CI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nA(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bp{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new _I;switch(s.type){case"firstParty":return new TI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=ME.get(n);s&&(nt(AD,"Removing Datastore"),ME.delete(n),s.terminate())})(this),Promise.resolve()}}function bD(r,t,n,s={}){r=zl(r,bp);const l=rs(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${n}`;l&&(Lm(`https://${p}`),xm("Firestore",!0)),c.host!==iA&&c.host!==p&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:s};if(!Fs(_,d)&&(r._setSettings(_),s.mockUserToken)){let y,A;if(typeof s.mockUserToken=="string")y=s.mockUserToken,A=Je.MOCK_USER;else{y=WE(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new at(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Je(b)}r._authCredentials=new yI(new YT(y,A))}}class Rp{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Rp(this.firestore,t,this._query)}}class xe{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xe(this.firestore,t,this._key)}toJSON(){return{type:xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Wl(n,xe._jsonSchema))return new xe(t,s||null,new ht(se.fromString(n.referencePath)))}}xe._jsonSchemaVersion="firestore/documentReference/1.0",xe._jsonSchema={type:Ie("string",xe._jsonSchemaVersion),referencePath:Ie("string")};class Kl extends Rp{constructor(t,n,s){super(t,n,ap(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xe(this.firestore,null,new ht(t))}withConverter(t){return new Kl(this.firestore,t,this._path)}}function wp(r,t,...n){if(r=ue(r),arguments.length===1&&(t=Wm.newId()),II("doc","path",t),r instanceof bp){const s=se.fromString(t,...n);return Qv(s),new xe(r,null,new ht(s))}{if(!(r instanceof xe||r instanceof Kl))throw new at(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(se.fromString(t,...n));return Qv(s),new xe(r.firestore,r instanceof Kl?r.converter:null,new ht(s))}}const PE="AsyncQueue";class kE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new z0(this,"async_queue_retry"),this._c=()=>{const s=em();s&&nt(PE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Jr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ho(t))throw t;nt(PE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,sr("INTERNAL UNHANDLED ERROR: ",LE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=vp.createAndSchedule(this,t,n,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&mt(47125,{Pc:LE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function LE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Ip extends bp{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new kE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new kE(t),this._firestoreClient=void 0,await t}}}function RD(r,t){const n=typeof r=="object"?r:Hm(),s=typeof r=="string"?r:sh,l=vh(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=JE("firestore");c&&bD(l,...c)}return l}function rA(r){if(r._terminated)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||wD(r),r._firestoreClient}function wD(r){const t=r._freezeSettings(),n=SD(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new gD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Ye.fromBase64String(t))}catch(n){throw new at(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ln(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Wl(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ie("string",Ln._jsonSchemaVersion),bytes:Ie("string")};class Cp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new at(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Dp{constructor(t){this._methodName=t}}class Di{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new at(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new at(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(t){if(Wl(t,Di._jsonSchema))return new Di(t.latitude,t.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Ie("string",Di._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class Zn{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Wl(t,Zn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Zn(t.vectorValues);throw new at(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zn._jsonSchemaVersion="firestore/vectorValue/1.0",Zn._jsonSchema={type:Ie("string",Zn._jsonSchemaVersion),vectorValues:Ie("object")};const ID=/^__.*__$/;class sA{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new ta(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function aA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{dataSource:r})}}class Op{constructor(t,n,s,l,c,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Op({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return gh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(aA(this.dataSource)&&ID.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class CD{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Vh(t)}createContext(t,n,s,l=!1){return new Op({dataSource:t,methodName:n,targetDoc:s,path:Ke.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DD(r){const t=r._freezeSettings(),n=Vh(r._databaseId);return new CD(r._databaseId,!!t.ignoreUndefinedProperties,n)}class kh extends Dp{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof kh}}function OD(r,t,n,s){const l=r.createContext(1,t,n);lA("Data must be an object, but it was:",l,s);const c=[],d=An.empty();os(s,((_,y)=>{const A=uA(t,_,n);y=ue(y);const b=l.childContextForFieldPath(A);if(y instanceof kh)c.push(A);else{const O=Lh(y,b);O!=null&&(c.push(A),d.set(A,O))}}));const p=new $n(c);return new sA(d,p,l.fieldTransforms)}function ND(r,t,n,s,l,c){const d=r.createContext(1,t,n),p=[ph(t,s,n)],_=[l];if(c.length%2!=0)throw new at(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)p.push(ph(t,c[O])),_.push(c[O+1]);const y=[],A=An.empty();for(let O=p.length-1;O>=0;--O)if(!UD(y,p[O])){const q=p[O];let J=_[O];J=ue(J);const W=d.childContextForFieldPath(q);if(J instanceof kh)y.push(q);else{const $=Lh(J,W);$!=null&&(y.push(q),A.set(q,$))}}const b=new $n(y);return new sA(A,b,d.fieldTransforms)}function Lh(r,t){if(oA(r=ue(r)))return lA("Unsupported field value:",t,r),MD(r,t);if(r instanceof Dp)return(function(s,l){if(!aA(l.dataSource))throw l.createError(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const p of s){let _=Lh(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(s,l){if((s=ue(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return hC(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=te.fromDate(s);return{timestampValue:hh(l.serializer,c)}}if(s instanceof te){const c=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:hh(l.serializer,c)}}if(s instanceof Di)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ln)return{bytesValue:I0(l.serializer,s._byteString)};if(s instanceof xe){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:cp(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Zn)return(function(d,p){const _=d instanceof Zn?d.toArray():d;return{mapValue:{fields:{[n0]:{stringValue:i0},[ah]:{arrayValue:{values:_.map((A=>{if(typeof A!="number")throw p.createError("VectorValues must only contain numeric values.");return op(p.serializer,A)}))}}}}}})(s,l);if(U0(s))return s._toProto(l.serializer);throw l.createError(`Unsupported field value: ${tp(s)}`)})(r,t)}function MD(r,t){const n={};return JT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):os(r,((s,l)=>{const c=Lh(l,t.childContextForField(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function oA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof te||r instanceof Di||r instanceof Ln||r instanceof xe||r instanceof Dp||r instanceof Zn||U0(r))}function lA(r,t,n){if(!oA(n)||!QT(n)){const s=tp(n);throw s==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+s)}}function ph(r,t,n){if((t=ue(t))instanceof Cp)return t._internalPath;if(typeof t=="string")return uA(r,t);throw gh("Field path arguments must be of type string or ",r,!1,void 0,n)}const VD=new RegExp("[~\\*/\\[\\]]");function uA(r,t,n){if(t.search(VD)>=0)throw gh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Cp(...t.split("."))._internalPath}catch{throw gh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function gh(r,t,n,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${s}`),d&&(_+=` in document ${l}`),_+=")"),new at(X.INVALID_ARGUMENT,p+r+_)}function UD(r,t){return r.some((n=>n.isEqual(t)))}class PD{convertValue(t,n="none"){switch(es(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ts(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return os(t,((l,c)=>{s[l]=this.convertValue(c,n)})),s}convertVectorValue(t){const n=t.fields?.[ah].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new Zn(n)}convertGeoPoint(t){return new Di(ge(t.latitude),ge(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Rh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Hl(t));default:return null}}convertTimestamp(t){const n=Wr(t);return new te(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=se.fromString(t);Ht(V0(s),9688,{name:t});const l=new ql(s.get(1),s.get(3)),c=new ht(s.popFirst(5));return l.isEqual(n)||sr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class kD extends PD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new xe(this.firestore,null,n)}}const xE="@firebase/firestore",zE="4.10.0";class cA{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new LD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(ph("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LD extends cA{data(){return super.data()}}class Il{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Hs extends cA{constructor(t,n,s,l,c,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(ph("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Hs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hs._jsonSchema={type:Ie("string",Hs._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Xc extends Hs{data(t={}){return super.data(t)}}class Ul{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Il(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Xc(this._firestore,this._userDataWriter,s.key,s,new Il(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new at(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Xc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Il(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Xc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Il(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:xD(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ul._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Wm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function xD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:r})}}Ul._jsonSchemaVersion="firestore/querySnapshot/1.0",Ul._jsonSchema={type:Ie("string",Ul._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};function hA(r){r=zl(r,xe);const t=zl(r.firestore,Ip),n=rA(t);return ED(n,r._key).then((s=>HD(t,r,s)))}function zD(r,t,n,...s){r=zl(r,xe);const l=zl(r.firestore,Ip),c=DD(l);let d;return d=typeof(t=ue(t))=="string"||t instanceof Cp?ND(c,"updateDoc",r._key,t,n,s):OD(c,"updateDoc",r._key,t),BD(l,[d.toMutation(r._key,nr.exists(!0))])}function BD(r,t){const n=rA(r);return TD(n,t)}function HD(r,t,n){const s=n.docs.get(t._key),l=new kD(r);return new Hs(r,l,t._key,s,new Il(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){gI($s),Gs(new $r("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new Ip(new vI(s.getProvider("auth-internal")),new AI(d,s.getProvider("app-check-internal")),BI(d,l),d);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),bi(xE,zE,t),bi(xE,zE,"esm2020")})();const fA="firebasestorage.googleapis.com",dA="storageBucket",qD=120*1e3,jD=600*1e3;class he extends Mi{constructor(t,n,s=0){super(im(t),`Firebase Storage: ${n} (${im(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,he.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return im(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ce;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ce||(ce={}));function im(r){return"storage/"+r}function Np(){const r="An unknown error occurred, please check the error payload for server response.";return new he(ce.UNKNOWN,r)}function FD(r){return new he(ce.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function GD(r){return new he(ce.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function KD(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new he(ce.UNAUTHENTICATED,r)}function YD(){return new he(ce.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function QD(r){return new he(ce.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function XD(){return new he(ce.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function JD(){return new he(ce.CANCELED,"User canceled the upload/download.")}function $D(r){return new he(ce.INVALID_URL,"Invalid URL '"+r+"'.")}function ZD(r){return new he(ce.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function WD(){return new he(ce.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+dA+"' property when initializing the app?")}function tO(){return new he(ce.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function eO(){return new he(ce.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function nO(r){return new he(ce.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Nm(r){return new he(ce.INVALID_ARGUMENT,r)}function mA(){return new he(ce.APP_DELETED,"The Firebase app was deleted.")}function iO(r){return new he(ce.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pl(r,t){return new he(ce.INVALID_FORMAT,"String does not match format '"+r+"': "+t)}function Tl(r){throw new he(ce.INTERNAL_ERROR,"Internal error: "+r)}class Sn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let s;try{s=Sn.makeFromUrl(t,n)}catch{return new Sn(t,"")}if(s.path==="")return s;throw ZD(t)}static makeFromUrl(t,n){let s=null;const l="([A-Za-z0-9.\\-_]+)";function c(At){At.path.charAt(At.path.length-1)==="/"&&(At.path_=At.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+l+d,"i"),_={bucket:1,path:3};function y(At){At.path_=decodeURIComponent(At.path)}const A="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),O="(/([^?#]*).*)?$",q=new RegExp(`^https?://${b}/${A}/b/${l}/o${O}`,"i"),J={bucket:1,path:3},W=n===fA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,$="([^?#]*)",ot=new RegExp(`^https?://${W}/${l}/${$}`,"i"),ut=[{regex:p,indices:_,postModify:c},{regex:q,indices:J,postModify:y},{regex:ot,indices:{bucket:1,path:2},postModify:y}];for(let At=0;At<ut.length;At++){const Jt=ut[At],It=Jt.regex.exec(t);if(It){const I=It[Jt.indices.bucket];let S=It[Jt.indices.path];S||(S=""),s=new Sn(I,S),Jt.postModify(s);break}}if(s==null)throw $D(t);return s}}class rO{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function sO(r,t,n){let s=1,l=null,c=null,d=!1,p=0;function _(){return p===2}let y=!1;function A(...$){y||(y=!0,t.apply(null,$))}function b($){l=setTimeout(()=>{l=null,r(q,_())},$)}function O(){c&&clearTimeout(c)}function q($,...ot){if(y){O();return}if($){O(),A.call(null,$,...ot);return}if(_()||d){O(),A.call(null,$,...ot);return}s<64&&(s*=2);let ut;p===1?(p=2,ut=0):ut=(s+Math.random())*1e3,b(ut)}let J=!1;function W($){J||(J=!0,O(),!y&&(l!==null?($||(p=2),clearTimeout(l),b(0)):$||(p=1)))}return b(0),c=setTimeout(()=>{d=!0,W(!0)},n),W}function aO(r){r(!1)}function oO(r){return r!==void 0}function lO(r){return typeof r=="object"&&!Array.isArray(r)}function Mp(r){return typeof r=="string"||r instanceof String}function BE(r){return Vp()&&r instanceof Blob}function Vp(){return typeof Blob<"u"}function HE(r,t,n,s){if(s<t)throw Nm(`Invalid value for '${r}'. Expected ${t} or greater.`);if(s>n)throw Nm(`Invalid value for '${r}'. Expected ${n} or less.`)}function xh(r,t,n){let s=t;return n==null&&(s=`https://${t}`),`${n}://${s}/v0${r}`}function pA(r){const t=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const l=t(s)+"="+t(r[s]);n=n+l+"&"}return n=n.slice(0,-1),n}var qs;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(qs||(qs={}));function uO(r,t){const n=r>=500&&r<600,l=[408,429].indexOf(r)!==-1,c=t.indexOf(r)!==-1;return n||l||c}class cO{constructor(t,n,s,l,c,d,p,_,y,A,b,O=!0,q=!1){this.url_=t,this.method_=n,this.headers_=s,this.body_=l,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=_,this.timeout_=y,this.progressCallback_=A,this.connectionFactory_=b,this.retry=O,this.isUsingEmulator=q,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((J,W)=>{this.resolve_=J,this.reject_=W,this.start_()})}start_(){const t=(s,l)=>{if(l){s(!1,new xc(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=p=>{const _=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(_,y)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const p=c.getErrorCode()===qs.NO_ERROR,_=c.getStatus();if(!p||uO(_,this.additionalRetryCodes_)&&this.retry){const A=c.getErrorCode()===qs.ABORT;s(!1,new xc(!1,null,A));return}const y=this.successCodes_.indexOf(_)!==-1;s(!0,new xc(y,c))})},n=(s,l)=>{const c=this.resolve_,d=this.reject_,p=l.connection;if(l.wasSuccessCode)try{const _=this.callback_(p,p.getResponse());oO(_)?c(_):c()}catch(_){d(_)}else if(p!==null){const _=Np();_.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,_)):d(_)}else if(l.canceled){const _=this.appDelete_?mA():JD();d(_)}else{const _=XD();d(_)}};this.canceled_?n(!1,new xc(!1,null,!0)):this.backoffId_=sO(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&aO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xc{constructor(t,n,s){this.wasSuccessCode=t,this.connection=n,this.canceled=!!s}}function hO(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function fO(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function dO(r,t){t&&(r["X-Firebase-GMPID"]=t)}function mO(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function pO(r,t,n,s,l,c,d=!0,p=!1){const _=pA(r.urlParams),y=r.url+_,A=Object.assign({},r.headers);return dO(A,t),hO(A,n),fO(A,c),mO(A,s),new cO(y,r.method,A,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,l,d,p)}function gO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function _O(...r){const t=gO();if(t!==void 0){const n=new t;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}else{if(Vp())return new Blob(r);throw new he(ce.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function yO(r,t,n){return r.webkitSlice?r.webkitSlice(t,n):r.mozSlice?r.mozSlice(t,n):r.slice?r.slice(t,n):null}function vO(r){if(typeof atob>"u")throw nO("base-64");return atob(r)}const Si={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class rm{constructor(t,n){this.data=t,this.contentType=n||null}}function EO(r,t){switch(r){case Si.RAW:return new rm(gA(t));case Si.BASE64:case Si.BASE64URL:return new rm(_A(r,t));case Si.DATA_URL:return new rm(AO(t),SO(t))}throw Np()}function gA(r){const t=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<=127)t.push(s);else if(s<=2047)t.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const c=s,d=r.charCodeAt(++n);s=65536|(c&1023)<<10|d&1023,t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(t)}function TO(r){let t;try{t=decodeURIComponent(r)}catch{throw Pl(Si.DATA_URL,"Malformed data URL.")}return gA(t)}function _A(r,t){switch(r){case Si.BASE64:{const l=t.indexOf("-")!==-1,c=t.indexOf("_")!==-1;if(l||c)throw Pl(r,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Si.BASE64URL:{const l=t.indexOf("+")!==-1,c=t.indexOf("/")!==-1;if(l||c)throw Pl(r,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=vO(t)}catch(l){throw l.message.includes("polyfill")?l:Pl(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}class yA{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Pl(Si.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=bO(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=t.substring(t.indexOf(",")+1)}}function AO(r){const t=new yA(r);return t.base64?_A(Si.BASE64,t.rest):TO(t.rest)}function SO(r){return new yA(r).contentType}function bO(r,t){return r.length>=t.length?r.substring(r.length-t.length)===t:!1}class Gr{constructor(t,n){let s=0,l="";BE(t)?(this.data_=t,s=t.size,l=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),s=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),s=t.length),this.size_=s,this.type_=l}size(){return this.size_}type(){return this.type_}slice(t,n){if(BE(this.data_)){const s=this.data_,l=yO(s,t,n);return l===null?null:new Gr(l)}else{const s=new Uint8Array(this.data_.buffer,t,n-t);return new Gr(s,!0)}}static getBlob(...t){if(Vp()){const n=t.map(s=>s instanceof Gr?s.data_:s);return new Gr(_O.apply(null,n))}else{const n=t.map(d=>Mp(d)?EO(Si.RAW,d).data:d.data_);let s=0;n.forEach(d=>{s+=d.byteLength});const l=new Uint8Array(s);let c=0;return n.forEach(d=>{for(let p=0;p<d.length;p++)l[c++]=d[p]}),new Gr(l,!0)}}uploadData(){return this.data_}}function vA(r){let t;try{t=JSON.parse(r)}catch{return null}return lO(t)?t:null}function RO(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function wO(r,t){const n=t.split("/").filter(s=>s.length>0).join("/");return r.length===0?n:r+"/"+n}function EA(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}function IO(r,t){return t}class nn{constructor(t,n,s,l){this.server=t,this.local=n||t,this.writable=!!s,this.xform=l||IO}}let zc=null;function CO(r){return!Mp(r)||r.length<2?r:EA(r)}function TA(){if(zc)return zc;const r=[];r.push(new nn("bucket")),r.push(new nn("generation")),r.push(new nn("metageneration")),r.push(new nn("name","fullPath",!0));function t(c,d){return CO(d)}const n=new nn("name");n.xform=t,r.push(n);function s(c,d){return d!==void 0?Number(d):d}const l=new nn("size");return l.xform=s,r.push(l),r.push(new nn("timeCreated")),r.push(new nn("updated")),r.push(new nn("md5Hash",null,!0)),r.push(new nn("cacheControl",null,!0)),r.push(new nn("contentDisposition",null,!0)),r.push(new nn("contentEncoding",null,!0)),r.push(new nn("contentLanguage",null,!0)),r.push(new nn("contentType",null,!0)),r.push(new nn("metadata","customMetadata",!0)),zc=r,zc}function DO(r,t){function n(){const s=r.bucket,l=r.fullPath,c=new Sn(s,l);return t._makeStorageReference(c)}Object.defineProperty(r,"ref",{get:n})}function OO(r,t,n){const s={};s.type="file";const l=n.length;for(let c=0;c<l;c++){const d=n[c];s[d.local]=d.xform(s,t[d.server])}return DO(s,r),s}function AA(r,t,n){const s=vA(t);return s===null?null:OO(r,s,n)}function NO(r,t,n,s){const l=vA(t);if(l===null||!Mp(l.downloadTokens))return null;const c=l.downloadTokens;if(c.length===0)return null;const d=encodeURIComponent;return c.split(",").map(y=>{const A=r.bucket,b=r.fullPath,O="/b/"+d(A)+"/o/"+d(b),q=xh(O,n,s),J=pA({alt:"media",token:y});return q+J})[0]}function MO(r,t){const n={},s=t.length;for(let l=0;l<s;l++){const c=t[l];c.writable&&(n[c.server]=r[c.local])}return JSON.stringify(n)}class Up{constructor(t,n,s,l){this.url=t,this.method=n,this.handler=s,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function SA(r){if(!r)throw Np()}function VO(r,t){function n(s,l){const c=AA(r,l,t);return SA(c!==null),c}return n}function UO(r,t){function n(s,l){const c=AA(r,l,t);return SA(c!==null),NO(c,l,r.host,r._protocol)}return n}function bA(r){function t(n,s){let l;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?l=YD():l=KD():n.getStatus()===402?l=GD(r.bucket):n.getStatus()===403?l=QD(r.path):l=s,l.status=n.getStatus(),l.serverResponse=s.serverResponse,l}return t}function RA(r){const t=bA(r);function n(s,l){let c=t(s,l);return s.getStatus()===404&&(c=FD(r.path)),c.serverResponse=l.serverResponse,c}return n}function PO(r,t,n){const s=t.fullServerUrl(),l=xh(s,r.host,r._protocol),c="GET",d=r.maxOperationRetryTime,p=new Up(l,c,UO(r,n),d);return p.errorHandler=RA(t),p}function kO(r,t){const n=t.fullServerUrl(),s=xh(n,r.host,r._protocol),l="DELETE",c=r.maxOperationRetryTime;function d(_,y){}const p=new Up(s,l,d,c);return p.successCodes=[200,204],p.errorHandler=RA(t),p}function LO(r,t){return r&&r.contentType||t&&t.type()||"application/octet-stream"}function xO(r,t,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=t.size(),s.contentType||(s.contentType=LO(null,t)),s}function zO(r,t,n,s,l){const c=t.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function p(){let ut="";for(let At=0;At<2;At++)ut=ut+Math.random().toString().slice(2);return ut}const _=p();d["Content-Type"]="multipart/related; boundary="+_;const y=xO(t,s,l),A=MO(y,n),b="--"+_+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+A+`\r
--`+_+`\r
Content-Type: `+y.contentType+`\r
\r
`,O=`\r
--`+_+"--",q=Gr.getBlob(b,s,O);if(q===null)throw tO();const J={name:y.fullPath},W=xh(c,r.host,r._protocol),$="POST",ot=r.maxUploadRetryTime,pt=new Up(W,$,VO(r,n),ot);return pt.urlParams=J,pt.headers=d,pt.body=q.uploadData(),pt.errorHandler=bA(t),pt}class BO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qs.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qs.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qs.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,s,l,c){if(this.sent_)throw Tl("cannot .send() more than once");if(rs(t)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),c!==void 0)for(const d in c)c.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,c[d].toString());return l!==void 0?this.xhr_.send(l):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class HO extends BO{initXhr(){this.xhr_.responseType="text"}}function Pp(){return new HO}class Js{constructor(t,n){this._service=t,n instanceof Sn?this._location=n:this._location=Sn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Js(t,n)}get root(){const t=new Sn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return EA(this._location.path)}get storage(){return this._service}get parent(){const t=RO(this._location.path);if(t===null)return null;const n=new Sn(this._location.bucket,t);return new Js(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw iO(t)}}function qO(r,t,n){r._throwIfRoot("uploadBytes");const s=zO(r.storage,r._location,TA(),new Gr(t,!0),n);return r.storage.makeRequestWithTokens(s,Pp).then(l=>({metadata:l,ref:r}))}function jO(r){r._throwIfRoot("getDownloadURL");const t=PO(r.storage,r._location,TA());return r.storage.makeRequestWithTokens(t,Pp).then(n=>{if(n===null)throw eO();return n})}function FO(r){r._throwIfRoot("deleteObject");const t=kO(r.storage,r._location);return r.storage.makeRequestWithTokens(t,Pp)}function GO(r,t){const n=wO(r._location.path,t),s=new Sn(r._location.bucket,n);return new Js(r.storage,s)}function KO(r){return/^[A-Za-z]+:\/\//.test(r)}function YO(r,t){return new Js(r,t)}function wA(r,t){if(r instanceof kp){const n=r;if(n._bucket==null)throw WD();const s=new Js(n,n._bucket);return t!=null?wA(s,t):s}else return t!==void 0?GO(r,t):r}function QO(r,t){if(t&&KO(t)){if(r instanceof kp)return YO(r,t);throw Nm("To use ref(service, url), the first argument must be a Storage instance.")}else return wA(r,t)}function qE(r,t){const n=t?.[dA];return n==null?null:Sn.makeFromBucketSpec(n,r)}function XO(r,t,n,s={}){r.host=`${t}:${n}`;const l=rs(t);l&&(Lm(`https://${r.host}/b`),xm("Storage",!0)),r._isUsingEmulator=!0,r._protocol=l?"https":"http";const{mockUserToken:c}=s;c&&(r._overrideAuthToken=typeof c=="string"?c:WE(c,r.app.options.projectId))}class kp{constructor(t,n,s,l,c,d=!1){this.app=t,this._authProvider=n,this._appCheckProvider=s,this._url=l,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=fA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=qD,this._maxUploadRetryTime=jD,this._requests=new Set,l!=null?this._bucket=Sn.makeFromBucketSpec(l,this._host):this._bucket=qE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Sn.makeFromBucketSpec(this._url,t):this._bucket=qE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){HE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){HE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Js(this,t)}_makeRequest(t,n,s,l,c=!0){if(this._deleted)return new rO(mA());{const d=pO(t,this._appId,s,l,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(t,n){const[s,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,s,l).getPromise()}}const jE="@firebase/storage",FE="0.14.0";const IA="storage";function JO(r,t,n){return r=ue(r),qO(r,t,n)}function $O(r){return r=ue(r),jO(r)}function ZO(r){return r=ue(r),FO(r)}function CA(r,t){return r=ue(r),QO(r,t)}function WO(r=Hm(),t){r=ue(r);const s=vh(r,IA).getImmediate({identifier:t}),l=JE("storage");return l&&tN(s,...l),s}function tN(r,t,n,s={}){XO(r,t,n,s)}function eN(r,{instanceIdentifier:t}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),l=r.getProvider("app-check-internal");return new kp(n,s,l,t,$s)}function nN(){Gs(new $r(IA,eN,"PUBLIC").setMultipleInstances(!0)),bi(jE,FE,""),bi(jE,FE,"esm2020")}nN();const Lp="prsm_cache",zh="prsm_cache_timestamp",iN=300*1e3;function rN(){try{const r=localStorage.getItem(Lp),t=localStorage.getItem(zh);if(r&&t){const n=JSON.parse(r);return _h.fromMap(n)}}catch(r){console.warn("Error reading cache:",r),aN()}return null}function sN(){try{const r=localStorage.getItem(zh);return r?Date.now()-parseInt(r,10)<iN:!1}catch{return!1}}function DA(r){try{localStorage.setItem(Lp,JSON.stringify(r.toMap())),localStorage.setItem(zh,Date.now().toString())}catch(t){console.warn("Error writing cache:",t)}}function aN(){try{localStorage.removeItem(Lp),localStorage.removeItem(zh)}catch(r){console.warn("Error clearing cache:",r)}}const xp=RD($m),OA=WO($m);async function oN(r){return(await hA(wp(xp,"accessCodes",r))).exists()}async function sm(){const r=await hA(wp(xp,"info","prsm"));if(r.exists()){const t=_h.fromMap(r.data());return DA(t),t}return null}async function lN(r){if(r?.forceRefresh??!1)return sm();const n=rN(),s=sN();return n&&s?n:n&&!s?(sm().catch(l=>console.warn("Background cache refresh failed:",l)),n):sm()}async function dN(){return lN({forceRefresh:!0})}async function mN(r){console.log("Updating PRSM in Firestore..."),console.log(r.toMap()),await zD(wp(xp,"info","prsm"),r.toMap()),DA(r)}async function pN(r,t){const n=CA(OA,`Photos/${t.replace(" ","_")}.${r.name.split(".")[1]}`),s=await JO(n,r),l=await $O(s.ref);return new js({url:l,id:s.ref.fullPath})}async function gN(r){try{const t=CA(OA,r.id);await ZO(t)}catch(t){console.error("Error deleting photo:",t)}}const tr=hI($m);async function _N(r,t){return DT(tr,Qm).then(async()=>{try{return await $R(tr,r,t),console.log(tr.currentUser),localStorage.setItem("userId",tr.currentUser.uid),localStorage.setItem("isAdmin","true"),"Success"}catch(n){const s=n.code;switch(s){case"auth/user-not-found":return"User not found";case"auth/wrong-password":return"Invalid Password";case"auth/invalid-credential":return"Incorrect email or password";default:return s}}})}async function yN(){return ew(tr)}async function vN(r,t,n){return await oN(n)?DT(tr,Qm).then(async()=>{try{return await JR(tr,r,t),localStorage.setItem("userId",tr.currentUser.uid),localStorage.setItem("isAdmin","true"),"Success"}catch(l){return l.code==="auth/email-already-in-use"?"Account already exists with that email":"Error signing up"}}):"Invalid Access Code"}async function EN(r){tw(tr,t=>{t?r(!0):(r(!1),window.location.href=gb+"Auth/Login/")})}export{km as A,_b as E,Vm as F,gb as O,_h as P,Um as S,Pm as T,vN as a,dN as b,hN as c,gN as d,pN as e,js as f,lN as g,yN as h,EN as i,uN as j,_N as l,cN as r,mN as u};
