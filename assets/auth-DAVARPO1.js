(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var $d={exports:{}},Il={};var Av;function Bb(){if(Av)return Il;Av=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:u}}return Il.Fragment=t,Il.jsx=n,Il.jsxs=n,Il}var Sv;function qb(){return Sv||(Sv=1,$d.exports=Bb()),$d.exports}var HN=qb(),Jd={exports:{}},yt={};var bv;function Hb(){if(bv)return yt;bv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.iterator;function H(M){return M===null||typeof M!="object"?null:(M=D&&M[D]||M["@@iterator"],typeof M=="function"?M:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,J={};function ot(M,Y,et){this.props=M,this.context=Y,this.refs=J,this.updater=et||$}ot.prototype.isReactComponent={},ot.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},ot.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function pt(){}pt.prototype=ot.prototype;function ct(M,Y,et){this.props=M,this.context=Y,this.refs=J,this.updater=et||$}var At=ct.prototype=new pt;At.constructor=ct,W(At,ot.prototype),At.isPureReactComponent=!0;var $t=Array.isArray;function It(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(M,Y,et){var rt=et.ref;return{$$typeof:r,type:M,key:Y,ref:rt!==void 0?rt:null,props:et}}function V(M,Y){return C(M.type,Y,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function P(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(et){return Y[et]})}var w=/\/+/g;function ne(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):Y.toString(36)}function Oe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(It,It):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,Y,et,rt,gt){var St=typeof M;(St==="undefined"||St==="boolean")&&(M=null);var Ut=!1;if(M===null)Ut=!0;else switch(St){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(M.$$typeof){case r:case t:Ut=!0;break;case T:return Ut=M._init,F(Ut(M._payload),Y,et,rt,gt)}}if(Ut)return gt=gt(M),Ut=rt===""?"."+ne(M,0):rt,$t(gt)?(et="",Ut!=null&&(et=Ut.replace(w,"$&/")+"/"),F(gt,Y,et,"",function(fs){return fs})):gt!=null&&(N(gt)&&(gt=V(gt,et+(gt.key==null||M&&M.key===gt.key?"":(""+gt.key).replace(w,"$&/")+"/")+Ut)),Y.push(gt)),1;Ut=0;var Ne=rt===""?".":rt+":";if($t(M))for(var ie=0;ie<M.length;ie++)rt=M[ie],St=Ne+ne(rt,ie),Ut+=F(rt,Y,et,St,gt);else if(ie=H(M),typeof ie=="function")for(M=ie.call(M),ie=0;!(rt=M.next()).done;)rt=rt.value,St=Ne+ne(rt,ie++),Ut+=F(rt,Y,et,St,gt);else if(St==="object"){if(typeof M.then=="function")return F(Oe(M),Y,et,rt,gt);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function tt(M,Y,et){if(M==null)return M;var rt=[],gt=0;return F(M,rt,"","",function(St){return Y.call(et,St,gt++)}),rt}function ht(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(et){(M._status===0||M._status===-1)&&(M._status=1,M._result=et)},function(et){(M._status===0||M._status===-1)&&(M._status=2,M._result=et)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var kt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ht={map:tt,forEach:function(M,Y,et){tt(M,function(){Y.apply(this,arguments)},et)},count:function(M){var Y=0;return tt(M,function(){Y++}),Y},toArray:function(M){return tt(M,function(Y){return Y})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return yt.Activity=S,yt.Children=Ht,yt.Component=ot,yt.Fragment=n,yt.Profiler=o,yt.PureComponent=ct,yt.StrictMode=s,yt.Suspense=_,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,yt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},yt.cache=function(M){return function(){return M.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(M,Y,et){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var rt=W({},M.props),gt=M.key;if(Y!=null)for(St in Y.key!==void 0&&(gt=""+Y.key),Y)!b.call(Y,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Y.ref===void 0||(rt[St]=Y[St]);var St=arguments.length-2;if(St===1)rt.children=et;else if(1<St){for(var Ut=Array(St),Ne=0;Ne<St;Ne++)Ut[Ne]=arguments[Ne+2];rt.children=Ut}return C(M.type,gt,rt)},yt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},yt.createElement=function(M,Y,et){var rt,gt={},St=null;if(Y!=null)for(rt in Y.key!==void 0&&(St=""+Y.key),Y)b.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(gt[rt]=Y[rt]);var Ut=arguments.length-2;if(Ut===1)gt.children=et;else if(1<Ut){for(var Ne=Array(Ut),ie=0;ie<Ut;ie++)Ne[ie]=arguments[ie+2];gt.children=Ne}if(M&&M.defaultProps)for(rt in Ut=M.defaultProps,Ut)gt[rt]===void 0&&(gt[rt]=Ut[rt]);return C(M,St,gt)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(M){return{$$typeof:p,render:M}},yt.isValidElement=N,yt.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:ht}},yt.memo=function(M,Y){return{$$typeof:y,type:M,compare:Y===void 0?null:Y}},yt.startTransition=function(M){var Y=I.T,et={};I.T=et;try{var rt=M(),gt=I.S;gt!==null&&gt(et,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(It,kt)}catch(St){kt(St)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),I.T=Y}},yt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},yt.use=function(M){return I.H.use(M)},yt.useActionState=function(M,Y,et){return I.H.useActionState(M,Y,et)},yt.useCallback=function(M,Y){return I.H.useCallback(M,Y)},yt.useContext=function(M){return I.H.useContext(M)},yt.useDebugValue=function(){},yt.useDeferredValue=function(M,Y){return I.H.useDeferredValue(M,Y)},yt.useEffect=function(M,Y){return I.H.useEffect(M,Y)},yt.useEffectEvent=function(M){return I.H.useEffectEvent(M)},yt.useId=function(){return I.H.useId()},yt.useImperativeHandle=function(M,Y,et){return I.H.useImperativeHandle(M,Y,et)},yt.useInsertionEffect=function(M,Y){return I.H.useInsertionEffect(M,Y)},yt.useLayoutEffect=function(M,Y){return I.H.useLayoutEffect(M,Y)},yt.useMemo=function(M,Y){return I.H.useMemo(M,Y)},yt.useOptimistic=function(M,Y){return I.H.useOptimistic(M,Y)},yt.useReducer=function(M,Y,et){return I.H.useReducer(M,Y,et)},yt.useRef=function(M){return I.H.useRef(M)},yt.useState=function(M){return I.H.useState(M)},yt.useSyncExternalStore=function(M,Y,et){return I.H.useSyncExternalStore(M,Y,et)},yt.useTransition=function(){return I.H.useTransition()},yt.version="19.2.3",yt}var wv;function Gm(){return wv||(wv=1,Jd.exports=Hb()),Jd.exports}var jN=Gm(),Zd={exports:{}},Cl={},Wd={exports:{}},tm={};var Rv;function jb(){return Rv||(Rv=1,(function(r){function t(F,tt){var ht=F.length;F.push(tt);t:for(;0<ht;){var kt=ht-1>>>1,Ht=F[kt];if(0<o(Ht,tt))F[kt]=tt,F[ht]=Ht,ht=kt;else break t}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var tt=F[0],ht=F.pop();if(ht!==tt){F[0]=ht;t:for(var kt=0,Ht=F.length,M=Ht>>>1;kt<M;){var Y=2*(kt+1)-1,et=F[Y],rt=Y+1,gt=F[rt];if(0>o(et,ht))rt<Ht&&0>o(gt,et)?(F[kt]=gt,F[rt]=ht,kt=rt):(F[kt]=et,F[Y]=ht,kt=Y);else if(rt<Ht&&0>o(gt,ht))F[kt]=gt,F[rt]=ht,kt=rt;else break t}}return tt}function o(F,tt){var ht=F.sortIndex-tt.sortIndex;return ht!==0?ht:F.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],T=1,S=null,D=3,H=!1,$=!1,W=!1,J=!1,ot=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function At(F){for(var tt=n(y);tt!==null;){if(tt.callback===null)s(y);else if(tt.startTime<=F)s(y),tt.sortIndex=tt.expirationTime,t(_,tt);else break;tt=n(y)}}function $t(F){if(W=!1,At(F),!$)if(n(_)!==null)$=!0,It||(It=!0,P());else{var tt=n(y);tt!==null&&Oe($t,tt.startTime-F)}}var It=!1,I=-1,b=5,C=-1;function V(){return J?!0:!(r.unstable_now()-C<b)}function N(){if(J=!1,It){var F=r.unstable_now();C=F;var tt=!0;try{t:{$=!1,W&&(W=!1,pt(I),I=-1),H=!0;var ht=D;try{e:{for(At(F),S=n(_);S!==null&&!(S.expirationTime>F&&V());){var kt=S.callback;if(typeof kt=="function"){S.callback=null,D=S.priorityLevel;var Ht=kt(S.expirationTime<=F);if(F=r.unstable_now(),typeof Ht=="function"){S.callback=Ht,At(F),tt=!0;break e}S===n(_)&&s(_),At(F)}else s(_);S=n(_)}if(S!==null)tt=!0;else{var M=n(y);M!==null&&Oe($t,M.startTime-F),tt=!1}}break t}finally{S=null,D=ht,H=!1}tt=void 0}}finally{tt?P():It=!1}}}var P;if(typeof ct=="function")P=function(){ct(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ne=w.port2;w.port1.onmessage=N,P=function(){ne.postMessage(null)}}else P=function(){ot(N,0)};function Oe(F,tt){I=ot(function(){F(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(F){switch(D){case 1:case 2:case 3:var tt=3;break;default:tt=D}var ht=D;D=tt;try{return F()}finally{D=ht}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(F,tt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=D;D=F;try{return tt()}finally{D=ht}},r.unstable_scheduleCallback=function(F,tt,ht){var kt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?kt+ht:kt):ht=kt,F){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ht+Ht,F={id:T++,callback:tt,priorityLevel:F,startTime:ht,expirationTime:Ht,sortIndex:-1},ht>kt?(F.sortIndex=ht,t(y,F),n(_)===null&&F===n(y)&&(W?(pt(I),I=-1):W=!0,Oe($t,ht-kt))):(F.sortIndex=Ht,t(_,F),$||H||($=!0,It||(It=!0,P()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var tt=D;return function(){var ht=D;D=tt;try{return F.apply(this,arguments)}finally{D=ht}}}})(tm)),tm}var Iv;function Fb(){return Iv||(Iv=1,Wd.exports=jb()),Wd.exports}var em={exports:{}},Ye={};var Cv;function Gb(){if(Cv)return Ye;Cv=1;var r=Gm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(_,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:_,containerInfo:y,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(_,y,null,T)},Ye.flushSync=function(_){var y=d.T,T=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=y,s.p=T,s.d.f()}},Ye.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(_,y))},Ye.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Ye.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:H}):T==="script"&&s.d.X(_,{crossOrigin:S,integrity:D,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);s.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(_)},Ye.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin);s.d.L(_,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=p(y.as,y.crossOrigin);s.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(_)},Ye.requestFormReset=function(_){s.d.r(_)},Ye.unstable_batchedUpdates=function(_,y){return _(y)},Ye.useFormState=function(_,y,T){return d.H.useFormState(_,y,T)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var Dv;function Kb(){if(Dv)return em.exports;Dv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),em.exports=Gb(),em.exports}var Ov;function Qb(){if(Ov)return Cl;Ov=1;var r=Fb(),t=Gm(),n=Kb();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function _(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===l)return _(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,l=f;break}if(E===l){g=!0,l=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=h;break}if(E===l){g=!0,l=f,a=h;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),pt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),At=Symbol.for("react.forward_ref"),$t=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case ot:return"Profiler";case J:return"StrictMode";case $t:return"Suspense";case It:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case ct:return e.displayName||"Context";case pt:return(e._context.displayName||"Context")+".Consumer";case At:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return i=e.displayName||null,i!==null?i:ne(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return ne(e(i))}catch{}}return null}var Oe=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},kt=[],Ht=-1;function M(e){return{current:e}}function Y(e){0>Ht||(e.current=kt[Ht],kt[Ht]=null,Ht--)}function et(e,i){Ht++,kt[Ht]=e.current,e.current=i}var rt=M(null),gt=M(null),St=M(null),Ut=M(null);function Ne(e,i){switch(et(St,i),et(gt,e),et(rt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Gy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Gy(i),e=Ky(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),et(rt,e)}function ie(){Y(rt),Y(gt),Y(St)}function fs(e){e.memoizedState!==null&&et(Ut,e);var i=rt.current,a=Ky(i,e.type);i!==a&&(et(gt,e),et(rt,a))}function oa(e){gt.current===e&&(Y(rt),Y(gt)),Ut.current===e&&(Y(Ut),Sl._currentValue=ht)}var la,ua;function ni(e){if(la===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);la=i&&i[1]||"",ua=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+la+e+ua}var So=!1;function ds(e,i){if(!e||So)return"";So=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var z=q}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(q){z=q}e.call(Q.prototype)}}else{try{throw Error()}catch(q){z=q}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),x=E.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<x.length&&!x[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===x.length)for(l=R.length-1,h=x.length-1;1<=l&&0<=h&&R[l]!==x[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==x[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==x[h]){var j=`
`+R[l].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=l&&0<=h);break}}}finally{So=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ni(a):""}function bo(e,i){switch(e.tag){case 26:case 27:case 5:return ni(e.type);case 16:return ni("Lazy");case 13:return e.child!==i&&i!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return ds(e.type,!1);case 11:return ds(e.type.render,!1);case 1:return ds(e.type,!0);case 31:return ni("Activity");default:return""}}function wo(e){try{var i="",a=null;do i+=bo(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,Me=r.unstable_scheduleCallback,cr=r.unstable_cancelCallback,Jh=r.unstable_shouldYield,mu=r.unstable_requestPaint,We=r.unstable_now,ms=r.unstable_getCurrentPriorityLevel,Ro=r.unstable_ImmediatePriority,Io=r.unstable_UserBlockingPriority,hr=r.unstable_NormalPriority,Zh=r.unstable_LowPriority,pu=r.unstable_IdlePriority,gu=r.log,_u=r.unstable_setDisableYieldValue,zn=null,ze=null;function wn(e){if(typeof gu=="function"&&_u(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(zn,e)}catch{}}var fe=Math.clz32?Math.clz32:vu,yu=Math.log,ca=Math.LN2;function vu(e){return e>>>=0,e===0?32:31-(yu(e)/ca|0)|0}var ii=256,ps=262144,ye=4194304;function ri(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function si(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ri(l):(g&=E,g!==0?h=ri(g):a||(a=E&~e,a!==0&&(h=ri(a))))):(E=l&~f,E!==0?h=ri(E):g!==0?h=ri(g):a||(a=l&~e,a!==0&&(h=ri(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Bn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Wh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eu(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ai(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function gs(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function tf(e,i,a,l,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,x=e.hiddenUpdates;for(a=g&~a;0<a;){var j=31-fe(a),Q=1<<j;E[j]=0,R[j]=-1;var z=x[j];if(z!==null)for(x[j]=null,j=0;j<z.length;j++){var q=z[j];q!==null&&(q.lane&=-536870913)}a&=~Q}l!==0&&_s(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~i))}function _s(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-fe(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Co(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-fe(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Do(e,i){var a=i&-i;return a=(a&42)!==0?1:ys(a),(a&(e.suspendedLanes|i))!==0?0:a}function ys(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Tu(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:pv(e.type))}function qn(e,i){var a=tt.p;try{return tt.p=e,i()}finally{tt.p=a}}var Hn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Hn,Pe="__reactProps$"+Hn,oi="__reactContainer$"+Hn,ha="__reactEvents$"+Hn,ef="__reactListeners$"+Hn,Au="__reactHandles$"+Hn,Su="__reactResources$"+Hn,li="__reactMarker$"+Hn;function fa(e){delete e[ve],delete e[Pe],delete e[ha],delete e[ef],delete e[Au]}function ui(e){var i=e[ve];if(i)return i;for(var a=e.parentNode;a;){if(i=a[oi]||a[ve]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Wy(e);e!==null;){if(a=e[ve])return a;e=Wy(e)}return i}e=a,a=e.parentNode}return null}function Rn(e){if(e=e[ve]||e[oi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function dn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function ci(e){var i=e[Su];return i||(i=e[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ee(e){e[li]=!0}var Oo=new Set,No={};function hi(e,i){fi(e,i),fi(e+"Capture",i)}function fi(e,i){for(No[e]=i,e=0;e<i.length;e++)Oo.add(i[e])}var Mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vo={},Uo={};function bu(e){return _e.call(Uo,e)?!0:_e.call(Vo,e)?!1:Mo.test(e)?Uo[e]=!0:(Vo[e]=!0,!1)}function da(e,i,a){if(bu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function mn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Te(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Po(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function jt(e){if(!e._valueTracker){var i=fr(e)?"checked":"value";e._valueTracker=Po(e,i,""+e[i])}}function vs(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=fr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Es=/[\n"\\]/g;function rn(e){return e.replace(Es,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ma(e,i,a,l,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),i!=null?g==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+ke(i)):e.value!==""+ke(i)&&(e.value=""+ke(i)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),i!=null?ko(e,g,ke(i)):a!=null?ko(e,g,ke(a)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function wu(e,i,a,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){jt(e);return}a=a!=null?""+ke(a):"",i=i!=null?""+ke(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),jt(e)}function ko(e,i,a){i==="number"&&di(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function dr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+ke(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Ru(e,i,a){if(i!=null&&(i=""+ke(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+ke(a):""}function mr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=ke(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),jt(e)}function sn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Iu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Iu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function xo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Lo(e,h,l)}else for(var f in i)i.hasOwnProperty(f)&&Lo(e,f,i[f])}function pa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(e){return pr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var zo=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gr=null,mi=null;function Ts(e){var i=Rn(e);if(i&&(e=i.stateNode)){var a=e[Pe]||null;t:switch(e=i.stateNode,i.type){case"input":if(ma(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Pe]||null;if(!h)throw Error(s(90));ma(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&vs(l)}break t;case"textarea":Ru(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&dr(e,!!a.multiple,i,!1)}}}var _a=!1;function _r(e,i,a){if(_a)return e(i,a);_a=!0;try{var l=e(i);return l}finally{if(_a=!1,(gr!==null||mi!==null)&&(Tc(),gr&&(i=gr,e=mi,mi=gr=null,Ts(i),e)))for(i=0;i<e.length;i++)Ts(e[i])}}function Fn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Pe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),As=!1;if(Cn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){As=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{As=!1}var pi=null,Bo=null,Ss=null;function qo(){if(Ss)return Ss;var e,i=Bo,a=i.length,l,h="value"in pi?pi.value:pi.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var g=a-e;for(l=1;l<=g&&i[a-l]===h[f-l];l++);return Ss=h.slice(e,1<l?1-l:void 0)}function bs(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ki(){return!0}function Gn(){return!1}function Be(e){function i(a,l,h,f,g){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ki:Gn,this.isPropagationStopped=Gn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),i}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=Be(Li),yr=S({},Li,{view:0,detail:0}),Ho=Be(yr),vr,ya,_i,va=S({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(vr=e.screenX-_i.screenX,ya=e.screenY-_i.screenY):ya=vr=0,_i=e),vr)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),jo=Be(va),ws=S({},va,{dataTransfer:0}),Du=Be(ws),Ou=S({},yr,{relatedTarget:0}),Rs=Be(Ou),Fo=S({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),Nu=Be(Fo),Ea=S({},Li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mu=Be(Ea),Vu=S({},Li,{data:0}),yi=Be(Vu),Uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=ku[e])?!!i[e]:!1}function Er(){return Lu}var tn=S({},yr,{key:function(e){if(e.key){var i=Uu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(e){return e.type==="keypress"?bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xu=Be(tn),zu=S({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xi=Be(zu),c=S({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),m=Be(c),v=S({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(v),k=S({},va,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Be(k),Z=S({},Li,{newState:0,oldState:0}),Et=Be(Z),de=[9,13,27,32],zt=Cn&&"CompositionEvent"in window,re=null;Cn&&"documentMode"in document&&(re=document.documentMode);var Dn=Cn&&"TextEvent"in window&&!re,vi=Cn&&(!zt||re&&8<re&&11>=re),Kn=" ",Qn=!1;function Is(e,i){switch(e){case"keyup":return de.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ta(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Aa=!1;function cS(e,i){switch(e){case"compositionend":return Ta(i);case"keypress":return i.which!==32?null:(Qn=!0,Kn);case"textInput":return e=i.data,e===Kn&&Qn?null:e;default:return null}}function hS(e,i){if(Aa)return e==="compositionend"||!zt&&Is(e,i)?(e=qo(),Ss=Bo=pi=null,Aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return vi&&i.locale!=="ko"?null:i.data;default:return null}}var fS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ng(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!fS[e.type]:i==="textarea"}function ig(e,i,a,l){gr?mi?mi.push(l):mi=[l]:gr=l,i=Cc(i,"onChange"),0<i.length&&(a=new gi("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Go=null,Ko=null;function dS(e){zy(e,0)}function Bu(e){var i=dn(e);if(vs(i))return e}function rg(e,i){if(e==="change")return i}var sg=!1;if(Cn){var nf;if(Cn){var rf="oninput"in document;if(!rf){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),rf=typeof ag.oninput=="function"}nf=rf}else nf=!1;sg=nf&&(!document.documentMode||9<document.documentMode)}function og(){Go&&(Go.detachEvent("onpropertychange",lg),Ko=Go=null)}function lg(e){if(e.propertyName==="value"&&Bu(Ko)){var i=[];ig(i,Ko,e,In(e)),_r(dS,i)}}function mS(e,i,a){e==="focusin"?(og(),Go=i,Ko=a,Go.attachEvent("onpropertychange",lg)):e==="focusout"&&og()}function pS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bu(Ko)}function gS(e,i){if(e==="click")return Bu(i)}function _S(e,i){if(e==="input"||e==="change")return Bu(i)}function yS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var pn=typeof Object.is=="function"?Object.is:yS;function Qo(e,i){if(pn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_e.call(i,h)||!pn(e[h],i[h]))return!1}return!0}function ug(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cg(e,i){var a=ug(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ug(a)}}function hg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?hg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function fg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=di(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=di(e.document)}return i}function sf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var vS=Cn&&"documentMode"in document&&11>=document.documentMode,Sa=null,af=null,Yo=null,of=!1;function dg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;of||Sa==null||Sa!==di(l)||(l=Sa,"selectionStart"in l&&sf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&Qo(Yo,l)||(Yo=l,l=Cc(af,"onSelect"),0<l.length&&(i=new gi("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Sa)))}function Cs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ba={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},lf={},mg={};Cn&&(mg=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Ds(e){if(lf[e])return lf[e];if(!ba[e])return e;var i=ba[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in mg)return lf[e]=i[a];return e}var pg=Ds("animationend"),gg=Ds("animationiteration"),_g=Ds("animationstart"),ES=Ds("transitionrun"),TS=Ds("transitionstart"),AS=Ds("transitioncancel"),yg=Ds("transitionend"),vg=new Map,uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uf.push("scrollEnd");function Yn(e,i){vg.set(e,i),hi(i,[e])}var qu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},On=[],wa=0,cf=0;function Hu(){for(var e=wa,i=cf=wa=0;i<e;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var h=On[i];On[i++]=null;var f=On[i];if(On[i++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Eg(a,h,f)}}function ju(e,i,a,l){On[wa++]=e,On[wa++]=i,On[wa++]=a,On[wa++]=l,cf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function hf(e,i,a,l){return ju(e,i,a,l),Fu(e)}function Os(e,i){return ju(e,null,null,i),Fu(e)}function Eg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-fe(a),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),f):null}function Fu(e){if(50<gl)throw gl=0,Ed=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ra={};function SS(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,i,a,l){return new SS(e,i,a,l)}function ff(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zi(e,i){var a=e.alternate;return a===null?(a=gn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Tg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Gu(e,i,a,l,h,f){var g=0;if(l=e,typeof e=="function")ff(e)&&(g=1);else if(typeof e=="string")g=Cb(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=gn(31,a,i,h),e.elementType=C,e.lanes=f,e;case W:return Ns(a.children,h,f,i);case J:g=8,h|=24;break;case ot:return e=gn(12,a,i,h|2),e.elementType=ot,e.lanes=f,e;case $t:return e=gn(13,a,i,h),e.elementType=$t,e.lanes=f,e;case It:return e=gn(19,a,i,h),e.elementType=It,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ct:g=10;break t;case pt:g=9;break t;case At:g=11;break t;case I:g=14;break t;case b:g=16,l=null;break t}g=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=gn(g,a,i,h),i.elementType=e,i.type=l,i.lanes=f,i}function Ns(e,i,a,l){return e=gn(7,e,l,i),e.lanes=a,e}function df(e,i,a){return e=gn(6,e,null,i),e.lanes=a,e}function Ag(e){var i=gn(18,null,null,0);return i.stateNode=e,i}function mf(e,i,a){return i=gn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Sg=new WeakMap;function Nn(e,i){if(typeof e=="object"&&e!==null){var a=Sg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:wo(i)},Sg.set(e,i),i)}return{value:e,source:i,stack:wo(i)}}var Ia=[],Ca=0,Ku=null,Xo=0,Mn=[],Vn=0,Tr=null,Ei=1,Ti="";function Bi(e,i){Ia[Ca++]=Xo,Ia[Ca++]=Ku,Ku=e,Xo=i}function bg(e,i,a){Mn[Vn++]=Ei,Mn[Vn++]=Ti,Mn[Vn++]=Tr,Tr=e;var l=Ei;e=Ti;var h=32-fe(l)-1;l&=~(1<<h),a+=1;var f=32-fe(i)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Ei=1<<32-fe(i)+h|a<<h|l,Ti=f+e}else Ei=1<<f|a<<h|l,Ti=e}function pf(e){e.return!==null&&(Bi(e,1),bg(e,1,0))}function gf(e){for(;e===Ku;)Ku=Ia[--Ca],Ia[Ca]=null,Xo=Ia[--Ca],Ia[Ca]=null;for(;e===Tr;)Tr=Mn[--Vn],Mn[Vn]=null,Ti=Mn[--Vn],Mn[Vn]=null,Ei=Mn[--Vn],Mn[Vn]=null}function wg(e,i){Mn[Vn++]=Ei,Mn[Vn++]=Ti,Mn[Vn++]=Tr,Ei=i.id,Ti=i.overflow,Tr=e}var qe=null,Wt=null,Vt=!1,Ar=null,Un=!1,_f=Error(s(519));function Sr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $o(Nn(i,e)),_f}function Rg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[ve]=e,i[Pe]=l,a){case"dialog":Rt("cancel",i),Rt("close",i);break;case"iframe":case"object":case"embed":Rt("load",i);break;case"video":case"audio":for(a=0;a<yl.length;a++)Rt(yl[a],i);break;case"source":Rt("error",i);break;case"img":case"image":case"link":Rt("error",i),Rt("load",i);break;case"details":Rt("toggle",i);break;case"input":Rt("invalid",i),wu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Rt("invalid",i);break;case"textarea":Rt("invalid",i),mr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||jy(i.textContent,a)?(l.popover!=null&&(Rt("beforetoggle",i),Rt("toggle",i)),l.onScroll!=null&&Rt("scroll",i),l.onScrollEnd!=null&&Rt("scrollend",i),l.onClick!=null&&(i.onclick=jn),i=!0):i=!1,i||Sr(e,!0)}function Ig(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:qe=qe.return}}function Da(e){if(e!==qe)return!1;if(!Vt)return Ig(e),Vt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Pd(e.type,e.memoizedProps)),a=!a),a&&Wt&&Sr(e),Ig(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Wt=Zy(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Wt=Zy(e)}else i===27?(i=Wt,Lr(e.type)?(e=Bd,Bd=null,Wt=e):Wt=i):Wt=qe?kn(e.stateNode.nextSibling):null;return!0}function Ms(){Wt=qe=null,Vt=!1}function yf(){var e=Ar;return e!==null&&(un===null?un=e:un.push.apply(un,e),Ar=null),e}function $o(e){Ar===null?Ar=[e]:Ar.push(e)}var vf=M(null),Vs=null,qi=null;function br(e,i,a){et(vf,i._currentValue),i._currentValue=a}function Hi(e){e._currentValue=vf.current,Y(vf)}function Ef(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Tf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<i.length;R++)if(E.context===i[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Ef(f.return,a,e),l||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Ef(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Oa(e,i,a,l){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=h.type;pn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Sl):e=[Sl])}h=h.return}e!==null&&Tf(i,e,a,l),i.flags|=262144}function Qu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Us(e){Vs=e,qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Cg(Vs,e)}function Yu(e,i){return Vs===null&&Us(e),Cg(e,i)}function Cg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},qi===null){if(e===null)throw Error(s(308));qi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else qi=qi.next=i;return a}var bS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},wS=r.unstable_scheduleCallback,RS=r.unstable_NormalPriority,Ae={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Af(){return{controller:new bS,data:new Map,refCount:0}}function Jo(e){e.refCount--,e.refCount===0&&wS(RS,function(){e.controller.abort()})}var Zo=null,Sf=0,Na=0,Ma=null;function IS(e,i){if(Zo===null){var a=Zo=[];Sf=0,Na=Rd(),Ma={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Sf++,i.then(Dg,Dg),i}function Dg(){if(--Sf===0&&Zo!==null){Ma!==null&&(Ma.status="fulfilled");var e=Zo;Zo=null,Na=0,Ma=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function CS(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Og=F.S;F.S=function(e,i){dy=We(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&IS(e,i),Og!==null&&Og(e,i)};var Ps=M(null);function bf(){var e=Ps.current;return e!==null?e:Jt.pooledCache}function Xu(e,i){i===null?et(Ps,Ps.current):et(Ps,i.pool)}function Ng(){var e=bf();return e===null?null:{parent:Ae._currentValue,pool:e}}var Va=Error(s(460)),wf=Error(s(474)),$u=Error(s(542)),Ju={then:function(){}};function Mg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(jn,jn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Pg(e),e;default:if(typeof i.status=="string")i.then(jn,jn);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Pg(e),e}throw Ls=i,Va}}function ks(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ls=a,Va):a}}var Ls=null;function Ug(){if(Ls===null)throw Error(s(459));var e=Ls;return Ls=null,e}function Pg(e){if(e===Va||e===$u)throw Error(s(483))}var Ua=null,Wo=0;function Zu(e){var i=Wo;return Wo+=1,Ua===null&&(Ua=[]),Vg(Ua,e,i)}function tl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Wu(e,i){throw i.$$typeof===D?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function kg(e){function i(U,O){if(e){var L=U.deletions;L===null?(U.deletions=[O],U.flags|=16):L.push(O)}}function a(U,O){if(!e)return null;for(;O!==null;)i(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=zi(U,O),U.index=0,U.sibling=null,U}function f(U,O,L){return U.index=L,e?(L=U.alternate,L!==null?(L=L.index,L<O?(U.flags|=67108866,O):L):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,L,G){return O===null||O.tag!==6?(O=df(L,U.mode,G),O.return=U,O):(O=h(O,L),O.return=U,O)}function R(U,O,L,G){var lt=L.type;return lt===W?j(U,O,L.props.children,G,L.key):O!==null&&(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&ks(lt)===O.type)?(O=h(O,L.props),tl(O,L),O.return=U,O):(O=Gu(L.type,L.key,L.props,null,U.mode,G),tl(O,L),O.return=U,O)}function x(U,O,L,G){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=mf(L,U.mode,G),O.return=U,O):(O=h(O,L.children||[]),O.return=U,O)}function j(U,O,L,G,lt){return O===null||O.tag!==7?(O=Ns(L,U.mode,G,lt),O.return=U,O):(O=h(O,L),O.return=U,O)}function Q(U,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=df(""+O,U.mode,L),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case H:return L=Gu(O.type,O.key,O.props,null,U.mode,L),tl(L,O),L.return=U,L;case $:return O=mf(O,U.mode,L),O.return=U,O;case b:return O=ks(O),Q(U,O,L)}if(Oe(O)||P(O))return O=Ns(O,U.mode,L,null),O.return=U,O;if(typeof O.then=="function")return Q(U,Zu(O),L);if(O.$$typeof===ct)return Q(U,Yu(U,O),L);Wu(U,O)}return null}function z(U,O,L,G){var lt=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return lt!==null?null:E(U,O,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case H:return L.key===lt?R(U,O,L,G):null;case $:return L.key===lt?x(U,O,L,G):null;case b:return L=ks(L),z(U,O,L,G)}if(Oe(L)||P(L))return lt!==null?null:j(U,O,L,G,null);if(typeof L.then=="function")return z(U,O,Zu(L),G);if(L.$$typeof===ct)return z(U,O,Yu(U,L),G);Wu(U,L)}return null}function q(U,O,L,G,lt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(L)||null,E(O,U,""+G,lt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case H:return U=U.get(G.key===null?L:G.key)||null,R(O,U,G,lt);case $:return U=U.get(G.key===null?L:G.key)||null,x(O,U,G,lt);case b:return G=ks(G),q(U,O,L,G,lt)}if(Oe(G)||P(G))return U=U.get(L)||null,j(O,U,G,lt,null);if(typeof G.then=="function")return q(U,O,L,Zu(G),lt);if(G.$$typeof===ct)return q(U,O,L,Yu(O,G),lt);Wu(O,G)}return null}function st(U,O,L,G){for(var lt=null,Lt=null,at=O,bt=O=0,Dt=null;at!==null&&bt<L.length;bt++){at.index>bt?(Dt=at,at=null):Dt=at.sibling;var xt=z(U,at,L[bt],G);if(xt===null){at===null&&(at=Dt);break}e&&at&&xt.alternate===null&&i(U,at),O=f(xt,O,bt),Lt===null?lt=xt:Lt.sibling=xt,Lt=xt,at=Dt}if(bt===L.length)return a(U,at),Vt&&Bi(U,bt),lt;if(at===null){for(;bt<L.length;bt++)at=Q(U,L[bt],G),at!==null&&(O=f(at,O,bt),Lt===null?lt=at:Lt.sibling=at,Lt=at);return Vt&&Bi(U,bt),lt}for(at=l(at);bt<L.length;bt++)Dt=q(at,U,bt,L[bt],G),Dt!==null&&(e&&Dt.alternate!==null&&at.delete(Dt.key===null?bt:Dt.key),O=f(Dt,O,bt),Lt===null?lt=Dt:Lt.sibling=Dt,Lt=Dt);return e&&at.forEach(function(Hr){return i(U,Hr)}),Vt&&Bi(U,bt),lt}function ft(U,O,L,G){if(L==null)throw Error(s(151));for(var lt=null,Lt=null,at=O,bt=O=0,Dt=null,xt=L.next();at!==null&&!xt.done;bt++,xt=L.next()){at.index>bt?(Dt=at,at=null):Dt=at.sibling;var Hr=z(U,at,xt.value,G);if(Hr===null){at===null&&(at=Dt);break}e&&at&&Hr.alternate===null&&i(U,at),O=f(Hr,O,bt),Lt===null?lt=Hr:Lt.sibling=Hr,Lt=Hr,at=Dt}if(xt.done)return a(U,at),Vt&&Bi(U,bt),lt;if(at===null){for(;!xt.done;bt++,xt=L.next())xt=Q(U,xt.value,G),xt!==null&&(O=f(xt,O,bt),Lt===null?lt=xt:Lt.sibling=xt,Lt=xt);return Vt&&Bi(U,bt),lt}for(at=l(at);!xt.done;bt++,xt=L.next())xt=q(at,U,bt,xt.value,G),xt!==null&&(e&&xt.alternate!==null&&at.delete(xt.key===null?bt:xt.key),O=f(xt,O,bt),Lt===null?lt=xt:Lt.sibling=xt,Lt=xt);return e&&at.forEach(function(zb){return i(U,zb)}),Vt&&Bi(U,bt),lt}function Xt(U,O,L,G){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case H:t:{for(var lt=L.key;O!==null;){if(O.key===lt){if(lt=L.type,lt===W){if(O.tag===7){a(U,O.sibling),G=h(O,L.props.children),G.return=U,U=G;break t}}else if(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&ks(lt)===O.type){a(U,O.sibling),G=h(O,L.props),tl(G,L),G.return=U,U=G;break t}a(U,O);break}else i(U,O);O=O.sibling}L.type===W?(G=Ns(L.props.children,U.mode,G,L.key),G.return=U,U=G):(G=Gu(L.type,L.key,L.props,null,U.mode,G),tl(G,L),G.return=U,U=G)}return g(U);case $:t:{for(lt=L.key;O!==null;){if(O.key===lt)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(U,O.sibling),G=h(O,L.children||[]),G.return=U,U=G;break t}else{a(U,O);break}else i(U,O);O=O.sibling}G=mf(L,U.mode,G),G.return=U,U=G}return g(U);case b:return L=ks(L),Xt(U,O,L,G)}if(Oe(L))return st(U,O,L,G);if(P(L)){if(lt=P(L),typeof lt!="function")throw Error(s(150));return L=lt.call(L),ft(U,O,L,G)}if(typeof L.then=="function")return Xt(U,O,Zu(L),G);if(L.$$typeof===ct)return Xt(U,O,Yu(U,L),G);Wu(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(U,O.sibling),G=h(O,L),G.return=U,U=G):(a(U,O),G=df(L,U.mode,G),G.return=U,U=G),g(U)):a(U,O)}return function(U,O,L,G){try{Wo=0;var lt=Xt(U,O,L,G);return Ua=null,lt}catch(at){if(at===Va||at===$u)throw at;var Lt=gn(29,at,null,U.mode);return Lt.lanes=G,Lt.return=U,Lt}}}var xs=kg(!0),Lg=kg(!1),wr=!1;function Rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ir(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Bt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Fu(e),Eg(e,null,a),i}return ju(e,l,i,a),Fu(e)}function el(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Co(e,a)}}function Cf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Df=!1;function nl(){if(Df){var e=Ma;if(e!==null)throw e}}function il(e,i,a,l){Df=!1;var h=e.updateQueue;wr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,x=R.next;R.next=null,g===null?f=x:g.next=x,g=R;var j=e.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==g&&(E===null?j.firstBaseUpdate=x:E.next=x,j.lastBaseUpdate=R))}if(f!==null){var Q=h.baseState;g=0,j=x=R=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Ct&z)===z:(l&z)===z){z!==0&&z===Na&&(Df=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=e,ft=E;z=i;var Xt=a;switch(ft.tag){case 1:if(st=ft.payload,typeof st=="function"){Q=st.call(Xt,Q,z);break t}Q=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ft.payload,z=typeof st=="function"?st.call(Xt,Q,z):st,z==null)break t;Q=S({},Q,z);break t;case 2:wr=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(x=j=q,R=Q):j=j.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);j===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=x,h.lastBaseUpdate=j,f===null&&(h.shared.lanes=0),Mr|=g,e.lanes=g,e.memoizedState=Q}}function xg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function zg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)xg(a[e],i)}var Pa=M(null),tc=M(0);function Bg(e,i){e=Ji,et(tc,e),et(Pa,i),Ji=e|i.baseLanes}function Of(){et(tc,Ji),et(Pa,Pa.current)}function Nf(){Ji=tc.current,Y(Pa),Y(tc)}var _n=M(null),Pn=null;function Cr(e){var i=e.alternate;et(me,me.current&1),et(_n,e),Pn===null&&(i===null||Pa.current!==null||i.memoizedState!==null)&&(Pn=e)}function Mf(e){et(me,me.current),et(_n,e),Pn===null&&(Pn=e)}function qg(e){e.tag===22?(et(me,me.current),et(_n,e),Pn===null&&(Pn=e)):Dr()}function Dr(){et(me,me.current),et(_n,_n.current)}function yn(e){Y(_n),Pn===e&&(Pn=null),Y(me)}var me=M(0);function ec(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||xd(a)||zd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ji=0,Tt=null,Qt=null,Se=null,nc=!1,ka=!1,zs=!1,ic=0,rl=0,La=null,DS=0;function le(){throw Error(s(321))}function Vf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!pn(e[a],i[a]))return!1;return!0}function Uf(e,i,a,l,h,f){return ji=f,Tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=e===null||e.memoizedState===null?b_:Xf,zs=!1,f=a(l,h),zs=!1,ka&&(f=jg(i,a,l,h)),Hg(e),f}function Hg(e){F.H=ol;var i=Qt!==null&&Qt.next!==null;if(ji=0,Se=Qt=Tt=null,nc=!1,rl=0,La=null,i)throw Error(s(300));e===null||be||(e=e.dependencies,e!==null&&Qu(e)&&(be=!0))}function jg(e,i,a,l){Tt=e;var h=0;do{if(ka&&(La=null),rl=0,ka=!1,25<=h)throw Error(s(301));if(h+=1,Se=Qt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=w_,f=i(a,l)}while(ka);return f}function OS(){var e=F.H,i=e.useState()[0];return i=typeof i.then=="function"?sl(i):i,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(Tt.flags|=1024),i}function Pf(){var e=ic!==0;return ic=0,e}function kf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Lf(e){if(nc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}nc=!1}ji=0,Se=Qt=Tt=null,ka=!1,rl=ic=0,La=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Tt.memoizedState=Se=e:Se=Se.next=e,Se}function pe(){if(Qt===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var i=Se===null?Tt.memoizedState:Se.next;if(i!==null)Se=i,Qt=e;else{if(e===null)throw Tt.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Se===null?Tt.memoizedState=Se=e:Se=Se.next=e}return Se}function rc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(e){var i=rl;return rl+=1,La===null&&(La=[]),e=Vg(La,e,i),i=Tt,(Se===null?i.memoizedState:Se.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?b_:Xf),e}function sc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return sl(e);if(e.$$typeof===ct)return He(e)}throw Error(s(438,String(e)))}function xf(e){var i=null,a=Tt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Tt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=rc(),Tt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=V;return i.index++,a}function Fi(e,i){return typeof i=="function"?i(e):i}function ac(e){var i=pe();return zf(i,Qt,e)}function zf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}i.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=g=null,R=null,x=i,j=!1;do{var Q=x.lane&-536870913;if(Q!==x.lane?(Ct&Q)===Q:(ji&Q)===Q){var z=x.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),Q===Na&&(j=!0);else if((ji&z)===z){x=x.next,z===Na&&(j=!0);continue}else Q={lane:0,revertLane:x.revertLane,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},R===null?(E=R=Q,g=f):R=R.next=Q,Tt.lanes|=z,Mr|=z;Q=x.action,zs&&a(f,Q),f=x.hasEagerState?x.eagerState:a(f,Q)}else z={lane:Q,revertLane:x.revertLane,gesture:x.gesture,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},R===null?(E=R=z,g=f):R=R.next=z,Tt.lanes|=Q,Mr|=Q;x=x.next}while(x!==null&&x!==i);if(R===null?g=f:R.next=E,!pn(f,e.memoizedState)&&(be=!0,j&&(a=Ma,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Bf(e){var i=pe(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);pn(f,i.memoizedState)||(be=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function Fg(e,i,a){var l=Tt,h=pe(),f=Vt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var g=!pn((Qt||h).memoizedState,a);if(g&&(h.memoizedState=a,be=!0),h=h.queue,jf(Qg.bind(null,l,h,e),[e]),h.getSnapshot!==i||g||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,xa(9,{destroy:void 0},Kg.bind(null,l,h,a,i),null),Jt===null)throw Error(s(349));f||(ji&127)!==0||Gg(l,i,a)}return a}function Gg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Tt.updateQueue,i===null?(i=rc(),Tt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Kg(e,i,a,l){i.value=a,i.getSnapshot=l,Yg(i)&&Xg(e)}function Qg(e,i,a){return a(function(){Yg(i)&&Xg(e)})}function Yg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!pn(e,a)}catch{return!0}}function Xg(e){var i=Os(e,2);i!==null&&cn(i,e,2)}function qf(e){var i=en();if(typeof e=="function"){var a=e;if(e=a(),zs){wn(!0);try{a()}finally{wn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:e},i}function $g(e,i,a,l){return e.baseState=a,zf(e,Qt,typeof l=="function"?l:Fi)}function NS(e,i,a,l,h){if(uc(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,Jg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Jg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var f=F.T,g={};F.T=g;try{var E=a(h,l),R=F.S;R!==null&&R(g,E),Zg(e,i,E)}catch(x){Hf(e,i,x)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=a(h,l),Zg(e,i,f)}catch(x){Hf(e,i,x)}}function Zg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wg(e,i,l)},function(l){return Hf(e,i,l)}):Wg(e,i,a)}function Wg(e,i,a){i.status="fulfilled",i.value=a,t_(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Jg(e,a)))}function Hf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,t_(i),i=i.next;while(i!==l)}e.action=null}function t_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function e_(e,i){return i}function n_(e,i){if(Vt){var a=Jt.formState;if(a!==null){t:{var l=Tt;if(Vt){if(Wt){e:{for(var h=Wt,f=Un;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Wt=kn(h.nextSibling),l=h.data==="F!";break t}}Sr(l)}l=!1}l&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e_,lastRenderedState:i},a.queue=l,a=T_.bind(null,Tt,l),l.dispatch=a,l=qf(!1),f=Yf.bind(null,Tt,!1,l.queue),l=en(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=NS.bind(null,Tt,h,f,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function i_(e){var i=pe();return r_(i,Qt,e)}function r_(e,i,a){if(i=zf(e,i,e_)[0],e=ac(Fi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=sl(i)}catch(g){throw g===Va?$u:g}else l=i;i=pe();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Tt.flags|=2048,xa(9,{destroy:void 0},MS.bind(null,h,a),null)),[l,f,e]}function MS(e,i){e.action=i}function s_(e){var i=pe(),a=Qt;if(a!==null)return r_(i,a,e);pe(),i=i.memoizedState,a=pe();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function xa(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Tt.updateQueue,i===null&&(i=rc(),Tt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function a_(){return pe().memoizedState}function oc(e,i,a,l){var h=en();Tt.flags|=e,h.memoizedState=xa(1|i,{destroy:void 0},a,l===void 0?null:l)}function lc(e,i,a,l){var h=pe();l=l===void 0?null:l;var f=h.memoizedState.inst;Qt!==null&&l!==null&&Vf(l,Qt.memoizedState.deps)?h.memoizedState=xa(i,f,a,l):(Tt.flags|=e,h.memoizedState=xa(1|i,f,a,l))}function o_(e,i){oc(8390656,8,e,i)}function jf(e,i){lc(2048,8,e,i)}function VS(e){Tt.flags|=4;var i=Tt.updateQueue;if(i===null)i=rc(),Tt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function l_(e){var i=pe().memoizedState;return VS({ref:i,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function u_(e,i){return lc(4,2,e,i)}function c_(e,i){return lc(4,4,e,i)}function h_(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function f_(e,i,a){a=a!=null?a.concat([e]):null,lc(4,4,h_.bind(null,i,e),a)}function Ff(){}function d_(e,i){var a=pe();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Vf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function m_(e,i){var a=pe();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Vf(i,l[1]))return l[0];if(l=e(),zs){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[l,i],l}function Gf(e,i,a){return a===void 0||(ji&1073741824)!==0&&(Ct&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=py(),Tt.lanes|=e,Mr|=e,a)}function p_(e,i,a,l){return pn(a,i)?a:Pa.current!==null?(e=Gf(e,a,l),pn(e,i)||(be=!0),e):(ji&42)===0||(ji&1073741824)!==0&&(Ct&261930)===0?(be=!0,e.memoizedState=a):(e=py(),Tt.lanes|=e,Mr|=e,i)}function g_(e,i,a,l,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,Yf(e,!1,i,a);try{var R=h(),x=F.S;if(x!==null&&x(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var j=CS(R,l);al(e,i,j,Tn(e))}else al(e,i,l,Tn(e))}catch(Q){al(e,i,{then:function(){},status:"rejected",reason:Q},Tn())}finally{tt.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function US(){}function Kf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=__(e).queue;g_(e,h,i,ht,a===null?US:function(){return y_(e),a(l)})}function __(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:ht},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function y_(e){var i=__(e);i.next===null&&(i=e.alternate.memoizedState),al(e,i.next.queue,{},Tn())}function Qf(){return He(Sl)}function v_(){return pe().memoizedState}function E_(){return pe().memoizedState}function PS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Tn();e=Rr(a);var l=Ir(i,e,a);l!==null&&(cn(l,i,a),el(l,i,a)),i={cache:Af()},e.payload=i;return}i=i.return}}function kS(e,i,a){var l=Tn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},uc(e)?A_(i,a):(a=hf(e,i,a,l),a!==null&&(cn(a,e,l),S_(a,i,l)))}function T_(e,i,a){var l=Tn();al(e,i,a,l)}function al(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(uc(e))A_(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var g=i.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,pn(E,g))return ju(e,i,h,0),Jt===null&&Hu(),!1}catch{}if(a=hf(e,i,h,l),a!==null)return cn(a,e,l),S_(a,i,l),!0}return!1}function Yf(e,i,a,l){if(l={lane:2,revertLane:Rd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},uc(e)){if(i)throw Error(s(479))}else i=hf(e,a,l,2),i!==null&&cn(i,e,2)}function uc(e){var i=e.alternate;return e===Tt||i!==null&&i===Tt}function A_(e,i){ka=nc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function S_(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Co(e,a)}}var ol={readContext:He,use:sc,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};ol.useEffectEvent=le;var b_={readContext:He,use:sc,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:o_,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,oc(4194308,4,h_.bind(null,i,e),a)},useLayoutEffect:function(e,i){return oc(4194308,4,e,i)},useInsertionEffect:function(e,i){oc(4,2,e,i)},useMemo:function(e,i){var a=en();i=i===void 0?null:i;var l=e();if(zs){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=en();if(a!==void 0){var h=a(i);if(zs){wn(!0);try{a(i)}finally{wn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=kS.bind(null,Tt,e),[l.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=qf(e);var i=e.queue,a=T_.bind(null,Tt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Ff,useDeferredValue:function(e,i){var a=en();return Gf(a,e,i)},useTransition:function(){var e=qf(!1);return e=g_.bind(null,Tt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Tt,h=en();if(Vt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Jt===null)throw Error(s(349));(Ct&127)!==0||Gg(l,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,o_(Qg.bind(null,l,f,e),[e]),l.flags|=2048,xa(9,{destroy:void 0},Kg.bind(null,l,f,a,i),null),a},useId:function(){var e=en(),i=Jt.identifierPrefix;if(Vt){var a=Ti,l=Ei;a=(l&~(1<<32-fe(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ic++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=DS++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Qf,useFormState:n_,useActionState:n_,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Yf.bind(null,Tt,!0,a),a.dispatch=i,[e,i]},useMemoCache:xf,useCacheRefresh:function(){return en().memoizedState=PS.bind(null,Tt)},useEffectEvent:function(e){var i=en(),a={impl:e};return i.memoizedState=a,function(){if((Bt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Xf={readContext:He,use:sc,useCallback:d_,useContext:He,useEffect:jf,useImperativeHandle:f_,useInsertionEffect:u_,useLayoutEffect:c_,useMemo:m_,useReducer:ac,useRef:a_,useState:function(){return ac(Fi)},useDebugValue:Ff,useDeferredValue:function(e,i){var a=pe();return p_(a,Qt.memoizedState,e,i)},useTransition:function(){var e=ac(Fi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:sl(e),i]},useSyncExternalStore:Fg,useId:v_,useHostTransitionStatus:Qf,useFormState:i_,useActionState:i_,useOptimistic:function(e,i){var a=pe();return $g(a,Qt,e,i)},useMemoCache:xf,useCacheRefresh:E_};Xf.useEffectEvent=l_;var w_={readContext:He,use:sc,useCallback:d_,useContext:He,useEffect:jf,useImperativeHandle:f_,useInsertionEffect:u_,useLayoutEffect:c_,useMemo:m_,useReducer:Bf,useRef:a_,useState:function(){return Bf(Fi)},useDebugValue:Ff,useDeferredValue:function(e,i){var a=pe();return Qt===null?Gf(a,e,i):p_(a,Qt.memoizedState,e,i)},useTransition:function(){var e=Bf(Fi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:sl(e),i]},useSyncExternalStore:Fg,useId:v_,useHostTransitionStatus:Qf,useFormState:s_,useActionState:s_,useOptimistic:function(e,i){var a=pe();return Qt!==null?$g(a,Qt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:xf,useCacheRefresh:E_};w_.useEffectEvent=l_;function $f(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Jf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Tn(),h=Rr(l);h.payload=i,a!=null&&(h.callback=a),i=Ir(e,h,l),i!==null&&(cn(i,e,l),el(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Tn(),h=Rr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ir(e,h,l),i!==null&&(cn(i,e,l),el(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Tn(),l=Rr(a);l.tag=2,i!=null&&(l.callback=i),i=Ir(e,l,a),i!==null&&(cn(i,e,a),el(i,e,a))}};function R_(e,i,a,l,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):i.prototype&&i.prototype.isPureReactComponent?!Qo(a,l)||!Qo(h,f):!0}function I_(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Jf.enqueueReplaceState(i,i.state,null)}function Bs(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function C_(e){qu(e)}function D_(e){console.error(e)}function O_(e){qu(e)}function cc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function N_(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Zf(e,i,a){return a=Rr(a),a.tag=3,a.payload={element:null},a.callback=function(){cc(e,i)},a}function M_(e){return e=Rr(e),e.tag=3,e}function V_(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){N_(i,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){N_(i,a,l),typeof h!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function LS(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Oa(i,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Pn===null?Ac():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Ju?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Sd(e,l,h)),!1;case 22:return a.flags|=65536,l===Ju?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Sd(e,l,h)),!1}throw Error(s(435,a.tag))}return Sd(e,l,h),Ac(),!1}if(Vt)return i=_n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==_f&&(e=Error(s(422),{cause:l}),$o(Nn(e,a)))):(l!==_f&&(i=Error(s(423),{cause:l}),$o(Nn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Nn(l,a),h=Zf(e.stateNode,l,h),Cf(e,h),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:l});if(f=Nn(f,a),pl===null?pl=[f]:pl.push(f),ue!==4&&(ue=2),i===null)return!0;l=Nn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Zf(a.stateNode,l,e),Cf(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Vr===null||!Vr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=M_(h),V_(h,e,a,l),Cf(a,h),!1}a=a.return}while(a!==null);return!1}var Wf=Error(s(461)),be=!1;function je(e,i,a,l){i.child=e===null?Lg(i,null,a,l):xs(i,e.child,a,l)}function U_(e,i,a,l,h){a=a.render;var f=i.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Us(i),l=Uf(e,i,a,g,f,h),E=Pf(),e!==null&&!be?(kf(e,i,h),Gi(e,i,h)):(Vt&&E&&pf(i),i.flags|=1,je(e,i,l,h),i.child)}function P_(e,i,a,l,h){if(e===null){var f=a.type;return typeof f=="function"&&!ff(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,k_(e,i,f,l,h)):(e=Gu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!od(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(g,l)&&e.ref===i.ref)return Gi(e,i,h)}return i.flags|=1,e=zi(f,l),e.ref=i.ref,e.return=i,i.child=e}function k_(e,i,a,l,h){if(e!==null){var f=e.memoizedProps;if(Qo(f,l)&&e.ref===i.ref)if(be=!1,i.pendingProps=l=f,od(e,h))(e.flags&131072)!==0&&(be=!0);else return i.lanes=e.lanes,Gi(e,i,h)}return td(e,i,a,l,h)}function L_(e,i,a,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,i.child=null;return x_(e,i,f,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Xu(i,f!==null?f.cachePool:null),f!==null?Bg(i,f):Of(),qg(i);else return l=i.lanes=536870912,x_(e,i,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Xu(i,f.cachePool),Bg(i,f),Dr(),i.memoizedState=null):(e!==null&&Xu(i,null),Of(),Dr());return je(e,i,h,a),i.child}function ll(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function x_(e,i,a,l,h){var f=bf();return f=f===null?null:{parent:Ae._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},e!==null&&Xu(i,null),Of(),qg(i),e!==null&&Oa(e,i,l,!0),i.childLanes=h,null}function hc(e,i){return i=dc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function z_(e,i,a){return xs(i,e.child,null,a),e=hc(i,i.pendingProps),e.flags|=2,yn(i),i.memoizedState=null,e}function xS(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Vt){if(l.mode==="hidden")return e=hc(i,l),i.lanes=536870912,ll(null,e);if(Mf(i),(e=Wt)?(e=Jy(e,Un),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Tr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=Ag(e),a.return=i,i.child=a,qe=i,Wt=null)):e=null,e===null)throw Sr(i);return i.lanes=536870912,null}return hc(i,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Mf(i),h)if(i.flags&256)i.flags&=-257,i=z_(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(be||Oa(e,i,a,!1),h=(a&e.childLanes)!==0,be||h){if(l=Jt,l!==null&&(g=Do(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Os(e,g),cn(l,e,g),Wf;Ac(),i=z_(e,i,a)}else e=f.treeContext,Wt=kn(g.nextSibling),qe=i,Vt=!0,Ar=null,Un=!1,e!==null&&wg(i,e),i=hc(i,l),i.flags|=4096;return i}return e=zi(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function fc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function td(e,i,a,l,h){return Us(i),a=Uf(e,i,a,l,void 0,h),l=Pf(),e!==null&&!be?(kf(e,i,h),Gi(e,i,h)):(Vt&&l&&pf(i),i.flags|=1,je(e,i,a,h),i.child)}function B_(e,i,a,l,h,f){return Us(i),i.updateQueue=null,a=jg(i,l,a,h),Hg(e),l=Pf(),e!==null&&!be?(kf(e,i,f),Gi(e,i,f)):(Vt&&l&&pf(i),i.flags|=1,je(e,i,a,f),i.child)}function q_(e,i,a,l,h){if(Us(i),i.stateNode===null){var f=Ra,g=a.contextType;typeof g=="object"&&g!==null&&(f=He(g)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Jf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},Rf(i),g=a.contextType,f.context=typeof g=="object"&&g!==null?He(g):Ra,f.state=i.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&($f(i,a,g,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Jf.enqueueReplaceState(f,f.state,null),il(i,l,f,h),nl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,R=Bs(a,E);f.props=R;var x=f.context,j=a.contextType;g=Ra,typeof j=="object"&&j!==null&&(g=He(j));var Q=a.getDerivedStateFromProps;j=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||x!==g)&&I_(i,f,l,g),wr=!1;var z=i.memoizedState;f.state=z,il(i,l,f,h),nl(),x=i.memoizedState,E||z!==x||wr?(typeof Q=="function"&&($f(i,a,Q,l),x=i.memoizedState),(R=wr||R_(i,a,R,l,z,x,g))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=x),f.props=l,f.state=x,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,If(e,i),g=i.memoizedProps,j=Bs(a,g),f.props=j,Q=i.pendingProps,z=f.context,x=a.contextType,R=Ra,typeof x=="object"&&x!==null&&(R=He(x)),E=a.getDerivedStateFromProps,(x=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||z!==R)&&I_(i,f,l,R),wr=!1,z=i.memoizedState,f.state=z,il(i,l,f,h),nl();var q=i.memoizedState;g!==Q||z!==q||wr||e!==null&&e.dependencies!==null&&Qu(e.dependencies)?(typeof E=="function"&&($f(i,a,E,l),q=i.memoizedState),(j=wr||R_(i,a,j,l,z,q,R)||e!==null&&e.dependencies!==null&&Qu(e.dependencies))?(x||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),f.props=l,f.state=q,f.context=R,l=j):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),l=!1)}return f=l,fc(e,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&l?(i.child=xs(i,e.child,null,h),i.child=xs(i,null,a,h)):je(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Gi(e,i,h),e}function H_(e,i,a,l){return Ms(),i.flags|=256,je(e,i,a,l),i.child}var ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nd(e){return{baseLanes:e,cachePool:Ng()}}function id(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=En),e}function j_(e,i,a){var l=i.pendingProps,h=!1,f=(i.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),g&&(h=!0,i.flags&=-129),g=(i.flags&32)!==0,i.flags&=-33,e===null){if(Vt){if(h?Cr(i):Dr(),(e=Wt)?(e=Jy(e,Un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Tr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=Ag(e),a.return=i,i.child=a,qe=i,Wt=null)):e=null,e===null)throw Sr(i);return zd(e)?i.lanes=32:i.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Dr(),h=i.mode,E=dc({mode:"hidden",children:E},h),l=Ns(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,l=i.child,l.memoizedState=nd(a),l.childLanes=id(e,g,a),i.memoizedState=ed,ll(null,l)):(Cr(i),rd(i,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)i.flags&256?(Cr(i),i.flags&=-257,i=sd(e,i,a)):i.memoizedState!==null?(Dr(),i.child=e.child,i.flags|=128,i=null):(Dr(),E=l.fallback,h=i.mode,l=dc({mode:"visible",children:l.children},h),E=Ns(E,h,a,null),E.flags|=2,l.return=i,E.return=i,l.sibling=E,i.child=l,xs(i,e.child,null,a),l=i.child,l.memoizedState=nd(a),l.childLanes=id(e,g,a),i.memoizedState=ed,i=ll(null,l));else if(Cr(i),zd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var x=g.dgst;g=x,l=Error(s(419)),l.stack="",l.digest=g,$o({value:l,source:null,stack:null}),i=sd(e,i,a)}else if(be||Oa(e,i,a,!1),g=(a&e.childLanes)!==0,be||g){if(g=Jt,g!==null&&(l=Do(g,a),l!==0&&l!==R.retryLane))throw R.retryLane=l,Os(e,l),cn(g,e,l),Wf;xd(E)||Ac(),i=sd(e,i,a)}else xd(E)?(i.flags|=192,i.child=e.child,i=null):(e=R.treeContext,Wt=kn(E.nextSibling),qe=i,Vt=!0,Ar=null,Un=!1,e!==null&&wg(i,e),i=rd(i,l.children),i.flags|=4096);return i}return h?(Dr(),E=l.fallback,h=i.mode,R=e.child,x=R.sibling,l=zi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,x!==null?E=zi(x,E):(E=Ns(E,h,a,null),E.flags|=2),E.return=i,l.return=i,l.sibling=E,i.child=l,ll(null,l),l=i.child,E=e.child.memoizedState,E===null?E=nd(a):(h=E.cachePool,h!==null?(R=Ae._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Ng(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=id(e,g,a),i.memoizedState=ed,ll(e.child,l)):(Cr(i),a=e.child,e=a.sibling,a=zi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(g=i.deletions,g===null?(i.deletions=[e],i.flags|=16):g.push(e)),i.child=a,i.memoizedState=null,a)}function rd(e,i){return i=dc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function dc(e,i){return e=gn(22,e,null,i),e.lanes=0,e}function sd(e,i,a){return xs(i,e.child,null,a),e=rd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function F_(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Ef(e.return,i,a)}function ad(e,i,a,l,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function G_(e,i,a){var l=i.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=me.current,E=(g&2)!==0;if(E?(g=g&1|2,i.flags|=128):g&=1,et(me,g),je(e,i,l,a),l=Vt?Xo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&F_(e,a,i);else if(e.tag===19)F_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&ec(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ad(i,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&ec(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}ad(i,!0,a,null,f,l);break;case"together":ad(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Gi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Mr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Oa(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=zi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=zi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function od(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Qu(e)))}function zS(e,i,a){switch(i.tag){case 3:Ne(i,i.stateNode.containerInfo),br(i,Ae,e.memoizedState.cache),Ms();break;case 27:case 5:fs(i);break;case 4:Ne(i,i.stateNode.containerInfo);break;case 10:br(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Mf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Cr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?j_(e,i,a):(Cr(i),e=Gi(e,i,a),e!==null?e.sibling:null);Cr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Oa(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return G_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(me,me.current),l)break;return null;case 22:return i.lanes=0,L_(e,i,a,i.pendingProps);case 24:br(i,Ae,e.memoizedState.cache)}return Gi(e,i,a)}function K_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)be=!0;else{if(!od(e,a)&&(i.flags&128)===0)return be=!1,zS(e,i,a);be=(e.flags&131072)!==0}else be=!1,Vt&&(i.flags&1048576)!==0&&bg(i,Xo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=ks(i.elementType),i.type=e,typeof e=="function")ff(e)?(l=Bs(e,l),i.tag=1,i=q_(null,i,e,l,a)):(i.tag=0,i=td(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===At){i.tag=11,i=U_(null,i,e,l,a);break t}else if(h===I){i.tag=14,i=P_(null,i,e,l,a);break t}}throw i=ne(e)||e,Error(s(306,i,""))}}return i;case 0:return td(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Bs(l,i.pendingProps),q_(e,i,l,h,a);case 3:t:{if(Ne(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var f=i.memoizedState;h=f.element,If(e,i),il(i,l,null,a);var g=i.memoizedState;if(l=g.cache,br(i,Ae,l),l!==f.cache&&Tf(i,[Ae],a,!0),nl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=H_(e,i,l,a);break t}else if(l!==h){h=Nn(Error(s(424)),i),$o(h),i=H_(e,i,l,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Wt=kn(e.firstChild),qe=i,Vt=!0,Ar=null,Un=!0,a=Lg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ms(),l===h){i=Gi(e,i,a);break t}je(e,i,l,a)}i=i.child}return i;case 26:return fc(e,i),e===null?(a=iv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Vt||(a=i.type,e=i.pendingProps,l=Dc(St.current).createElement(a),l[ve]=i,l[Pe]=e,Fe(l,a,e),Ee(l),i.stateNode=l):i.memoizedState=iv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return fs(i),e===null&&Vt&&(l=i.stateNode=tv(i.type,i.pendingProps,St.current),qe=i,Un=!0,h=Wt,Lr(i.type)?(Bd=h,Wt=kn(l.firstChild)):Wt=h),je(e,i,i.pendingProps.children,a),fc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Vt&&((h=l=Wt)&&(l=pb(l,i.type,i.pendingProps,Un),l!==null?(i.stateNode=l,qe=i,Wt=kn(l.firstChild),Un=!1,h=!0):h=!1),h||Sr(i)),fs(i),h=i.type,f=i.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,Pd(h,f)?l=null:g!==null&&Pd(h,g)&&(i.flags|=32),i.memoizedState!==null&&(h=Uf(e,i,OS,null,null,a),Sl._currentValue=h),fc(e,i),je(e,i,l,a),i.child;case 6:return e===null&&Vt&&((e=a=Wt)&&(a=gb(a,i.pendingProps,Un),a!==null?(i.stateNode=a,qe=i,Wt=null,e=!0):e=!1),e||Sr(i)),null;case 13:return j_(e,i,a);case 4:return Ne(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=xs(i,null,l,a):je(e,i,l,a),i.child;case 11:return U_(e,i,i.type,i.pendingProps,a);case 7:return je(e,i,i.pendingProps,a),i.child;case 8:return je(e,i,i.pendingProps.children,a),i.child;case 12:return je(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,br(i,i.type,l.value),je(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Us(i),h=He(h),l=l(h),i.flags|=1,je(e,i,l,a),i.child;case 14:return P_(e,i,i.type,i.pendingProps,a);case 15:return k_(e,i,i.type,i.pendingProps,a);case 19:return G_(e,i,a);case 31:return xS(e,i,a);case 22:return L_(e,i,a,i.pendingProps);case 24:return Us(i),l=He(Ae),e===null?(h=bf(),h===null&&(h=Jt,f=Af(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:l,cache:h},Rf(i),br(i,Ae,h)):((e.lanes&a)!==0&&(If(e,i),il(i,null,null,a),nl()),h=e.memoizedState,f=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),br(i,Ae,l)):(l=f.cache,br(i,Ae,l),l!==h.cache&&Tf(i,[Ae],a,!0))),je(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ki(e){e.flags|=4}function ld(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(vy())e.flags|=8192;else throw Ls=Ju,wf}else e.flags&=-16777217}function Q_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!lv(i))if(vy())e.flags|=8192;else throw Ls=Ju,wf}function mc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Eu():536870912,e.lanes|=i,Ha|=i)}function ul(e,i){if(!Vt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function te(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function BS(e,i,a){var l=i.pendingProps;switch(gf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(i),null;case 1:return te(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Hi(Ae),ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Da(i)?Ki(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,yf())),te(i),null;case 26:var h=i.type,f=i.memoizedState;return e===null?(Ki(i),f!==null?(te(i),Q_(i,f)):(te(i),ld(i,h,null,l,a))):f?f!==e.memoizedState?(Ki(i),te(i),Q_(i,f)):(te(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ki(i),te(i),ld(i,h,e,l,a)),null;case 27:if(oa(i),a=St.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ki(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return te(i),null}e=rt.current,Da(i)?Rg(i):(e=tv(h,l,a),i.stateNode=e,Ki(i))}return te(i),null;case 5:if(oa(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ki(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return te(i),null}if(f=rt.current,Da(i))Rg(i);else{var g=Dc(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[ve]=i,f[Pe]=l;t:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break t;for(;g.sibling===null;){if(g.return===null||g.return===i)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=f;t:switch(Fe(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ki(i)}}return te(i),ld(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Ki(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=St.current,Da(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=qe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ve]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||jy(e.nodeValue,a)),e||Sr(i,!0)}else e=Dc(e).createTextNode(l),e[ve]=i,i.stateNode=e}return te(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Da(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ve]=i}else Ms(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;te(i),e=!1}else a=yf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(yn(i),i):(yn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return te(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Da(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=i}else Ms(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;te(i),h=!1}else h=yf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(yn(i),i):(yn(i),null)}return yn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),mc(i,i.updateQueue),te(i),null);case 4:return ie(),e===null&&Od(i.stateNode.containerInfo),te(i),null;case 10:return Hi(i.type),te(i),null;case 19:if(Y(me),l=i.memoizedState,l===null)return te(i),null;if(h=(i.flags&128)!==0,f=l.rendering,f===null)if(h)ul(l,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=ec(e),f!==null){for(i.flags|=128,ul(l,!1),e=f.updateQueue,i.updateQueue=e,mc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Tg(a,e),a=a.sibling;return et(me,me.current&1|2),Vt&&Bi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&We()>vc&&(i.flags|=128,h=!0,ul(l,!1),i.lanes=4194304)}else{if(!h)if(e=ec(f),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,mc(i,e),ul(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Vt)return te(i),null}else 2*We()-l.renderingStartTime>vc&&a!==536870912&&(i.flags|=128,h=!0,ul(l,!1),i.lanes=4194304);l.isBackwards?(f.sibling=i.child,i.child=f):(e=l.last,e!==null?e.sibling=f:i.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=We(),e.sibling=null,a=me.current,et(me,h?a&1|2:a&1),Vt&&Bi(i,l.treeForkCount),e):(te(i),null);case 22:case 23:return yn(i),Nf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(te(i),i.subtreeFlags&6&&(i.flags|=8192)):te(i),a=i.updateQueue,a!==null&&mc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&Y(Ps),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hi(Ae),te(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function qS(e,i){switch(gf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Hi(Ae),ie(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return oa(i),null;case 31:if(i.memoizedState!==null){if(yn(i),i.alternate===null)throw Error(s(340));Ms()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(yn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ms()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Y(me),null;case 4:return ie(),null;case 10:return Hi(i.type),null;case 22:case 23:return yn(i),Nf(),e!==null&&Y(Ps),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Hi(Ae),null;case 25:return null;default:return null}}function Y_(e,i){switch(gf(i),i.tag){case 3:Hi(Ae),ie();break;case 26:case 27:case 5:oa(i);break;case 4:ie();break;case 31:i.memoizedState!==null&&yn(i);break;case 13:yn(i);break;case 19:Y(me);break;case 10:Hi(i.type);break;case 22:case 23:yn(i),Nf(),e!==null&&Y(Ps);break;case 24:Hi(Ae)}}function cl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==h)}}catch(E){Gt(i,i.return,E)}}function Or(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=i;var R=a,x=E;try{x()}catch(j){Gt(h,R,j)}}}l=l.next}while(l!==f)}}catch(j){Gt(i,i.return,j)}}function X_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{zg(i,a)}catch(l){Gt(e,e.return,l)}}}function $_(e,i,a){a.props=Bs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Gt(e,i,l)}}function hl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Gt(e,i,h)}}function Ai(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Gt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Gt(e,i,h)}else a.current=null}function J_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Gt(e,e.return,h)}}function ud(e,i,a){try{var l=e.stateNode;ub(l,e.type,a,i),l[Pe]=i}catch(h){Gt(e,e.return,h)}}function Z_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Lr(e.type)||e.tag===4}function cd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Z_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Lr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=jn));else if(l!==4&&(l===27&&Lr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(hd(e,i,a),e=e.sibling;e!==null;)hd(e,i,a),e=e.sibling}function pc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Lr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(pc(e,i,a),e=e.sibling;e!==null;)pc(e,i,a),e=e.sibling}function W_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Fe(i,l,a),i[ve]=e,i[Pe]=a}catch(f){Gt(e,e.return,f)}}var Qi=!1,we=!1,fd=!1,ty=typeof WeakSet=="function"?WeakSet:Set,Le=null;function HS(e,i){if(e=e.containerInfo,Vd=kc,e=fg(e),sf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,R=-1,x=0,j=0,Q=e,z=null;e:for(;;){for(var q;Q!==a||h!==0&&Q.nodeType!==3||(E=g+h),Q!==f||l!==0&&Q.nodeType!==3||(R=g+l),Q.nodeType===3&&(g+=Q.nodeValue.length),(q=Q.firstChild)!==null;)z=Q,Q=q;for(;;){if(Q===e)break e;if(z===a&&++x===h&&(E=g),z===f&&++j===l&&(R=g),(q=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ud={focusedElem:e,selectionRange:a},kc=!1,Le=i;Le!==null;)if(i=Le,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Le=e;else for(;Le!==null;){switch(i=Le,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var st=Bs(a.type,h);e=l.getSnapshotBeforeUpdate(st,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Gt(a,a.return,ft)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Ld(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ld(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Le=e;break}Le=i.return}}function ey(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Xi(e,a),l&4&&cl(5,a);break;case 1:if(Xi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(g){Gt(a,a.return,g)}else{var h=Bs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Gt(a,a.return,g)}}l&64&&X_(a),l&512&&hl(a,a.return);break;case 3:if(Xi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{zg(e,i)}catch(g){Gt(a,a.return,g)}}break;case 27:i===null&&l&4&&W_(a);case 26:case 5:Xi(e,a),i===null&&l&4&&J_(a),l&512&&hl(a,a.return);break;case 12:Xi(e,a);break;case 31:Xi(e,a),l&4&&ry(e,a);break;case 13:Xi(e,a),l&4&&sy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=JS.bind(null,a),_b(e,a))));break;case 22:if(l=a.memoizedState!==null||Qi,!l){i=i!==null&&i.memoizedState!==null||we,h=Qi;var f=we;Qi=l,(we=i)&&!f?$i(e,a,(a.subtreeFlags&8772)!==0):Xi(e,a),Qi=h,we=f}break;case 30:break;default:Xi(e,a)}}function ny(e){var i=e.alternate;i!==null&&(e.alternate=null,ny(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&fa(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var se=null,an=!1;function Yi(e,i,a){for(a=a.child;a!==null;)iy(e,i,a),a=a.sibling}function iy(e,i,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:we||Ai(a,i),Yi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||Ai(a,i);var l=se,h=an;Lr(a.type)&&(se=a.stateNode,an=!1),Yi(e,i,a),El(a.stateNode),se=l,an=h;break;case 5:we||Ai(a,i);case 6:if(l=se,h=an,se=null,Yi(e,i,a),se=l,an=h,se!==null)if(an)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(f){Gt(a,i,f)}else try{se.removeChild(a.stateNode)}catch(f){Gt(a,i,f)}break;case 18:se!==null&&(an?(e=se,Xy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),$a(e)):Xy(se,a.stateNode));break;case 4:l=se,h=an,se=a.stateNode.containerInfo,an=!0,Yi(e,i,a),se=l,an=h;break;case 0:case 11:case 14:case 15:Or(2,a,i),we||Or(4,a,i),Yi(e,i,a);break;case 1:we||(Ai(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&$_(a,i,l)),Yi(e,i,a);break;case 21:Yi(e,i,a);break;case 22:we=(l=we)||a.memoizedState!==null,Yi(e,i,a),we=l;break;default:Yi(e,i,a)}}function ry(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{$a(e)}catch(a){Gt(i,i.return,a)}}}function sy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$a(e)}catch(a){Gt(i,i.return,a)}}function jS(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new ty),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new ty),i;default:throw Error(s(435,e.tag))}}function gc(e,i){var a=jS(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=ZS.bind(null,e,l);l.then(h,h)}})}function on(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=e,g=i,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Lr(E.type)){se=E.stateNode,an=!1;break t}break;case 5:se=E.stateNode,an=!1;break t;case 3:case 4:se=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(se===null)throw Error(s(160));iy(f,g,h),se=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)ay(i,e),i=i.sibling}var Xn=null;function ay(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(i,e),ln(e),l&4&&(Or(3,e,e.return),cl(3,e),Or(5,e,e.return));break;case 1:on(i,e),ln(e),l&512&&(we||a===null||Ai(a,a.return)),l&64&&Qi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(on(i,e),ln(e),l&512&&(we||a===null||Ai(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,l,a),f[ve]=e,Ee(f),l=f;break t;case"link":var g=av("link","href",h).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(l),Fe(f,l,a),h.head.appendChild(f);break;case"meta":if(g=av("meta","content",h).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=h.createElement(l),Fe(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[ve]=e,Ee(f),l=f}e.stateNode=l}else ov(h,e.type,e.stateNode);else e.stateNode=sv(h,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?ov(h,e.type,e.stateNode):sv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ud(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(i,e),ln(e),l&512&&(we||a===null||Ai(a,a.return)),a!==null&&l&4&&ud(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(i,e),ln(e),l&512&&(we||a===null||Ai(a,a.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(st){Gt(e,e.return,st)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,ud(e,h,a!==null?a.memoizedProps:h)),l&1024&&(fd=!0);break;case 6:if(on(i,e),ln(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(st){Gt(e,e.return,st)}}break;case 3:if(Mc=null,h=Xn,Xn=Oc(i.containerInfo),on(i,e),Xn=h,ln(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{$a(i.containerInfo)}catch(st){Gt(e,e.return,st)}fd&&(fd=!1,oy(e));break;case 4:l=Xn,Xn=Oc(e.stateNode.containerInfo),on(i,e),ln(e),Xn=l;break;case 12:on(i,e),ln(e);break;case 31:on(i,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,gc(e,l)));break;case 13:on(i,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yc=We()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,gc(e,l)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,x=Qi,j=we;if(Qi=x||h,we=j||R,on(i,e),we=j,Qi=x,ln(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||Qi||we||qs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Q=R.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(st){Gt(R,R.return,st)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(st){Gt(R,R.return,st)}}}else if(i.tag===18){if(a===null){R=i;try{var q=R.stateNode;h?$y(q,!0):$y(R.stateNode,!1)}catch(st){Gt(R,R.return,st)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,gc(e,a))));break;case 19:on(i,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,gc(e,l)));break;case 30:break;case 21:break;default:on(i,e),ln(e)}}function ln(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Z_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=cd(e);pc(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(sn(g,""),a.flags&=-33);var E=cd(e);pc(e,E,g);break;case 3:case 4:var R=a.stateNode.containerInfo,x=cd(e);hd(e,x,R);break;default:throw Error(s(161))}}catch(j){Gt(e,e.return,j)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function oy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;oy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Xi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ey(e,i.alternate,i),i=i.sibling}function qs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Or(4,i,i.return),qs(i);break;case 1:Ai(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&$_(i,i.return,a),qs(i);break;case 27:El(i.stateNode);case 26:case 5:Ai(i,i.return),qs(i);break;case 22:i.memoizedState===null&&qs(i);break;case 30:qs(i);break;default:qs(i)}e=e.sibling}}function $i(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,f=i,g=f.flags;switch(f.tag){case 0:case 11:case 15:$i(h,f,a),cl(4,f);break;case 1:if($i(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(x){Gt(l,l.return,x)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)xg(R[h],E)}catch(x){Gt(l,l.return,x)}}a&&g&64&&X_(f),hl(f,f.return);break;case 27:W_(f);case 26:case 5:$i(h,f,a),a&&l===null&&g&4&&J_(f),hl(f,f.return);break;case 12:$i(h,f,a);break;case 31:$i(h,f,a),a&&g&4&&ry(h,f);break;case 13:$i(h,f,a),a&&g&4&&sy(h,f);break;case 22:f.memoizedState===null&&$i(h,f,a),hl(f,f.return);break;case 30:break;default:$i(h,f,a)}i=i.sibling}}function dd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Jo(a))}function md(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Jo(e))}function $n(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ly(e,i,a,l),i=i.sibling}function ly(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:$n(e,i,a,l),h&2048&&cl(9,i);break;case 1:$n(e,i,a,l);break;case 3:$n(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Jo(e)));break;case 12:if(h&2048){$n(e,i,a,l),e=i.stateNode;try{var f=i.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Gt(i,i.return,R)}}else $n(e,i,a,l);break;case 31:$n(e,i,a,l);break;case 13:$n(e,i,a,l);break;case 23:break;case 22:f=i.stateNode,g=i.alternate,i.memoizedState!==null?f._visibility&2?$n(e,i,a,l):fl(e,i):f._visibility&2?$n(e,i,a,l):(f._visibility|=2,za(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&dd(g,i);break;case 24:$n(e,i,a,l),h&2048&&md(i.alternate,i);break;default:$n(e,i,a,l)}}function za(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,g=i,E=a,R=l,x=g.flags;switch(g.tag){case 0:case 11:case 15:za(f,g,E,R,h),cl(8,g);break;case 23:break;case 22:var j=g.stateNode;g.memoizedState!==null?j._visibility&2?za(f,g,E,R,h):fl(f,g):(j._visibility|=2,za(f,g,E,R,h)),h&&x&2048&&dd(g.alternate,g);break;case 24:za(f,g,E,R,h),h&&x&2048&&md(g.alternate,g);break;default:za(f,g,E,R,h)}i=i.sibling}}function fl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:fl(a,l),h&2048&&dd(l.alternate,l);break;case 24:fl(a,l),h&2048&&md(l.alternate,l);break;default:fl(a,l)}i=i.sibling}}var dl=8192;function Ba(e,i,a){if(e.subtreeFlags&dl)for(e=e.child;e!==null;)uy(e,i,a),e=e.sibling}function uy(e,i,a){switch(e.tag){case 26:Ba(e,i,a),e.flags&dl&&e.memoizedState!==null&&Db(a,Xn,e.memoizedState,e.memoizedProps);break;case 5:Ba(e,i,a);break;case 3:case 4:var l=Xn;Xn=Oc(e.stateNode.containerInfo),Ba(e,i,a),Xn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=dl,dl=16777216,Ba(e,i,a),dl=l):Ba(e,i,a));break;default:Ba(e,i,a)}}function cy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ml(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Le=l,fy(l,e)}cy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hy(e),e=e.sibling}function hy(e){switch(e.tag){case 0:case 11:case 15:ml(e),e.flags&2048&&Or(9,e,e.return);break;case 3:ml(e);break;case 12:ml(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,_c(e)):ml(e);break;default:ml(e)}}function _c(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Le=l,fy(l,e)}cy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Or(8,i,i.return),_c(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,_c(i));break;default:_c(i)}e=e.sibling}}function fy(e,i){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:Or(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Le=l;else t:for(a=e;Le!==null;){l=Le;var h=l.sibling,f=l.return;if(ny(l),l===a){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var FS={getCacheForType:function(e){var i=He(Ae),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return He(Ae).controller.signal}},GS=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Jt=null,wt=null,Ct=0,Ft=0,vn=null,Nr=!1,qa=!1,pd=!1,Ji=0,ue=0,Mr=0,Hs=0,gd=0,En=0,Ha=0,pl=null,un=null,_d=!1,yc=0,dy=0,vc=1/0,Ec=null,Vr=null,Ve=0,Ur=null,ja=null,Zi=0,yd=0,vd=null,my=null,gl=0,Ed=null;function Tn(){return(Bt&2)!==0&&Ct!==0?Ct&-Ct:F.T!==null?Rd():Tu()}function py(){if(En===0)if((Ct&536870912)===0||Vt){var e=ps;ps<<=1,(ps&3932160)===0&&(ps=262144),En=e}else En=536870912;return e=_n.current,e!==null&&(e.flags|=32),En}function cn(e,i,a){(e===Jt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Fa(e,0),Pr(e,Ct,En,!1)),gs(e,a),((Bt&2)===0||e!==Jt)&&(e===Jt&&((Bt&2)===0&&(Hs|=a),ue===4&&Pr(e,Ct,En,!1)),Si(e))}function gy(e,i,a){if((Bt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Bn(e,i),h=l?YS(e,i):Ad(e,i,!0),f=l;do{if(h===0){qa&&!l&&Pr(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!KS(a)){h=Ad(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){i=g;t:{var E=e;h=pl;var R=E.current.memoizedState.isDehydrated;if(R&&(Fa(E,g).flags|=256),g=Ad(E,g,!1),g!==2){if(pd&&!R){E.errorRecoveryDisabledLanes|=f,Hs|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Fa(e,0),Pr(e,i,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Pr(l,i,En,!Nr);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=yc+300-We(),10<h)){if(Pr(l,i,En,!Nr),si(l,0,!0)!==0)break t;Zi=i,l.timeoutHandle=Qy(_y.bind(null,l,a,un,Ec,_d,i,En,Hs,Ha,Nr,f,"Throttled",-0,0),h);break t}_y(l,a,un,Ec,_d,i,En,Hs,Ha,Nr,f,null,-0,0)}}break}while(!0);Si(e)}function _y(e,i,a,l,h,f,g,E,R,x,j,Q,z,q){if(e.timeoutHandle=-1,Q=i.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},uy(i,f,Q);var st=(f&62914560)===f?yc-We():(f&4194048)===f?dy-We():0;if(st=Ob(Q,st),st!==null){Zi=f,e.cancelPendingCommit=st(wy.bind(null,e,i,f,a,l,h,g,E,R,j,Q,null,z,q)),Pr(e,f,g,!x);return}}wy(e,i,f,a,l,h,g,E,R)}function KS(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Pr(e,i,a,l){i&=~gd,i&=~Hs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var f=31-fe(h),g=1<<f;l[f]=-1,h&=~g}a!==0&&_s(e,a,i)}function Tc(){return(Bt&6)===0?(_l(0),!1):!0}function Td(){if(wt!==null){if(Ft===0)var e=wt.return;else e=wt,qi=Vs=null,Lf(e),Ua=null,Wo=0,e=wt;for(;e!==null;)Y_(e.alternate,e),e=e.return;wt=null}}function Fa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,fb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Zi=0,Td(),Jt=e,wt=a=zi(e.current,null),Ct=i,Ft=0,vn=null,Nr=!1,qa=Bn(e,i),pd=!1,Ha=En=gd=Hs=Mr=ue=0,un=pl=null,_d=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-fe(l),f=1<<h;i|=e[h],l&=~f}return Ji=i,Hu(),a}function yy(e,i){Tt=null,F.H=ol,i===Va||i===$u?(i=Ug(),Ft=3):i===wf?(i=Ug(),Ft=4):Ft=i===Wf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,wt===null&&(ue=1,cc(e,Nn(i,e.current)))}function vy(){var e=_n.current;return e===null?!0:(Ct&4194048)===Ct?Pn===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?e===Pn:!1}function Ey(){var e=F.H;return F.H=ol,e===null?ol:e}function Ty(){var e=F.A;return F.A=FS,e}function Ac(){ue=4,Nr||(Ct&4194048)!==Ct&&_n.current!==null||(qa=!0),(Mr&134217727)===0&&(Hs&134217727)===0||Jt===null||Pr(Jt,Ct,En,!1)}function Ad(e,i,a){var l=Bt;Bt|=2;var h=Ey(),f=Ty();(Jt!==e||Ct!==i)&&(Ec=null,Fa(e,i)),i=!1;var g=ue;t:do try{if(Ft!==0&&wt!==null){var E=wt,R=vn;switch(Ft){case 8:Td(),g=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(i=!0);var x=Ft;if(Ft=0,vn=null,Ga(e,E,R,x),a&&qa){g=0;break t}break;default:x=Ft,Ft=0,vn=null,Ga(e,E,R,x)}}QS(),g=ue;break}catch(j){yy(e,j)}while(!0);return i&&e.shellSuspendCounter++,qi=Vs=null,Bt=l,F.H=h,F.A=f,wt===null&&(Jt=null,Ct=0,Hu()),g}function QS(){for(;wt!==null;)Ay(wt)}function YS(e,i){var a=Bt;Bt|=2;var l=Ey(),h=Ty();Jt!==e||Ct!==i?(Ec=null,vc=We()+500,Fa(e,i)):qa=Bn(e,i);t:do try{if(Ft!==0&&wt!==null){i=wt;var f=vn;e:switch(Ft){case 1:Ft=0,vn=null,Ga(e,i,f,1);break;case 2:case 9:if(Mg(f)){Ft=0,vn=null,Sy(i);break}i=function(){Ft!==2&&Ft!==9||Jt!==e||(Ft=7),Si(e)},f.then(i,i);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Mg(f)?(Ft=0,vn=null,Sy(i)):(Ft=0,vn=null,Ga(e,i,f,7));break;case 5:var g=null;switch(wt.tag){case 26:g=wt.memoizedState;case 5:case 27:var E=wt;if(g?lv(g):E.stateNode.complete){Ft=0,vn=null;var R=E.sibling;if(R!==null)wt=R;else{var x=E.return;x!==null?(wt=x,Sc(x)):wt=null}break e}}Ft=0,vn=null,Ga(e,i,f,5);break;case 6:Ft=0,vn=null,Ga(e,i,f,6);break;case 8:Td(),ue=6;break t;default:throw Error(s(462))}}XS();break}catch(j){yy(e,j)}while(!0);return qi=Vs=null,F.H=l,F.A=h,Bt=a,wt!==null?0:(Jt=null,Ct=0,Hu(),ue)}function XS(){for(;wt!==null&&!Jh();)Ay(wt)}function Ay(e){var i=K_(e.alternate,e,Ji);e.memoizedProps=e.pendingProps,i===null?Sc(e):wt=i}function Sy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=B_(a,i,i.pendingProps,i.type,void 0,Ct);break;case 11:i=B_(a,i,i.pendingProps,i.type.render,i.ref,Ct);break;case 5:Lf(i);default:Y_(a,i),i=wt=Tg(i,Ji),i=K_(a,i,Ji)}e.memoizedProps=e.pendingProps,i===null?Sc(e):wt=i}function Ga(e,i,a,l){qi=Vs=null,Lf(i),Ua=null,Wo=0;var h=i.return;try{if(LS(e,h,i,a,Ct)){ue=1,cc(e,Nn(a,e.current)),wt=null;return}}catch(f){if(h!==null)throw wt=h,f;ue=1,cc(e,Nn(a,e.current)),wt=null;return}i.flags&32768?(Vt||l===1?e=!0:qa||(Ct&536870912)!==0?e=!1:(Nr=e=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),by(i,e)):Sc(i)}function Sc(e){var i=e;do{if((i.flags&32768)!==0){by(i,Nr);return}e=i.return;var a=BS(i.alternate,i,Ji);if(a!==null){wt=a;return}if(i=i.sibling,i!==null){wt=i;return}wt=i=e}while(i!==null);ue===0&&(ue=5)}function by(e,i){do{var a=qS(e.alternate,e);if(a!==null){a.flags&=32767,wt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){wt=e;return}wt=e=a}while(e!==null);ue=6,wt=null}function wy(e,i,a,l,h,f,g,E,R){e.cancelPendingCommit=null;do bc();while(Ve!==0);if((Bt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=cf,tf(e,a,f,g,E,R),e===Jt&&(wt=Jt=null,Ct=0),ja=i,Ur=e,Zi=a,yd=f,vd=h,my=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,WS(hr,function(){return Oy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=tt.p,tt.p=2,g=Bt,Bt|=4;try{HS(e,i,a)}finally{Bt=g,tt.p=h,F.T=l}}Ve=1,Ry(),Iy(),Cy()}}function Ry(){if(Ve===1){Ve=0;var e=Ur,i=ja,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=tt.p;tt.p=2;var h=Bt;Bt|=4;try{ay(i,e);var f=Ud,g=fg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&hg(E.ownerDocument.documentElement,E)){if(R!==null&&sf(E)){var x=R.start,j=R.end;if(j===void 0&&(j=x),"selectionStart"in E)E.selectionStart=x,E.selectionEnd=Math.min(j,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var q=z.getSelection(),st=E.textContent.length,ft=Math.min(R.start,st),Xt=R.end===void 0?ft:Math.min(R.end,st);!q.extend&&ft>Xt&&(g=Xt,Xt=ft,ft=g);var U=cg(E,ft),O=cg(E,Xt);if(U&&O&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var L=Q.createRange();L.setStart(U.node,U.offset),q.removeAllRanges(),ft>Xt?(q.addRange(L),q.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),q.addRange(L))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var G=Q[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}kc=!!Vd,Ud=Vd=null}finally{Bt=h,tt.p=l,F.T=a}}e.current=i,Ve=2}}function Iy(){if(Ve===2){Ve=0;var e=Ur,i=ja,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=tt.p;tt.p=2;var h=Bt;Bt|=4;try{ey(e,i.alternate,i)}finally{Bt=h,tt.p=l,F.T=a}}Ve=3}}function Cy(){if(Ve===4||Ve===3){Ve=0,mu();var e=Ur,i=ja,a=Zi,l=my;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ve=5:(Ve=0,ja=Ur=null,Dy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Vr=null),Pi(a),i=i.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(zn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,h=tt.p,tt.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{F.T=i,tt.p=h}}(Zi&3)!==0&&bc(),Si(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===Ed?gl++:(gl=0,Ed=e):gl=0,_l(0)}}function Dy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Jo(i)))}function bc(){return Ry(),Iy(),Cy(),Oy()}function Oy(){if(Ve!==5)return!1;var e=Ur,i=yd;yd=0;var a=Pi(Zi),l=F.T,h=tt.p;try{tt.p=32>a?32:a,F.T=null,a=vd,vd=null;var f=Ur,g=Zi;if(Ve=0,ja=Ur=null,Zi=0,(Bt&6)!==0)throw Error(s(331));var E=Bt;if(Bt|=4,hy(f.current),ly(f,f.current,g,a),Bt=E,_l(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{tt.p=h,F.T=l,Dy(e,i)}}function Ny(e,i,a){i=Nn(a,i),i=Zf(e.stateNode,i,2),e=Ir(e,i,2),e!==null&&(gs(e,2),Si(e))}function Gt(e,i,a){if(e.tag===3)Ny(e,e,a);else for(;i!==null;){if(i.tag===3){Ny(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vr===null||!Vr.has(l))){e=Nn(a,e),a=M_(2),l=Ir(i,a,2),l!==null&&(V_(a,l,i,e),gs(l,2),Si(l));break}}i=i.return}}function Sd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new GS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(pd=!0,h.add(a),e=$S.bind(null,e,i,a),i.then(e,e))}function $S(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Jt===e&&(Ct&a)===a&&(ue===4||ue===3&&(Ct&62914560)===Ct&&300>We()-yc?(Bt&2)===0&&Fa(e,0):gd|=a,Ha===Ct&&(Ha=0)),Si(e)}function My(e,i){i===0&&(i=Eu()),e=Os(e,i),e!==null&&(gs(e,i),Si(e))}function JS(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),My(e,a)}function ZS(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),My(e,a)}function WS(e,i){return Me(e,i)}var wc=null,Ka=null,bd=!1,Rc=!1,wd=!1,kr=0;function Si(e){e!==Ka&&e.next===null&&(Ka===null?wc=Ka=e:Ka=Ka.next=e),Rc=!0,bd||(bd=!0,eb())}function _l(e,i){if(!wd&&Rc){wd=!0;do for(var a=!1,l=wc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,ky(l,f))}else f=Ct,f=si(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Bn(l,f)||(a=!0,ky(l,f));l=l.next}while(a);wd=!1}}function tb(){Vy()}function Vy(){Rc=bd=!1;var e=0;kr!==0&&hb()&&(e=kr);for(var i=We(),a=null,l=wc;l!==null;){var h=l.next,f=Uy(l,i);f===0?(l.next=null,a===null?wc=h:a.next=h,h===null&&(Ka=a)):(a=l,(e!==0||(f&3)!==0)&&(Rc=!0)),l=h}Ve!==0&&Ve!==5||_l(e),kr!==0&&(kr=0)}function Uy(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-fe(f),E=1<<g,R=h[g];R===-1?((E&a)===0||(E&l)!==0)&&(h[g]=Wh(E,i)):R<=i&&(e.expiredLanes|=E),f&=~E}if(i=Jt,a=Ct,a=si(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&cr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Bn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&cr(l),Pi(a)){case 2:case 8:a=Io;break;case 32:a=hr;break;case 268435456:a=pu;break;default:a=hr}return l=Py.bind(null,e),a=Me(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&cr(l),e.callbackPriority=2,e.callbackNode=null,2}function Py(e,i){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(bc()&&e.callbackNode!==a)return null;var l=Ct;return l=si(e,e===Jt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(gy(e,l,i),Uy(e,We()),e.callbackNode!=null&&e.callbackNode===a?Py.bind(null,e):null)}function ky(e,i){if(bc())return null;gy(e,i,!0)}function eb(){db(function(){(Bt&6)!==0?Me(Ro,tb):Vy()})}function Rd(){if(kr===0){var e=Na;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),kr=e}return kr}function Ly(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ga(""+e)}function xy(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function nb(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var f=Ly((h[Pe]||null).action),g=l.submitter;g&&(i=(i=g[Pe]||null)?Ly(i.formAction):g.getAttribute("formAction"),i!==null&&(f=i,g=null));var E=new gi("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(kr!==0){var R=g?xy(h,g):new FormData(h);Kf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?xy(h,g):new FormData(h),Kf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Id=0;Id<uf.length;Id++){var Cd=uf[Id],ib=Cd.toLowerCase(),rb=Cd[0].toUpperCase()+Cd.slice(1);Yn(ib,"on"+rb)}Yn(pg,"onAnimationEnd"),Yn(gg,"onAnimationIteration"),Yn(_g,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(ES,"onTransitionRun"),Yn(TS,"onTransitionStart"),Yn(AS,"onTransitionCancel"),Yn(yg,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function zy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var f=void 0;if(i)for(var g=l.length-1;0<=g;g--){var E=l[g],R=E.instance,x=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=x;try{f(h)}catch(j){qu(j)}h.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(E=l[g],R=E.instance,x=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=x;try{f(h)}catch(j){qu(j)}h.currentTarget=null,f=R}}}}function Rt(e,i){var a=i[ha];a===void 0&&(a=i[ha]=new Set);var l=e+"__bubble";a.has(l)||(By(i,e,2,!1),a.add(l))}function Dd(e,i,a){var l=0;i&&(l|=4),By(a,e,l,i)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function Od(e){if(!e[Ic]){e[Ic]=!0,Oo.forEach(function(a){a!=="selectionchange"&&(sb.has(a)||Dd(a,!1,e),Dd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ic]||(i[Ic]=!0,Dd("selectionchange",!1,i))}}function By(e,i,a,l){switch(pv(i)){case 2:var h=Vb;break;case 8:h=Ub;break;default:h=Gd}a=h.bind(null,i,a,e),h=void 0,!As||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Nd(e,i,a,l,h){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ui(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue t}E=E.parentNode}}l=l.return}_r(function(){var x=f,j=In(a),Q=[];t:{var z=vg.get(e);if(z!==void 0){var q=gi,st=e;switch(e){case"keypress":if(bs(a)===0)break t;case"keydown":case"keyup":q=xu;break;case"focusin":st="focus",q=Rs;break;case"focusout":st="blur",q=Rs;break;case"beforeblur":case"afterblur":q=Rs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case pg:case gg:case _g:q=Nu;break;case yg:q=A;break;case"scroll":case"scrollend":q=Ho;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=xi;break;case"toggle":case"beforetoggle":q=Et}var ft=(i&4)!==0,Xt=!ft&&(e==="scroll"||e==="scrollend"),U=ft?z!==null?z+"Capture":null:z;ft=[];for(var O=x,L;O!==null;){var G=O;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||U===null||(G=Fn(O,U),G!=null&&ft.push(vl(O,G,L))),Xt)break;O=O.return}0<ft.length&&(z=new q(z,st,null,a,j),Q.push({event:z,listeners:ft}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&a!==zo&&(st=a.relatedTarget||a.fromElement)&&(ui(st)||st[oi]))break t;if((q||z)&&(z=j.window===j?j:(z=j.ownerDocument)?z.defaultView||z.parentWindow:window,q?(st=a.relatedTarget||a.toElement,q=x,st=st?ui(st):null,st!==null&&(Xt=u(st),ft=st.tag,st!==Xt||ft!==5&&ft!==27&&ft!==6)&&(st=null)):(q=null,st=x),q!==st)){if(ft=jo,G="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ft=xi,G="onPointerLeave",U="onPointerEnter",O="pointer"),Xt=q==null?z:dn(q),L=st==null?z:dn(st),z=new ft(G,O+"leave",q,a,j),z.target=Xt,z.relatedTarget=L,G=null,ui(j)===x&&(ft=new ft(U,O+"enter",st,a,j),ft.target=L,ft.relatedTarget=Xt,G=ft),Xt=G,q&&st)e:{for(ft=ab,U=q,O=st,L=0,G=U;G;G=ft(G))L++;G=0;for(var lt=O;lt;lt=ft(lt))G++;for(;0<L-G;)U=ft(U),L--;for(;0<G-L;)O=ft(O),G--;for(;L--;){if(U===O||O!==null&&U===O.alternate){ft=U;break e}U=ft(U),O=ft(O)}ft=null}else ft=null;q!==null&&qy(Q,z,q,ft,!1),st!==null&&Xt!==null&&qy(Q,Xt,st,ft,!0)}}t:{if(z=x?dn(x):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Lt=rg;else if(ng(z))if(sg)Lt=_S;else{Lt=pS;var at=mS}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?x&&pa(x.elementType)&&(Lt=rg):Lt=gS;if(Lt&&(Lt=Lt(e,x))){ig(Q,Lt,a,j);break t}at&&at(e,z,x),e==="focusout"&&x&&z.type==="number"&&x.memoizedProps.value!=null&&ko(z,"number",z.value)}switch(at=x?dn(x):window,e){case"focusin":(ng(at)||at.contentEditable==="true")&&(Sa=at,af=x,Yo=null);break;case"focusout":Yo=af=Sa=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,dg(Q,a,j);break;case"selectionchange":if(vS)break;case"keydown":case"keyup":dg(Q,a,j)}var bt;if(zt)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else Aa?Is(e,a)&&(Dt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Dt="onCompositionStart");Dt&&(vi&&a.locale!=="ko"&&(Aa||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Aa&&(bt=qo()):(pi=j,Bo="value"in pi?pi.value:pi.textContent,Aa=!0)),at=Cc(x,Dt),0<at.length&&(Dt=new yi(Dt,e,null,a,j),Q.push({event:Dt,listeners:at}),bt?Dt.data=bt:(bt=Ta(a),bt!==null&&(Dt.data=bt)))),(bt=Dn?cS(e,a):hS(e,a))&&(Dt=Cc(x,"onBeforeInput"),0<Dt.length&&(at=new yi("onBeforeInput","beforeinput",null,a,j),Q.push({event:at,listeners:Dt}),at.data=bt)),nb(Q,e,x,a,j)}zy(Q,i)})}function vl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Cc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Fn(e,a),h!=null&&l.unshift(vl(e,h,f)),h=Fn(e,i),h!=null&&l.push(vl(e,h,f))),e.tag===3)return l;e=e.return}return[]}function ab(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function qy(e,i,a,l,h){for(var f=i._reactName,g=[];a!==null&&a!==l;){var E=a,R=E.alternate,x=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||x===null||(R=x,h?(x=Fn(a,f),x!=null&&g.unshift(vl(a,x,R))):h||(x=Fn(a,f),x!=null&&g.push(vl(a,x,R)))),a=a.return}g.length!==0&&e.push({event:i,listeners:g})}var ob=/\r\n?/g,lb=/\u0000|\uFFFD/g;function Hy(e){return(typeof e=="string"?e:""+e).replace(ob,`
`).replace(lb,"")}function jy(e,i){return i=Hy(i),Hy(e)===i}function Yt(e,i,a,l,h,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||sn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&sn(e,""+l);break;case"className":mn(e,"class",l);break;case"tabIndex":mn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,a,l);break;case"style":xo(e,l,f);break;case"data":if(i!=="object"){mn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ga(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ga(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=jn);break;case"onScroll":l!=null&&Rt("scroll",e);break;case"onScrollEnd":l!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ga(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),da(e,"popover",l);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":da(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Cu.get(a)||a,da(e,a,l))}}function Md(e,i,a,l,h,f){switch(a){case"style":xo(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?sn(e,l):(typeof l=="number"||typeof l=="bigint")&&sn(e,""+l);break;case"onScroll":l!=null&&Rt("scroll",e);break;case"onScrollEnd":l!=null&&Rt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[Pe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):da(e,a,l)}}}function Fe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,f,g,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),l&&Yt(e,i,"src",a.src,a,null);return;case"input":Rt("invalid",e);var E=f=g=h=null,R=null,x=null;for(l in a)if(a.hasOwnProperty(l)){var j=a[l];if(j!=null)switch(l){case"name":h=j;break;case"type":g=j;break;case"checked":R=j;break;case"defaultChecked":x=j;break;case"value":f=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Yt(e,i,l,j,a,null)}}wu(e,f,E,R,x,g,h,!1);return;case"select":Rt("invalid",e),l=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Yt(e,i,h,E,a,null)}i=f,a=g,e.multiple=!!l,i!=null?dr(e,!!l,i,!1):a!=null&&dr(e,!!l,a,!0);return;case"textarea":Rt("invalid",e),f=h=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(e,i,g,E,a,null)}mr(e,l,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(l=a[R],l!=null)&&(R==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Yt(e,i,R,l,a,null));return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(l=0;l<yl.length;l++)Rt(yl[l],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,x,l,a,null)}return;default:if(pa(i)){for(j in a)a.hasOwnProperty(j)&&(l=a[j],l!==void 0&&Md(e,i,j,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Yt(e,i,E,l,a,null))}function ub(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,x=null,j=null;for(q in a){var Q=a[q];if(a.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Q;default:l.hasOwnProperty(q)||Yt(e,i,q,null,l,Q)}}for(var z in l){var q=l[z];if(Q=a[z],l.hasOwnProperty(z)&&(q!=null||Q!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":x=q;break;case"defaultChecked":j=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==Q&&Yt(e,i,z,q,l,Q)}}ma(e,g,E,R,x,j,f,h);return;case"select":q=g=E=z=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||Yt(e,i,f,null,l,R)}for(h in l)if(f=l[h],R=a[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Yt(e,i,h,f,l,R)}i=E,a=g,l=q,z!=null?dr(e,!!a,z,!1):!!l!=!!a&&(i!=null?dr(e,!!a,i,!0):dr(e,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,i,E,null,l,h)}for(g in l)if(h=l[g],f=a[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Yt(e,i,g,h,l,f)}Ru(e,z,q);return;case"option":for(var st in a)z=a[st],a.hasOwnProperty(st)&&z!=null&&!l.hasOwnProperty(st)&&(st==="selected"?e.selected=!1:Yt(e,i,st,null,l,z));for(R in l)z=l[R],q=a[R],l.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Yt(e,i,R,z,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)z=a[ft],a.hasOwnProperty(ft)&&z!=null&&!l.hasOwnProperty(ft)&&Yt(e,i,ft,null,l,z);for(x in l)if(z=l[x],q=a[x],l.hasOwnProperty(x)&&z!==q&&(z!=null||q!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Yt(e,i,x,z,l,q)}return;default:if(pa(i)){for(var Xt in a)z=a[Xt],a.hasOwnProperty(Xt)&&z!==void 0&&!l.hasOwnProperty(Xt)&&Md(e,i,Xt,void 0,l,z);for(j in l)z=l[j],q=a[j],!l.hasOwnProperty(j)||z===q||z===void 0&&q===void 0||Md(e,i,j,z,l,q);return}}for(var U in a)z=a[U],a.hasOwnProperty(U)&&z!=null&&!l.hasOwnProperty(U)&&Yt(e,i,U,null,l,z);for(Q in l)z=l[Q],q=a[Q],!l.hasOwnProperty(Q)||z===q||z==null&&q==null||Yt(e,i,Q,z,l,q)}function Fy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Fy(g)){for(g=0,E=h.responseEnd,l+=1;l<a.length;l++){var R=a[l],x=R.startTime;if(x>E)break;var j=R.transferSize,Q=R.initiatorType;j&&Fy(Q)&&(R=R.responseEnd,g+=j*(R<E?1:(E-x)/(R-x)))}if(--l,i+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Vd=null,Ud=null;function Dc(e){return e.nodeType===9?e:e.ownerDocument}function Gy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ky(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Pd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var kd=null;function hb(){var e=window.event;return e&&e.type==="popstate"?e===kd?!1:(kd=e,!0):(kd=null,!1)}var Qy=typeof setTimeout=="function"?setTimeout:void 0,fb=typeof clearTimeout=="function"?clearTimeout:void 0,Yy=typeof Promise=="function"?Promise:void 0,db=typeof queueMicrotask=="function"?queueMicrotask:typeof Yy<"u"?function(e){return Yy.resolve(null).then(e).catch(mb)}:Qy;function mb(e){setTimeout(function(){throw e})}function Lr(e){return e==="head"}function Xy(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),$a(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")El(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,El(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[li]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&El(e.ownerDocument.body);a=h}while(a);$a(i)}function $y(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Ld(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ld(a),fa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function pb(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[li])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function gb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=kn(e.nextSibling),e===null))return null;return e}function Jy(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=kn(e.nextSibling),e===null))return null;return e}function xd(e){return e.data==="$?"||e.data==="$~"}function zd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function _b(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function kn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Bd=null;function Zy(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return kn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function Wy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function tv(e,i,a){switch(i=Dc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function El(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);fa(e)}var Ln=new Map,ev=new Set;function Oc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wi=tt.d;tt.d={f:yb,r:vb,D:Eb,C:Tb,L:Ab,m:Sb,X:wb,S:bb,M:Rb};function yb(){var e=Wi.f(),i=Tc();return e||i}function vb(e){var i=Rn(e);i!==null&&i.tag===5&&i.type==="form"?y_(i):Wi.r(e)}var Qa=typeof document>"u"?null:document;function nv(e,i,a){var l=Qa;if(l&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ev.has(h)||(ev.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Fe(i,"link",e),Ee(i),l.head.appendChild(i)))}}function Eb(e){Wi.D(e),nv("dns-prefetch",e,null)}function Tb(e,i){Wi.C(e,i),nv("preconnect",e,i)}function Ab(e,i,a){Wi.L(e,i,a);var l=Qa;if(l&&e&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(i){case"style":f=Ya(e);break;case"script":f=Xa(e)}Ln.has(f)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Ln.set(f,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Tl(f))||i==="script"&&l.querySelector(Al(f))||(i=l.createElement("link"),Fe(i,"link",e),Ee(i),l.head.appendChild(i)))}}function Sb(e,i){Wi.m(e,i);var a=Qa;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Xa(e)}if(!Ln.has(f)&&(e=S({rel:"modulepreload",href:e},i),Ln.set(f,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Al(f)))return}l=a.createElement("link"),Fe(l,"link",e),Ee(l),a.head.appendChild(l)}}}function bb(e,i,a){Wi.S(e,i,a);var l=Qa;if(l&&e){var h=ci(l).hoistableStyles,f=Ya(e);i=i||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Tl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Ln.get(f))&&qd(e,a);var R=g=l.createElement("link");Ee(R),Fe(R,"link",e),R._p=new Promise(function(x,j){R.onload=x,R.onerror=j}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Nc(g,i,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function wb(e,i){Wi.X(e,i);var a=Qa;if(a&&e){var l=ci(a).hoistableScripts,h=Xa(e),f=l.get(h);f||(f=a.querySelector(Al(h)),f||(e=S({src:e,async:!0},i),(i=Ln.get(h))&&Hd(e,i),f=a.createElement("script"),Ee(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Rb(e,i){Wi.M(e,i);var a=Qa;if(a&&e){var l=ci(a).hoistableScripts,h=Xa(e),f=l.get(h);f||(f=a.querySelector(Al(h)),f||(e=S({src:e,async:!0,type:"module"},i),(i=Ln.get(h))&&Hd(e,i),f=a.createElement("script"),Ee(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function iv(e,i,a,l){var h=(h=St.current)?Oc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ya(a.href),a=ci(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ya(a.href);var f=ci(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(Tl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),f||Ib(h,e,a,g.state))),i&&l===null)throw Error(s(528,""));return g}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Xa(a),a=ci(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ya(e){return'href="'+rn(e)+'"'}function Tl(e){return'link[rel="stylesheet"]['+e+"]"}function rv(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Ib(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Fe(i,"link",a),Ee(i),e.head.appendChild(i))}function Xa(e){return'[src="'+rn(e)+'"]'}function Al(e){return"script[async]"+e}function sv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return i.instance=l,Ee(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ee(l),Fe(l,"style",h),Nc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Ya(a.href);var f=e.querySelector(Tl(h));if(f)return i.state.loading|=4,i.instance=f,Ee(f),f;l=rv(a),(h=Ln.get(h))&&qd(l,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Fe(f,"link",l),i.state.loading|=4,Nc(f,a.precedence,e),i.instance=f;case"script":return f=Xa(a.src),(h=e.querySelector(Al(f)))?(i.instance=h,Ee(h),h):(l=a,(h=Ln.get(f))&&(l=S({},a),Hd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Fe(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Nc(l,a.precedence,e));return i.instance}function Nc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function qd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Hd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Mc=null;function av(e,i,a){if(Mc===null){var l=new Map,h=Mc=new Map;h.set(a,l)}else h=Mc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[li]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(i)||"";g=e+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function ov(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function Cb(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function lv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Db(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ya(l.href),f=i.querySelector(Tl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Vc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=f,Ee(f);return}f=i.ownerDocument||i,l=rv(l),(h=Ln.get(h))&&qd(l,h),f=f.createElement("link"),Ee(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Fe(f,"link",l),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Vc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var jd=0;function Ob(e,i){return e.stylesheets&&e.count===0&&Pc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Pc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&jd===0&&(jd=62500*cb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Pc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>jd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Uc=null;function Pc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Uc=new Map,i.forEach(Nb,e),Uc=null,Vc.call(e))}function Nb(e,i){if(!(i.state.loading&4)){var a=Uc.get(e);if(a)var l=a.get(null);else{a=new Map,Uc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}h=i.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,h),a.set(g,h),this.count++,l=Vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Sl={$$typeof:ct,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function Mb(e,i,a,l,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function uv(e,i,a,l,h,f,g,E,R,x,j,Q){return e=new Mb(e,i,a,g,R,x,j,Q,E),i=1,f===!0&&(i|=24),f=gn(3,null,null,i),e.current=f,f.stateNode=e,i=Af(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},Rf(f),e}function cv(e){return e?(e=Ra,e):Ra}function hv(e,i,a,l,h,f){h=cv(h),l.context===null?l.context=h:l.pendingContext=h,l=Rr(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Ir(e,l,i),a!==null&&(cn(a,e,i),el(a,e,i))}function fv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Fd(e,i){fv(e,i),(e=e.alternate)&&fv(e,i)}function dv(e){if(e.tag===13||e.tag===31){var i=Os(e,67108864);i!==null&&cn(i,e,67108864),Fd(e,67108864)}}function mv(e){if(e.tag===13||e.tag===31){var i=Tn();i=ys(i);var a=Os(e,i);a!==null&&cn(a,e,i),Fd(e,i)}}var kc=!0;function Vb(e,i,a,l){var h=F.T;F.T=null;var f=tt.p;try{tt.p=2,Gd(e,i,a,l)}finally{tt.p=f,F.T=h}}function Ub(e,i,a,l){var h=F.T;F.T=null;var f=tt.p;try{tt.p=8,Gd(e,i,a,l)}finally{tt.p=f,F.T=h}}function Gd(e,i,a,l){if(kc){var h=Kd(l);if(h===null)Nd(e,i,l,Lc,a),gv(e,l);else if(kb(h,e,i,a,l))l.stopPropagation();else if(gv(e,l),i&4&&-1<Pb.indexOf(e)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ri(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-fe(g);E.entanglements[1]|=R,g&=~R}Si(f),(Bt&6)===0&&(vc=We()+500,_l(0))}}break;case 31:case 13:E=Os(f,2),E!==null&&cn(E,f,2),Tc(),Fd(f,2)}if(f=Kd(l),f===null&&Nd(e,i,l,Lc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Nd(e,i,l,null,a)}}function Kd(e){return e=In(e),Qd(e)}var Lc=null;function Qd(e){if(Lc=null,e=ui(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===31){if(e=p(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Lc=e,null}function pv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ms()){case Ro:return 2;case Io:return 8;case hr:case Zh:return 32;case pu:return 268435456;default:return 32}default:return 32}}var Yd=!1,xr=null,zr=null,Br=null,bl=new Map,wl=new Map,qr=[],Pb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gv(e,i){switch(e){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":bl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(i.pointerId)}}function Rl(e,i,a,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Rn(i),i!==null&&dv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function kb(e,i,a,l,h){switch(i){case"focusin":return xr=Rl(xr,e,i,a,l,h),!0;case"dragenter":return zr=Rl(zr,e,i,a,l,h),!0;case"mouseover":return Br=Rl(Br,e,i,a,l,h),!0;case"pointerover":var f=h.pointerId;return bl.set(f,Rl(bl.get(f)||null,e,i,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,wl.set(f,Rl(wl.get(f)||null,e,i,a,l,h)),!0}return!1}function _v(e){var i=ui(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,qn(e.priority,function(){mv(a)});return}}else if(i===31){if(i=p(a),i!==null){e.blockedOn=i,qn(e.priority,function(){mv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Kd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);zo=l,a.target.dispatchEvent(l),zo=null}else return i=Rn(a),i!==null&&dv(i),e.blockedOn=a,!1;i.shift()}return!0}function yv(e,i,a){xc(e)&&a.delete(i)}function Lb(){Yd=!1,xr!==null&&xc(xr)&&(xr=null),zr!==null&&xc(zr)&&(zr=null),Br!==null&&xc(Br)&&(Br=null),bl.forEach(yv),wl.forEach(yv)}function zc(e,i){e.blockedOn===i&&(e.blockedOn=null,Yd||(Yd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Lb)))}var Bc=null;function vv(e){Bc!==e&&(Bc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bc===e&&(Bc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Qd(l||a)===null)continue;break}var f=Rn(a);f!==null&&(e.splice(i,3),i-=3,Kf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function $a(e){function i(R){return zc(R,e)}xr!==null&&zc(xr,e),zr!==null&&zc(zr,e),Br!==null&&zc(Br,e),bl.forEach(i),wl.forEach(i);for(var a=0;a<qr.length;a++){var l=qr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<qr.length&&(a=qr[0],a.blockedOn===null);)_v(a),a.blockedOn===null&&qr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],g=h[Pe]||null;if(typeof f=="function")g||vv(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Pe]||null)E=g.formAction;else if(Qd(h)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),vv(a)}}}function Ev(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Xd(e){this._internalRoot=e}qc.prototype.render=Xd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Tn();hv(a,l,e,i,null,null)},qc.prototype.unmount=Xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;hv(e.current,2,null,e,null,null),Tc(),i[oi]=null}};function qc(e){this._internalRoot=e}qc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Tu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<qr.length&&i!==0&&i<qr[a].priority;a++);qr.splice(a,0,e),a===0&&_v(e)}};var Tv=t.version;if(Tv!=="19.2.3")throw Error(s(527,Tv,"19.2.3"));tt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var xb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{zn=Hc.inject(xb),ze=Hc}catch{}}return Cl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=C_,f=D_,g=O_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=uv(e,1,!1,null,null,a,l,null,h,f,g,Ev),e[oi]=i.current,Od(e),new Xd(i)},Cl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",f=C_,g=D_,E=O_,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),i=uv(e,1,!0,i,a??null,l,h,R,f,g,E,Ev),i.context=cv(null),a=i.current,l=Tn(),l=ys(l),h=Rr(l),h.callback=null,Ir(a,h,l),a=l,i.current.lanes=a,gs(i,a),Si(i),e[oi]=i.current,Od(e),new qc(i)},Cl.version="19.2.3",Cl}var Nv;function Yb(){if(Nv)return Zd.exports;Nv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Zd.exports=Qb(),Zd.exports}var FN=Yb();const Xb="/PRSM-Allergy/";class Km{name;description;photo;link;isFeatured;constructor({name:t,description:n,photo:s,link:o,isFeatured:u}){this.name=t,this.description=n,this.photo=s,this.link=o,this.isFeatured=u??!1}toMap(){return{name:this.name,description:this.description,photo:this.photo.toMap(),link:this.link,isFeatured:this.isFeatured}}static fromMap(t){return new Km({name:t.name,description:t.description,photo:Qs.fromMap(t.photo),link:t.link,isFeatured:t.isFeatured??!1})}}let $b=class fT{title;description;date;displayDate;time;location;photoUrl;constructor({title:t,description:n,date:s,displayDate:o,time:u,location:d,photoUrl:p}){this.title=t,this.description=n,this.date=s,this.displayDate=o,this.time=u,this.location=d,this.photoUrl=p}getFormattedTime(){if(!this.time)return"";const[t,n]=this.time.split(":"),s=parseInt(t,10),o=s>=12?"PM":"AM";return`${s%12||12}:${n} ${o}`}toMap(){return{title:this.title,description:this.description,date:this.date,displayDate:this.displayDate,time:this.time,location:this.location,photoUrl:this.photoUrl}}static fromMap(t){return new fT({title:t.title,description:t.description,date:t.date,displayDate:t.displayDate,time:t.time,location:t.location,photoUrl:t.photoUrl})}};class Qs{url;id;constructor({url:t,id:n}){this.url=t,this.id=n}toMap(){return{url:this.url,id:this.id}}static fromMap(t){return new Qs({url:t.url,id:t.id})}}class Qm{platform;url;constructor({platform:t,url:n}){this.platform=t,this.url=n}toMap(){return{platform:this.platform,url:this.url}}static fromMap(t){return new Qm({platform:t.platform,url:t.url})}}class Ym{name;photo;description;role;constructor({name:t,photo:n,description:s,role:o}){this.name=t,this.photo=n,this.description=s,this.role=o}toMap(){return{name:this.name,photo:this.photo.toMap(),description:this.description,role:this.role}}static fromMap(t){return new Ym({name:t.name,photo:Qs.fromMap(t.photo),description:t.description,role:t.role??""})}}class Xm{title;description;constructor({title:t,description:n}){this.title=t,this.description=n}toMap(){return{title:this.title,description:this.description}}static fromMap(t){return new Xm({title:t.title,description:t.description})}}class tu{id;title;body;createdAt;updatedAt;constructor({id:t,title:n,body:s,createdAt:o,updatedAt:u}){this.id=t,this.title=n,this.body=s,this.createdAt=o,this.updatedAt=u}toMap(){return{title:this.title,body:this.body,createdAt:this.createdAt,updatedAt:this.updatedAt}}static fromMap(t,n){return new tu({id:n,title:t.title,body:t.body,createdAt:t.createdAt,updatedAt:t.updatedAt})}getDisplayDate(){return new Date(this.updatedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}}class Rh{events;fundraisers;landingPageTitle;landingPageSubtitle;landingPagePhoto;galleryPhotos;socialMediaLinks;teamMembers;aboutSubtitle;aboutTiles;constructor({events:t,fundraisers:n,landingPageTitle:s,landingPageSubtitle:o,landingPagePhoto:u,galleryPhotos:d,socialMediaLinks:p,teamMembers:_,aboutSubtitle:y,aboutTiles:T}){this.events=t,this.fundraisers=n,this.landingPageTitle=s,this.landingPageSubtitle=o,this.landingPagePhoto=u,this.galleryPhotos=d,this.socialMediaLinks=p,this.teamMembers=_,this.aboutSubtitle=y,this.aboutTiles=T}toMap(){return{events:this.events.map(t=>t.toMap()),fundraisers:this.fundraisers.map(t=>t.toMap()),landingPageTitle:this.landingPageTitle,landingPageSubtitle:this.landingPageSubtitle,landingPagePhoto:this.landingPagePhoto.toMap(),galleryPhotos:this.galleryPhotos.map(t=>t.toMap()),socialMediaLinks:this.socialMediaLinks.map(t=>t.toMap()),teamMembers:this.teamMembers.map(t=>t.toMap()),aboutSubtitle:this.aboutSubtitle,aboutTiles:this.aboutTiles.map(t=>t.toMap())}}static fromMap(t){return new Rh({events:t.events.map(n=>$b.fromMap(n)),fundraisers:t.fundraisers.map(n=>Km.fromMap(n)),landingPageTitle:t.landingPageTitle,landingPageSubtitle:t.landingPageSubtitle,landingPagePhoto:Qs.fromMap(t.landingPagePhoto),galleryPhotos:t.galleryPhotos.map(n=>Qs.fromMap(n)),socialMediaLinks:t.socialMediaLinks.map(n=>Qm.fromMap(n)),teamMembers:t.teamMembers.map(n=>Ym.fromMap(n)),aboutSubtitle:t.aboutSubtitle,aboutTiles:t.aboutTiles.map(n=>Xm.fromMap(n))})}}const Jb=()=>{};var Mv={};const dT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Zb=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],d=r[n++],p=r[n++],_=((o&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(_>>10)),t[s++]=String.fromCharCode(56320+(_&1023))}else{const u=r[n++],d=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return t.join("")},mT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],d=o+1<r.length,p=d?r[o+1]:0,_=o+2<r.length,y=_?r[o+2]:0,T=u>>2,S=(u&3)<<4|p>>4;let D=(p&15)<<2|y>>6,H=y&63;_||(H=64,d||(D=64)),s.push(n[T],n[S],n[D],n[H])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(dT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Zb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||y==null||S==null)throw new Wb;const D=u<<2|p>>4;if(s.push(D),y!==64){const H=p<<4&240|y>>2;if(s.push(H),S!==64){const $=y<<6&192|S;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Wb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const t1=function(r){const t=dT(r);return mT.encodeByteArray(t,!0)},oh=function(r){return t1(r).replace(/\./g,"")},pT=function(r){try{return mT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function e1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const n1=()=>e1().__FIREBASE_DEFAULTS__,i1=()=>{if(typeof process>"u"||typeof Mv>"u")return;const r=Mv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},r1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&pT(r[1]);return t&&JSON.parse(t)},Ih=()=>{try{return Jb()||n1()||i1()||r1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},gT=r=>Ih()?.emulatorHosts?.[r],_T=r=>{const t=gT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},yT=()=>Ih()?.config,vT=r=>Ih()?.[`_${r}`];class s1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function os(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $m(r){return(await fetch(r,{credentials:"include"})).ok}function ET(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[oh(JSON.stringify(n)),oh(JSON.stringify(d)),""].join(".")}const Ll={};function a1(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ll))Ll[t]?r.emulator.push(t):r.prod.push(t);return r}function o1(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Vv=!1;function Jm(r,t){if(typeof window>"u"||typeof document>"u"||!os(window.location.host)||Ll[r]===t||Ll[r]||Vv)return;Ll[r]=t;function n(D){return`__firebase__banner__${D}`}const s="__firebase__banner",u=a1().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function _(D,H){D.setAttribute("width","24"),D.setAttribute("id",H),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function y(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{Vv=!0,d()},D}function T(D,H){D.setAttribute("id",H),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=o1(s),H=n("text"),$=document.getElementById(H)||document.createElement("span"),W=n("learnmore"),J=document.getElementById(W)||document.createElement("a"),ot=n("preprendIcon"),pt=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ct=D.element;p(ct),T(J,W);const At=y();_(pt,ot),ct.append(pt,$,J,At),document.body.appendChild(ct)}u?($.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function u1(){const r=Ih()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function h1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function f1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function d1(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function m1(){return!u1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function p1(){try{return typeof indexedDB=="object"}catch{return!1}}function g1(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const _1="FirebaseError";class Vi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=_1,Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],d=u?y1(u,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Vi(o,p,s)}}function y1(r,t){return r.replace(v1,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const v1=/\{\$([^}]+)}/g;function E1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ys(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],d=t[o];if(Uv(u)&&Uv(d)){if(!Ys(u,d))return!1}else if(u!==d)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Uv(r){return r!==null&&typeof r=="object"}function nu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Nl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Ml(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function T1(r,t){const n=new A1(r,t);return n.subscribe.bind(n)}class A1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");S1(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=nm),o.error===void 0&&(o.error=nm),o.complete===void 0&&(o.complete=nm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S1(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function nm(){}function ae(r){return r&&r._delegate?r._delegate:r}class ts{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const js="[DEFAULT]";class b1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new s1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(R1(t))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=js){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=js){return this.instances.has(t)}getOptions(t=js){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&d.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:w1(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=js){return this.component?this.component.multipleInstances?t:js:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w1(r){return r===js?void 0:r}function R1(r){return r.instantiationMode==="EAGER"}class I1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new b1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const C1={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},D1=Ot.INFO,O1={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},N1=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=O1[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Zm{constructor(t){this.name=t,this._logLevel=D1,this._logHandler=N1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?C1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const M1=(r,t)=>t.some(n=>r instanceof n);let Pv,kv;function V1(){return Pv||(Pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U1(){return kv||(kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TT=new WeakMap,ym=new WeakMap,AT=new WeakMap,im=new WeakMap,Wm=new WeakMap;function P1(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n($r(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&TT.set(n,r)}).catch(()=>{}),Wm.set(t,r),t}function k1(r){if(ym.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});ym.set(r,t)}let vm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return ym.get(r);if(t==="objectStoreNames")return r.objectStoreNames||AT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function L1(r){vm=r(vm)}function x1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(rm(this),t,...n);return AT.set(s,t.sort?t.sort():[t]),$r(s)}:U1().includes(r)?function(...t){return r.apply(rm(this),t),$r(TT.get(this))}:function(...t){return $r(r.apply(rm(this),t))}}function z1(r){return typeof r=="function"?x1(r):(r instanceof IDBTransaction&&k1(r),M1(r,V1())?new Proxy(r,vm):r)}function $r(r){if(r instanceof IDBRequest)return P1(r);if(im.has(r))return im.get(r);const t=z1(r);return t!==r&&(im.set(r,t),Wm.set(t,r)),t}const rm=r=>Wm.get(r);function B1(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const d=indexedDB.open(r,t),p=$r(d);return s&&d.addEventListener("upgradeneeded",_=>{s($r(d.result),_.oldVersion,_.newVersion,$r(d.transaction),_)}),n&&d.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),p.then(_=>{u&&_.addEventListener("close",()=>u()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const q1=["get","getKey","getAll","getAllKeys","count"],H1=["put","add","delete","clear"],sm=new Map;function Lv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(sm.get(t))return sm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=H1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||q1.includes(n)))return;const u=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&_.done]))[0]};return sm.set(t,u),u}L1(r=>({...r,get:(t,n,s)=>Lv(t,n)||r.get(t,n,s),has:(t,n)=>!!Lv(t,n)||r.has(t,n)}));class j1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(F1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function F1(r){return r.getComponent()?.type==="VERSION"}const Em="@firebase/app",xv="0.14.7";const sr=new Zm("@firebase/app"),G1="@firebase/app-compat",K1="@firebase/analytics-compat",Q1="@firebase/analytics",Y1="@firebase/app-check-compat",X1="@firebase/app-check",$1="@firebase/auth",J1="@firebase/auth-compat",Z1="@firebase/database",W1="@firebase/data-connect",tw="@firebase/database-compat",ew="@firebase/functions",nw="@firebase/functions-compat",iw="@firebase/installations",rw="@firebase/installations-compat",sw="@firebase/messaging",aw="@firebase/messaging-compat",ow="@firebase/performance",lw="@firebase/performance-compat",uw="@firebase/remote-config",cw="@firebase/remote-config-compat",hw="@firebase/storage",fw="@firebase/storage-compat",dw="@firebase/firestore",mw="@firebase/ai",pw="@firebase/firestore-compat",gw="firebase",_w="12.8.0";const Tm="[DEFAULT]",yw={[Em]:"fire-core",[G1]:"fire-core-compat",[Q1]:"fire-analytics",[K1]:"fire-analytics-compat",[X1]:"fire-app-check",[Y1]:"fire-app-check-compat",[$1]:"fire-auth",[J1]:"fire-auth-compat",[Z1]:"fire-rtdb",[W1]:"fire-data-connect",[tw]:"fire-rtdb-compat",[ew]:"fire-fn",[nw]:"fire-fn-compat",[iw]:"fire-iid",[rw]:"fire-iid-compat",[sw]:"fire-fcm",[aw]:"fire-fcm-compat",[ow]:"fire-perf",[lw]:"fire-perf-compat",[uw]:"fire-rc",[cw]:"fire-rc-compat",[hw]:"fire-gcs",[fw]:"fire-gcs-compat",[dw]:"fire-fst",[pw]:"fire-fst-compat",[mw]:"fire-vertex","fire-js":"fire-js",[gw]:"fire-js-all"};const lh=new Map,vw=new Map,Am=new Map;function zv(r,t){try{r.container.addComponent(t)}catch(n){sr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Xs(r){const t=r.name;if(Am.has(t))return sr.debug(`There were multiple attempts to register component ${t}.`),!1;Am.set(t,r);for(const n of lh.values())zv(n,r);for(const n of vw.values())zv(n,r);return!0}function Ch(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function An(r){return r==null?!1:r.settings!==void 0}const Ew={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new eu("app","Firebase",Ew);class Tw{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}const ea=_w;function ST(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Tm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Jr.create("bad-app-name",{appName:String(o)});if(n||(n=yT()),!n)throw Jr.create("no-options");const u=lh.get(o);if(u){if(Ys(n,u.options)&&Ys(s,u.config))return u;throw Jr.create("duplicate-app",{appName:o})}const d=new I1(o);for(const _ of Am.values())d.addComponent(_);const p=new Tw(n,s,d);return lh.set(o,p),p}function tp(r=Tm){const t=lh.get(r);if(!t&&r===Tm&&yT())return ST();if(!t)throw Jr.create("no-app",{appName:r});return t}function Ri(r,t,n){let s=yw[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const d=[`Unable to register library "${s}" with version "${t}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),sr.warn(d.join(" "));return}Xs(new ts(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const Aw="firebase-heartbeat-database",Sw=1,Fl="firebase-heartbeat-store";let am=null;function bT(){return am||(am=B1(Aw,Sw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Fl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Jr.create("idb-open",{originalErrorMessage:r.message})})),am}async function bw(r){try{const n=(await bT()).transaction(Fl),s=await n.objectStore(Fl).get(wT(r));return await n.done,s}catch(t){if(t instanceof Vi)sr.warn(t.message);else{const n=Jr.create("idb-get",{originalErrorMessage:t?.message});sr.warn(n.message)}}}async function Bv(r,t){try{const s=(await bT()).transaction(Fl,"readwrite");await s.objectStore(Fl).put(t,wT(r)),await s.done}catch(n){if(n instanceof Vi)sr.warn(n.message);else{const s=Jr.create("idb-set",{originalErrorMessage:n?.message});sr.warn(s.message)}}}function wT(r){return`${r.name}!${r.options.appId}`}const ww=1024,Rw=30;class Iw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Dw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=qv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Rw){const o=Ow(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){sr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=qv(),{heartbeatsToSend:n,unsentEntries:s}=Cw(this._heartbeatsCache.heartbeats),o=oh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return sr.warn(t),""}}}function qv(){return new Date().toISOString().substring(0,10)}function Cw(r,t=ww){const n=[];let s=r.slice();for(const o of r){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),Hv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Hv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Dw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return p1()?g1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Bv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Bv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Hv(r){return oh(JSON.stringify({version:2,heartbeats:r})).length}function Ow(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function Nw(r){Xs(new ts("platform-logger",t=>new j1(t),"PRIVATE")),Xs(new ts("heartbeat",t=>new Iw(t),"PRIVATE")),Ri(Em,xv,r),Ri(Em,xv,"esm2020"),Ri("fire-js","")}Nw("");function RT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mw=RT,IT=new eu("auth","Firebase",RT());const uh=new Zm("@firebase/auth");function Vw(r,...t){uh.logLevel<=Ot.WARN&&uh.warn(`Auth (${ea}): ${r}`,...t)}function Jc(r,...t){uh.logLevel<=Ot.ERROR&&uh.error(`Auth (${ea}): ${r}`,...t)}function ti(r,...t){throw ep(r,...t)}function Ii(r,...t){return ep(r,...t)}function CT(r,t,n){const s={...Mw(),[t]:n};return new eu("auth","Firebase",s).create(t,{appName:r.name})}function ir(r){return CT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ep(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return IT.create(r,...t)}function dt(r,t,...n){if(!r)throw ep(t,...n)}function tr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Jc(t),new Error(t)}function ar(r,t){r||tr(t)}function Sm(){return typeof self<"u"&&self.location?.href||""}function Uw(){return jv()==="http:"||jv()==="https:"}function jv(){return typeof self<"u"&&self.location?.protocol||null}function Pw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Uw()||h1()||"connection"in navigator)?navigator.onLine:!0}function kw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class iu{constructor(t,n){this.shortDelay=t,this.longDelay=n,ar(n>t,"Short delay should be less than long delay!"),this.isMobile=l1()||f1()}get(){return Pw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function np(r,t){ar(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class DT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const xw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zw=new iu(3e4,6e4);function ls(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function us(r,t,n,s,o={}){return OT(r,o,async()=>{let u={},d={};s&&(t==="GET"?d=s:u={body:JSON.stringify(s)});const p=nu({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...u};return c1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&os(r.emulatorConfig.host)&&(y.credentials="include"),DT.fetch()(await NT(r,r.config.apiHost,n,p),y)})}async function OT(r,t,n){r._canInitEmulator=!1;const s={...Lw,...t};try{const o=new qw(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw jc(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw jc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw jc(r,"user-disabled",d);const T=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw CT(r,T,y);ti(r,T)}}catch(o){if(o instanceof Vi)throw o;ti(r,"network-request-failed",{message:String(o)})}}async function ru(r,t,n,s,o={}){const u=await us(r,t,n,s,o);return"mfaPendingCredential"in u&&ti(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function NT(r,t,n,s){const o=`${t}${n}?${s}`,u=r,d=u.config.emulator?np(r.config,o):`${r.config.apiScheme}://${o}`;return xw.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function Bw(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ii(this.auth,"network-request-failed")),zw.get())})}}function jc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ii(r,t,s);return o.customData._tokenResponse=n,o}function Fv(r){return r!==void 0&&r.enterprise!==void 0}class Hw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Bw(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jw(r,t){return us(r,"GET","/v2/recaptchaConfig",ls(r,t))}async function Fw(r,t){return us(r,"POST","/v1/accounts:delete",t)}async function ch(r,t){return us(r,"POST","/v1/accounts:lookup",t)}function xl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Gw(r,t=!1){const n=ae(r),s=await n.getIdToken(t),o=ip(s);dt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:s,authTime:xl(om(o.auth_time)),issuedAtTime:xl(om(o.iat)),expirationTime:xl(om(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function om(r){return Number(r)*1e3}function ip(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=pT(n);return o?JSON.parse(o):(Jc("Failed to decode base64 JWT payload"),null)}catch(o){return Jc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Gv(r){const t=ip(r);return dt(t,"internal-error"),dt(typeof t.exp<"u","internal-error"),dt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Gl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Vi&&Kw(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Kw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Qw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class bm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hh(r){const t=r.auth,n=await r.getIdToken(),s=await Gl(r,ch(t,{idToken:n}));dt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?MT(o.providerUserInfo):[],d=Xw(r.providerData,u),p=r.isAnonymous,_=!(r.email&&o.passwordHash)&&!d?.length,y=p?_:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new bm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,T)}async function Yw(r){const t=ae(r);await hh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Xw(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function MT(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function $w(r,t){const n=await OT(r,{},async()=>{const s=nu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,d=await NT(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:s};return r.emulatorConfig&&os(r.emulatorConfig.host)&&(_.credentials="include"),DT.fetch()(d,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Jw(r,t){return us(r,"POST","/v2/accounts:revokeToken",ls(r,t))}class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){dt(t.idToken,"internal-error"),dt(typeof t.idToken<"u","internal-error"),dt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Gv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){dt(t.length!==0,"internal-error");const n=Gv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(dt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await $w(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,d=new no;return s&&(dt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),o&&(dt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),u&&(dt(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return tr("not implemented")}}function jr(r,t){dt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Qw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Gl(this,this.stsTokenManager.getToken(this.auth,t));return dt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Gw(this,t)}reload(){return Yw(this)}_assign(t){this!==t&&(dt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await hh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(ir(this.auth));const t=await this.getIdToken();return await Gl(this,Fw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,_=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:D,isAnonymous:H,providerData:$,stsTokenManager:W}=n;dt(S&&W,t,"internal-error");const J=no.fromJSON(this.name,W);dt(typeof S=="string",t,"internal-error"),jr(s,t.name),jr(o,t.name),dt(typeof D=="boolean",t,"internal-error"),dt(typeof H=="boolean",t,"internal-error"),jr(u,t.name),jr(d,t.name),jr(p,t.name),jr(_,t.name),jr(y,t.name),jr(T,t.name);const ot=new Jn({uid:S,auth:t,email:o,emailVerified:D,displayName:s,isAnonymous:H,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:J,createdAt:y,lastLoginAt:T});return $&&Array.isArray($)&&(ot.providerData=$.map(pt=>({...pt}))),_&&(ot._redirectEventId=_),ot}static async _fromIdTokenResponse(t,n,s=!1){const o=new no;o.updateFromServerResponse(n);const u=new Jn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await hh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];dt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?MT(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,p=new no;p.updateFromIdToken(s);const _=new Jn({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new bm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(_,y),_}}const Kv=new Map;function er(r){ar(r instanceof Function,"Expected a class definition");let t=Kv.get(r);return t?(ar(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Kv.set(r,t),t)}class VT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}VT.type="NONE";const Qv=VT;function Zc(r,t,n){return`firebase:${r}:${t}:${n}`}class io{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Zc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Zc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await ch(this.auth,{idToken:t}).catch(()=>{});return n?Jn._fromGetAccountInfoResponse(this.auth,n,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new io(er(Qv),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||er(Qv);const d=Zc(s,t.config.apiKey,t.name);let p=null;for(const y of n)try{const T=await y._get(d);if(T){let S;if(typeof T=="string"){const D=await ch(t,{idToken:T}).catch(()=>{});if(!D)break;S=await Jn._fromGetAccountInfoResponse(t,D,T)}else S=Jn._fromJSON(t,T);y!==u&&(p=S),u=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new io(u,t,s):(u=_[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new io(u,t,s))}}function Yv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(LT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(UT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(zT(t))return"Blackberry";if(BT(t))return"Webos";if(PT(t))return"Safari";if((t.includes("chrome/")||kT(t))&&!t.includes("edge/"))return"Chrome";if(xT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function UT(r=Ze()){return/firefox\//i.test(r)}function PT(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function kT(r=Ze()){return/crios\//i.test(r)}function LT(r=Ze()){return/iemobile/i.test(r)}function xT(r=Ze()){return/android/i.test(r)}function zT(r=Ze()){return/blackberry/i.test(r)}function BT(r=Ze()){return/webos/i.test(r)}function rp(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Zw(r=Ze()){return rp(r)&&!!window.navigator?.standalone}function Ww(){return d1()&&document.documentMode===10}function qT(r=Ze()){return rp(r)||xT(r)||BT(r)||zT(r)||/windows phone/i.test(r)||LT(r)}function HT(r,t=[]){let n;switch(r){case"Browser":n=Yv(Ze());break;case"Worker":n=`${Yv(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ea}/${s}`}class tR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((d,p)=>{try{const _=t(u);d(_)}catch(_){p(_)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function eR(r,t={}){return us(r,"GET","/v2/passwordPolicy",ls(r,t))}const nR=6;class iR{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??nR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class rR{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xv(this),this.idTokenSubscription=new Xv(this),this.beforeStateQueue=new tR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=er(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await io.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ch(this,{idToken:t}),s=await Jn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(An(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!u||u===d)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await hh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=kw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(An(this.app))return Promise.reject(ir(this));const n=t?ae(t):null;return n&&dt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&dt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return An(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(er(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await eR(this),n=new iR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new eu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Jw(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&er(t)||this._popupRedirectResolver;dt(n,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(dt(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const _=t.addObserver(n,s,o);return()=>{d=!0,_()}}else{const _=t.addObserver(n);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=HT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Vw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function na(r){return ae(r)}class Xv{constructor(t){this.auth=t,this.observer=null,this.addObserver=T1(n=>this.observer=n)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sR(r){Dh=r}function jT(r){return Dh.loadJS(r)}function aR(){return Dh.recaptchaEnterpriseScript}function oR(){return Dh.gapiScript}function lR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class uR{constructor(){this.enterprise=new cR}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class cR{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const hR="recaptcha-enterprise",FT="NO_RECAPTCHA";class fR{constructor(t){this.type=hR,this.auth=na(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{jw(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new Hw(_);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,d(y.siteKey)}}).catch(_=>{p(_)})})}function o(u,d,p){const _=window.grecaptcha;Fv(_)?_.enterprise.ready(()=>{_.enterprise.execute(u,{action:t}).then(y=>{d(y)}).catch(()=>{d(FT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uR().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(p=>{if(!n&&Fv(window.grecaptcha))o(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=aR();_.length!==0&&(_+=p),jT(_).then(()=>{o(p,u,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function $v(r,t,n,s=!1,o=!1){const u=new fR(r);let d;if(o)d=FT;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const p={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function wm(r,t,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await $v(r,t,n,n==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await $v(r,t,n,n==="getOobCode");return s(r,d)}else return Promise.reject(u)})}function dR(r,t){const n=Ch(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ys(u,t??{}))return o;ti(o,"already-initialized")}return n.initialize({options:t})}function mR(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(er);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function pR(r,t,n){const s=na(r);dt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=GT(t),{host:d,port:p}=gR(t),_=p===null?"":`:${p}`,y={url:`${u}//${d}${_}/`},T=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){dt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),dt(Ys(y,s.config.emulator)&&Ys(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,os(d)?($m(`${u}//${d}${_}`),Jm("Auth",!0)):_R()}function GT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function gR(r){const t=GT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Jv(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:Jv(d)}}}function Jv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function _R(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class sp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(t){return tr("not implemented")}_linkToIdToken(t,n){return tr("not implemented")}_getReauthenticationResolver(t){return tr("not implemented")}}async function yR(r,t){return us(r,"POST","/v1/accounts:signUp",t)}async function vR(r,t){return ru(r,"POST","/v1/accounts:signInWithPassword",ls(r,t))}async function ER(r,t){return ru(r,"POST","/v1/accounts:signInWithEmailLink",ls(r,t))}async function TR(r,t){return ru(r,"POST","/v1/accounts:signInWithEmailLink",ls(r,t))}class Kl extends sp{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Kl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Kl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wm(t,n,"signInWithPassword",vR);case"emailLink":return ER(t,{email:this._email,oobCode:this._password});default:ti(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wm(t,s,"signUpPassword",yR);case"emailLink":return TR(t,{idToken:n,email:this._email,oobCode:this._password});default:ti(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function ro(r,t){return ru(r,"POST","/v1/accounts:signInWithIdp",ls(r,t))}const AR="http://localhost";class $s extends sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new $s(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const d=new $s(s,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return ro(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,ro(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ro(t,n)}buildRequest(){const t={requestUri:AR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=nu(n)}return t}}function SR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bR(r){const t=Nl(Ml(r)).link,n=t?Nl(Ml(t)).deep_link_id:null,s=Nl(Ml(r)).deep_link_id;return(s?Nl(Ml(s)).link:null)||s||n||t||r}class ap{constructor(t){const n=Nl(Ml(t)),s=n.apiKey??null,o=n.oobCode??null,u=SR(n.mode??null);dt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=bR(t);try{return new ap(n)}catch{return null}}}class go{constructor(){this.providerId=go.PROVIDER_ID}static credential(t,n){return Kl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=ap.parseLink(n);return dt(s,"argument-error"),Kl._fromEmailAndCode(t,s.code,s.tenantId)}}go.PROVIDER_ID="password";go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class KT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class su extends KT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Fr extends su{constructor(){super("facebook.com")}static credential(t){return $s._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fr.credential(t.oauthAccessToken)}catch{return null}}}Fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fr.PROVIDER_ID="facebook.com";class Gr extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return $s._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Gr.credential(n,s)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";class Kr extends su{constructor(){super("github.com")}static credential(t){return $s._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Kr.credential(t.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";class Qr extends su{constructor(){super("twitter.com")}static credential(t,n){return $s._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Qr.credential(n,s)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";async function wR(r,t){return ru(r,"POST","/v1/accounts:signUp",ls(r,t))}class Js{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Jn._fromIdTokenResponse(t,s,o),d=Zv(s);return new Js({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Zv(s);return new Js({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Zv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class fh extends Vi{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new fh(t,n,s,o)}}function QT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(r,u,t,s):u})}async function RR(r,t,n=!1){const s=await Gl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Js._forOperation(r,"link",s)}async function IR(r,t,n=!1){const{auth:s}=r;if(An(s.app))return Promise.reject(ir(s));const o="reauthenticate";try{const u=await Gl(r,QT(s,o,t,r),n);dt(u.idToken,s,"internal-error");const d=ip(u.idToken);dt(d,s,"internal-error");const{sub:p}=d;return dt(r.uid===p,s,"user-mismatch"),Js._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ti(s,"user-mismatch"),u}}async function YT(r,t,n=!1){if(An(r.app))return Promise.reject(ir(r));const s="signIn",o=await QT(r,s,t),u=await Js._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function CR(r,t){return YT(na(r),t)}async function XT(r){const t=na(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function DR(r,t,n){if(An(r.app))return Promise.reject(ir(r));const s=na(r),d=await wm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wR).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&XT(r),_}),p=await Js._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function OR(r,t,n){return An(r.app)?Promise.reject(ir(r)):CR(ae(r),go.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&XT(r),s})}function $T(r,t){return ae(r).setPersistence(t)}function NR(r,t,n,s){return ae(r).onIdTokenChanged(t,n,s)}function MR(r,t,n){return ae(r).beforeAuthStateChanged(t,n)}function VR(r,t,n,s){return ae(r).onAuthStateChanged(t,n,s)}function UR(r){return ae(r).signOut()}const dh="__sak";class JT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const PR=1e3,kR=10;class ZT extends JT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);Ww()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,kR):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},PR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}ZT.type="LOCAL";const op=ZT;class WT extends JT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}WT.type="SESSION";const tA=WT;function LR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Oh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Oh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(d).map(async y=>y(n.origin,u)),_=await LR(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:_})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];function lp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class xR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((p,_)=>{const y=lp("",20);o.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(S){const D=S;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(D.data.response);break;default:clearTimeout(T),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ci(){return window}function zR(r){Ci().location.href=r}function eA(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function BR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qR(){return navigator?.serviceWorker?.controller||null}function HR(){return eA()?self:null}const nA="firebaseLocalStorageDb",jR=1,mh="firebaseLocalStorage",iA="fbase_key";class au{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nh(r,t){return r.transaction([mh],t?"readwrite":"readonly").objectStore(mh)}function FR(){const r=indexedDB.deleteDatabase(nA);return new au(r).toPromise()}function Rm(){const r=indexedDB.open(nA,jR);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(mh,{keyPath:iA})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(mh)?t(s):(s.close(),await FR(),t(await Rm()))})})}async function Wv(r,t,n){const s=Nh(r,!0).put({[iA]:t,value:n});return new au(s).toPromise()}async function GR(r,t){const n=Nh(r,!1).get(t),s=await new au(n).toPromise();return s===void 0?null:s.value}function tE(r,t){const n=Nh(r,!0).delete(t);return new au(n).toPromise()}const KR=800,QR=3;class rA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>QR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(HR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await BR(),!this.activeServiceWorker)return;this.sender=new xR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||qR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Rm();return await Wv(t,dh,"1"),await tE(t,dh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Wv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>GR(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>tE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Nh(o,!1).getAll();return new au(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rA.type="LOCAL";const YR=rA;new iu(3e4,6e4);function XR(r,t){return t?er(t):(dt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class up extends sp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ro(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ro(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ro(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function $R(r){return YT(r.auth,new up(r),r.bypassAuthState)}function JR(r){const{auth:t,user:n}=r;return dt(n,t,"internal-error"),IR(n,new up(r),r.bypassAuthState)}async function ZR(r){const{auth:t,user:n}=r;return dt(n,t,"internal-error"),RR(n,new up(r),r.bypassAuthState)}class sA{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return $R;case"linkViaPopup":case"linkViaRedirect":return ZR;case"reauthViaPopup":case"reauthViaRedirect":return JR;default:ti(this.auth,"internal-error")}}resolve(t){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const WR=new iu(2e3,1e4);class eo extends sA{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,eo.currentPopupAction&&eo.currentPopupAction.cancel(),eo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return dt(t,this.auth,"internal-error"),t}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const t=lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,WR.get())};t()}}eo.currentPopupAction=null;const tI="pendingRedirect",Wc=new Map;class eI extends sA{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Wc.get(this.auth._key());if(!t){try{const s=await nI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Wc.set(this.auth._key(),t)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nI(r,t){const n=sI(t),s=rI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function iI(r,t){Wc.set(r._key(),t)}function rI(r){return er(r._redirectPersistence)}function sI(r){return Zc(tI,r.config.apiKey,r.name)}async function aI(r,t,n=!1){if(An(r.app))return Promise.reject(ir(r));const s=na(r),o=XR(s,t),d=await new eI(s,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const oI=600*1e3;class lI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!uI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!aA(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ii(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=oI&&this.cachedEventUids.clear(),this.cachedEventUids.has(eE(t))}saveEventToCache(t){this.cachedEventUids.add(eE(t)),this.lastProcessedEventTime=Date.now()}}function eE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function aA({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function uI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aA(r);default:return!1}}async function cI(r,t={}){return us(r,"GET","/v1/projects",t)}const hI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fI=/^https?/;async function dI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await cI(r);for(const n of t)try{if(mI(n))return}catch{}ti(r,"unauthorized-domain")}function mI(r){const t=Sm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!fI.test(n))return!1;if(hI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const pI=new iu(3e4,6e4);function nE(){const r=Ci().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function gI(r){return new Promise((t,n)=>{function s(){nE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nE(),n(Ii(r,"network-request-failed"))},timeout:pI.get()})}if(Ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ci().gapi?.load)s();else{const o=lR("iframefcb");return Ci()[o]=()=>{gapi.load?s():n(Ii(r,"network-request-failed"))},jT(`${oR()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw th=null,t})}let th=null;function _I(r){return th=th||gI(r),th}const yI=new iu(5e3,15e3),vI="__/auth/iframe",EI="emulator/auth/iframe",TI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SI(r){const t=r.config;dt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?np(t,EI):`https://${r.config.authDomain}/${vI}`,s={apiKey:t.apiKey,appName:r.name,v:ea},o=AI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${nu(s).slice(1)}`}async function bI(r){const t=await _I(r),n=Ci().gapi;return dt(n,r,"internal-error"),t.open({where:document.body,url:SI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const d=Ii(r,"network-request-failed"),p=Ci().setTimeout(()=>{u(d)},yI.get());function _(){Ci().clearTimeout(p),o(s)}s.ping(_).then(_,()=>{u(d)})}))}const wI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RI=500,II=600,CI="_blank",DI="http://localhost";class iE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OI(r,t,n,s=RI,o=II){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const _={...wI,width:s.toString(),height:o.toString(),top:u,left:d},y=Ze().toLowerCase();n&&(p=kT(y)?CI:n),UT(y)&&(t=t||DI,_.scrollbars="yes");const T=Object.entries(_).reduce((D,[H,$])=>`${D}${H}=${$},`,"");if(Zw(y)&&p!=="_self")return NI(t||"",p),new iE(null);const S=window.open(t||"",p,T);dt(S,r,"popup-blocked");try{S.focus()}catch{}return new iE(S)}function NI(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const MI="__/auth/handler",VI="emulator/auth/handler",UI=encodeURIComponent("fac");async function rE(r,t,n,s,o,u){dt(r.config.authDomain,r,"auth-domain-config-required"),dt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ea,eventId:o};if(t instanceof KT){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",E1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(t instanceof su){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const _=await r._getAppCheckToken(),y=_?`#${UI}=${encodeURIComponent(_)}`:"";return`${PI(r)}?${nu(p).slice(1)}${y}`}function PI({config:r}){return r.emulator?np(r,VI):`https://${r.authDomain}/${MI}`}const lm="webStorageSupport";class kI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tA,this._completeRedirectFn=aI,this._overrideRedirectResult=iI}async _openPopup(t,n,s,o){ar(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await rE(t,n,s,Sm(),o);return OI(t,u,lp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await rE(t,n,s,Sm(),o);return zR(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ar(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await bI(t),s=new lI(t);return n.register("authEvent",o=>(dt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(lm,{type:lm},o=>{const u=o?.[0]?.[lm];u!==void 0&&n(!!u),ti(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return qT()||PT()||rp()}}const LI=kI;var sE="@firebase/auth",aE="1.12.0";class xI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BI(r){Xs(new ts("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;dt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HT(r)},y=new rR(s,o,u,_);return mR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Xs(new ts("auth-internal",t=>{const n=na(t.getProvider("auth").getImmediate());return(s=>new xI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ri(sE,aE,zI(r)),Ri(sE,aE,"esm2020")}const qI=300,HI=vT("authIdTokenMaxAge")||qI;let oE=null;const jI=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>HI)return;const o=n?.token;oE!==o&&(oE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function FI(r=tp()){const t=Ch(r,"auth");if(t.isInitialized())return t.getImmediate();const n=dR(r,{popupRedirectResolver:LI,persistence:[YR,op,tA]}),s=vT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=jI(u.toString());MR(n,d,()=>d(n.currentUser)),NR(n,p=>d(p))}}const o=gT("auth");return o&&pR(n,`http://${o}`),n}function GI(){return document.getElementsByTagName("head")?.[0]??document}sR({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Ii("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",GI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BI("Browser");var KI="firebase",QI="12.8.0";Ri(KI,QI,"app");const YI={apiKey:"AIzaSyDooigbginaGtCiKmadDK5MCKYbSCtSkuk",authDomain:"prsm-allergy.firebaseapp.com",projectId:"prsm-allergy",storageBucket:"prsm-allergy.firebasestorage.app",messagingSenderId:"475135250168",appId:"1:475135250168:web:047174e5b8317ba342350d"},cp=ST(YI);var lE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zr,oA;(function(){var r;function t(I,b){function C(){}C.prototype=b.prototype,I.F=b.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,N,P){for(var w=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)w[ne-2]=arguments[ne];return b.prototype[N].apply(V,w)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,b,C){C||(C=0);const V=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)V[N]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=I.g[0],C=I.g[1],N=I.g[2];let P=I.g[3],w;w=b+(P^C&(N^P))+V[0]+3614090360&4294967295,b=C+(w<<7&4294967295|w>>>25),w=P+(N^b&(C^N))+V[1]+3905402710&4294967295,P=b+(w<<12&4294967295|w>>>20),w=N+(C^P&(b^C))+V[2]+606105819&4294967295,N=P+(w<<17&4294967295|w>>>15),w=C+(b^N&(P^b))+V[3]+3250441966&4294967295,C=N+(w<<22&4294967295|w>>>10),w=b+(P^C&(N^P))+V[4]+4118548399&4294967295,b=C+(w<<7&4294967295|w>>>25),w=P+(N^b&(C^N))+V[5]+1200080426&4294967295,P=b+(w<<12&4294967295|w>>>20),w=N+(C^P&(b^C))+V[6]+2821735955&4294967295,N=P+(w<<17&4294967295|w>>>15),w=C+(b^N&(P^b))+V[7]+4249261313&4294967295,C=N+(w<<22&4294967295|w>>>10),w=b+(P^C&(N^P))+V[8]+1770035416&4294967295,b=C+(w<<7&4294967295|w>>>25),w=P+(N^b&(C^N))+V[9]+2336552879&4294967295,P=b+(w<<12&4294967295|w>>>20),w=N+(C^P&(b^C))+V[10]+4294925233&4294967295,N=P+(w<<17&4294967295|w>>>15),w=C+(b^N&(P^b))+V[11]+2304563134&4294967295,C=N+(w<<22&4294967295|w>>>10),w=b+(P^C&(N^P))+V[12]+1804603682&4294967295,b=C+(w<<7&4294967295|w>>>25),w=P+(N^b&(C^N))+V[13]+4254626195&4294967295,P=b+(w<<12&4294967295|w>>>20),w=N+(C^P&(b^C))+V[14]+2792965006&4294967295,N=P+(w<<17&4294967295|w>>>15),w=C+(b^N&(P^b))+V[15]+1236535329&4294967295,C=N+(w<<22&4294967295|w>>>10),w=b+(N^P&(C^N))+V[1]+4129170786&4294967295,b=C+(w<<5&4294967295|w>>>27),w=P+(C^N&(b^C))+V[6]+3225465664&4294967295,P=b+(w<<9&4294967295|w>>>23),w=N+(b^C&(P^b))+V[11]+643717713&4294967295,N=P+(w<<14&4294967295|w>>>18),w=C+(P^b&(N^P))+V[0]+3921069994&4294967295,C=N+(w<<20&4294967295|w>>>12),w=b+(N^P&(C^N))+V[5]+3593408605&4294967295,b=C+(w<<5&4294967295|w>>>27),w=P+(C^N&(b^C))+V[10]+38016083&4294967295,P=b+(w<<9&4294967295|w>>>23),w=N+(b^C&(P^b))+V[15]+3634488961&4294967295,N=P+(w<<14&4294967295|w>>>18),w=C+(P^b&(N^P))+V[4]+3889429448&4294967295,C=N+(w<<20&4294967295|w>>>12),w=b+(N^P&(C^N))+V[9]+568446438&4294967295,b=C+(w<<5&4294967295|w>>>27),w=P+(C^N&(b^C))+V[14]+3275163606&4294967295,P=b+(w<<9&4294967295|w>>>23),w=N+(b^C&(P^b))+V[3]+4107603335&4294967295,N=P+(w<<14&4294967295|w>>>18),w=C+(P^b&(N^P))+V[8]+1163531501&4294967295,C=N+(w<<20&4294967295|w>>>12),w=b+(N^P&(C^N))+V[13]+2850285829&4294967295,b=C+(w<<5&4294967295|w>>>27),w=P+(C^N&(b^C))+V[2]+4243563512&4294967295,P=b+(w<<9&4294967295|w>>>23),w=N+(b^C&(P^b))+V[7]+1735328473&4294967295,N=P+(w<<14&4294967295|w>>>18),w=C+(P^b&(N^P))+V[12]+2368359562&4294967295,C=N+(w<<20&4294967295|w>>>12),w=b+(C^N^P)+V[5]+4294588738&4294967295,b=C+(w<<4&4294967295|w>>>28),w=P+(b^C^N)+V[8]+2272392833&4294967295,P=b+(w<<11&4294967295|w>>>21),w=N+(P^b^C)+V[11]+1839030562&4294967295,N=P+(w<<16&4294967295|w>>>16),w=C+(N^P^b)+V[14]+4259657740&4294967295,C=N+(w<<23&4294967295|w>>>9),w=b+(C^N^P)+V[1]+2763975236&4294967295,b=C+(w<<4&4294967295|w>>>28),w=P+(b^C^N)+V[4]+1272893353&4294967295,P=b+(w<<11&4294967295|w>>>21),w=N+(P^b^C)+V[7]+4139469664&4294967295,N=P+(w<<16&4294967295|w>>>16),w=C+(N^P^b)+V[10]+3200236656&4294967295,C=N+(w<<23&4294967295|w>>>9),w=b+(C^N^P)+V[13]+681279174&4294967295,b=C+(w<<4&4294967295|w>>>28),w=P+(b^C^N)+V[0]+3936430074&4294967295,P=b+(w<<11&4294967295|w>>>21),w=N+(P^b^C)+V[3]+3572445317&4294967295,N=P+(w<<16&4294967295|w>>>16),w=C+(N^P^b)+V[6]+76029189&4294967295,C=N+(w<<23&4294967295|w>>>9),w=b+(C^N^P)+V[9]+3654602809&4294967295,b=C+(w<<4&4294967295|w>>>28),w=P+(b^C^N)+V[12]+3873151461&4294967295,P=b+(w<<11&4294967295|w>>>21),w=N+(P^b^C)+V[15]+530742520&4294967295,N=P+(w<<16&4294967295|w>>>16),w=C+(N^P^b)+V[2]+3299628645&4294967295,C=N+(w<<23&4294967295|w>>>9),w=b+(N^(C|~P))+V[0]+4096336452&4294967295,b=C+(w<<6&4294967295|w>>>26),w=P+(C^(b|~N))+V[7]+1126891415&4294967295,P=b+(w<<10&4294967295|w>>>22),w=N+(b^(P|~C))+V[14]+2878612391&4294967295,N=P+(w<<15&4294967295|w>>>17),w=C+(P^(N|~b))+V[5]+4237533241&4294967295,C=N+(w<<21&4294967295|w>>>11),w=b+(N^(C|~P))+V[12]+1700485571&4294967295,b=C+(w<<6&4294967295|w>>>26),w=P+(C^(b|~N))+V[3]+2399980690&4294967295,P=b+(w<<10&4294967295|w>>>22),w=N+(b^(P|~C))+V[10]+4293915773&4294967295,N=P+(w<<15&4294967295|w>>>17),w=C+(P^(N|~b))+V[1]+2240044497&4294967295,C=N+(w<<21&4294967295|w>>>11),w=b+(N^(C|~P))+V[8]+1873313359&4294967295,b=C+(w<<6&4294967295|w>>>26),w=P+(C^(b|~N))+V[15]+4264355552&4294967295,P=b+(w<<10&4294967295|w>>>22),w=N+(b^(P|~C))+V[6]+2734768916&4294967295,N=P+(w<<15&4294967295|w>>>17),w=C+(P^(N|~b))+V[13]+1309151649&4294967295,C=N+(w<<21&4294967295|w>>>11),w=b+(N^(C|~P))+V[4]+4149444226&4294967295,b=C+(w<<6&4294967295|w>>>26),w=P+(C^(b|~N))+V[11]+3174756917&4294967295,P=b+(w<<10&4294967295|w>>>22),w=N+(b^(P|~C))+V[2]+718787259&4294967295,N=P+(w<<15&4294967295|w>>>17),w=C+(P^(N|~b))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+P&4294967295}s.prototype.v=function(I,b){b===void 0&&(b=I.length);const C=b-this.blockSize,V=this.C;let N=this.h,P=0;for(;P<b;){if(N==0)for(;P<=C;)o(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<b;)if(V[N++]=I.charCodeAt(P++),N==this.blockSize){o(this,V),N=0;break}}else for(;P<b;)if(V[N++]=I[P++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=b},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[b++]=this.g[C]>>>V&255;return I};function u(I,b){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=b(I)}function d(I,b){this.h=b;const C=[];let V=!0;for(let N=I.length-1;N>=0;N--){const P=I[N]|0;V&&P==b||(C[N]=P,V=!1)}this.g=C}var p={};function _(I){return-128<=I&&I<128?u(I,function(b){return new d([b|0],b<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return J(y(-I));const b=[];let C=1;for(let V=0;I>=C;V++)b[V]=I/C|0,C*=4294967296;return new d(b,0)}function T(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return J(T(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(b,8));let V=S;for(let P=0;P<I.length;P+=8){var N=Math.min(8,I.length-P);const w=parseInt(I.substring(P,P+N),b);N<8?(N=y(Math.pow(b,N)),V=V.j(N).add(y(w))):(V=V.j(C),V=V.add(y(w)))}return V}var S=_(0),D=_(1),H=_(16777216);r=d.prototype,r.m=function(){if(W(this))return-J(this).m();let I=0,b=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*b,b*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if($(this))return"0";if(W(this))return"-"+J(this).toString(I);const b=y(Math.pow(I,6));var C=this;let V="";for(;;){const N=At(C,b).g;C=ot(C,N.j(b));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,$(C))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function $(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function W(I){return I.h==-1}r.l=function(I){return I=ot(this,I),W(I)?-1:$(I)?0:1};function J(I){const b=I.g.length,C=[];for(let V=0;V<b;V++)C[V]=~I.g[V];return new d(C,~I.h).add(D)}r.abs=function(){return W(this)?J(this):this},r.add=function(I){const b=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let N=0;N<=b;N++){let P=V+(this.i(N)&65535)+(I.i(N)&65535),w=(P>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=w>>>16,P&=65535,w&=65535,C[N]=w<<16|P}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ot(I,b){return I.add(J(b))}r.j=function(I){if($(this)||$(I))return S;if(W(this))return W(I)?J(this).j(J(I)):J(J(this).j(I));if(W(I))return J(this.j(J(I)));if(this.l(H)<0&&I.l(H)<0)return y(this.m()*I.m());const b=this.g.length+I.g.length,C=[];for(var V=0;V<2*b;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const P=this.i(V)>>>16,w=this.i(V)&65535,ne=I.i(N)>>>16,Oe=I.i(N)&65535;C[2*V+2*N]+=w*Oe,pt(C,2*V+2*N),C[2*V+2*N+1]+=P*Oe,pt(C,2*V+2*N+1),C[2*V+2*N+1]+=w*ne,pt(C,2*V+2*N+1),C[2*V+2*N+2]+=P*ne,pt(C,2*V+2*N+2)}for(I=0;I<b;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=b;I<2*b;I++)C[I]=0;return new d(C,0)};function pt(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function ct(I,b){this.g=I,this.h=b}function At(I,b){if($(b))throw Error("division by zero");if($(I))return new ct(S,S);if(W(I))return b=At(J(I),b),new ct(J(b.g),J(b.h));if(W(b))return b=At(I,J(b)),new ct(J(b.g),b.h);if(I.g.length>30){if(W(I)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var C=D,V=b;V.l(I)<=0;)C=$t(C),V=$t(V);var N=It(C,1),P=It(V,1);for(V=It(V,2),C=It(C,2);!$(V);){var w=P.add(V);w.l(I)<=0&&(N=N.add(C),P=w),V=It(V,1),C=It(C,1)}return b=ot(I,N.j(b)),new ct(N,b)}for(N=S;I.l(b)>=0;){for(C=Math.max(1,Math.floor(I.m()/b.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=y(C),w=P.j(b);W(w)||w.l(I)>0;)C-=V,P=y(C),w=P.j(b);$(P)&&(P=D),N=N.add(P),I=ot(I,w)}return new ct(N,I)}r.B=function(I){return At(this,I).h},r.and=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},r.or=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},r.xor=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function $t(I){const b=I.g.length+1,C=[];for(let V=0;V<b;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function It(I,b){const C=b>>5;b%=32;const V=I.g.length-C,N=[];for(let P=0;P<V;P++)N[P]=b>0?I.i(P+C)>>>b|I.i(P+C+1)<<32-b:I.i(P+C);return new d(N,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,oA=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Zr=d}).apply(typeof lE<"u"?lE:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lA,Vl,uA,eh,Im,cA,hA,fA;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,m){if(m)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var k=c[A];if(!(k in v))break t;v=v[k]}c=c[c.length-1],A=v[c],m=m(A),m!=A&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var u=u||{},d=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function _(c,m,v){return c.call.apply(c.bind,arguments)}function y(c,m,v){return y=_,y.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,k,B){for(var Z=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)Z[Et-2]=arguments[Et];return m.prototype[k].apply(A,Z)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function H(c){const m=c.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=c[A];return v}return[]}function $(c,m){for(let A=1;A<arguments.length;A++){const k=arguments[A];var v=typeof k;if(v=v!="object"?v:k?Array.isArray(k)?"array":v:"null",v=="array"||v=="object"&&typeof k.length=="number"){v=c.length||0;const B=k.length||0;c.length=v+B;for(let Z=0;Z<B;Z++)c[v+Z]=k[Z]}else c.push(k)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(c){d.setTimeout(()=>{throw c},0)}function ot(){var c=I;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class pt{constructor(){this.h=this.g=null}add(m,v){const A=ct.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ct=new W(()=>new At,c=>c.reset());class At{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let $t,It=!1,I=new pt,b=()=>{const c=Promise.resolve(void 0);$t=()=>{c.then(C)}};function C(){for(var c;c=ot();){try{c.h.call(c.g)}catch(v){J(v)}var m=ct;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}It=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function w(c){return/^[\s\xa0]*$/.test(c)}function ne(c,m){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(ne,N),ne.prototype.init=function(c,m){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Oe="closure_listenable_"+(Math.random()*1e6|0),F=0;function tt(c,m,v,A,k){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=k,this.key=++F,this.da=this.fa=!1}function ht(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function kt(c,m,v){for(const A in c)m.call(v,c[A],A,c)}function Ht(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(c,m){let v,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(v in A)c[v]=A[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function rt(c){this.src=c,this.g={},this.h=0}rt.prototype.add=function(c,m,v,A,k){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const Z=St(c,m,A,k);return Z>-1?(m=c[Z],v||(m.fa=!1)):(m=new tt(m,this.src,B,!!A,k),m.fa=v,c.push(m)),m};function gt(c,m){const v=m.type;if(v in c.g){var A=c.g[v],k=Array.prototype.indexOf.call(A,m,void 0),B;(B=k>=0)&&Array.prototype.splice.call(A,k,1),B&&(ht(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function St(c,m,v,A){for(let k=0;k<c.length;++k){const B=c[k];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==A)return k}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Ne={};function ie(c,m,v,A,k){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ie(c,m[B],v,A,k);return null}return v=wo(v),c&&c[Oe]?c.J(m,v,p(A)?!!A.capture:!1,k):fs(c,m,v,!1,A,k)}function fs(c,m,v,A,k,B){if(!m)throw Error("Invalid event type");const Z=p(k)?!!k.capture:!!k;let Et=ds(c);if(Et||(c[Ut]=Et=new rt(c)),v=Et.add(m,v,A,Z,B),v.proxy)return v;if(A=oa(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)P||(k=Z),k===void 0&&(k=!1),c.addEventListener(m.toString(),A,k);else if(c.attachEvent)c.attachEvent(ni(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function oa(){function c(v){return m.call(c.src,c.listener,v)}const m=So;return c}function la(c,m,v,A,k){if(Array.isArray(m))for(var B=0;B<m.length;B++)la(c,m[B],v,A,k);else A=p(A)?!!A.capture:!!A,v=wo(v),c&&c[Oe]?(c=c.i,B=String(m).toString(),B in c.g&&(m=c.g[B],v=St(m,v,A,k),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[B],c.h--)))):c&&(c=ds(c))&&(m=c.g[m.toString()],c=-1,m&&(c=St(m,v,A,k)),(v=c>-1?m[c]:null)&&ua(v))}function ua(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Oe])gt(m.i,c);else{var v=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(v,A,c.capture):m.detachEvent?m.detachEvent(ni(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=ds(m))?(gt(v,c),v.h==0&&(v.src=null,m[Ut]=null)):ht(c)}}}function ni(c){return c in Ne?Ne[c]:Ne[c]="on"+c}function So(c,m){if(c.da)c=!0;else{m=new ne(m,this);const v=c.listener,A=c.ha||c.src;c.fa&&ua(c),c=v.call(A,m)}return c}function ds(c){return c=c[Ut],c instanceof rt?c:null}var bo="__closure_events_fn_"+(Math.random()*1e9>>>0);function wo(c){return typeof c=="function"?c:(c[bo]||(c[bo]=function(m){return c.handleEvent(m)}),c[bo])}function _e(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}S(_e,V),_e.prototype[Oe]=!0,_e.prototype.removeEventListener=function(c,m,v,A){la(this,c,m,v,A)};function Me(c,m){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new N(m,c);else if(m instanceof N)m.target=m.target||c;else{var k=m;m=new N(A,c),et(m,k)}k=!0;let B,Z;if(v)for(Z=v.length-1;Z>=0;Z--)B=m.g=v[Z],k=cr(B,A,!0,m)&&k;if(B=m.g=c,k=cr(B,A,!0,m)&&k,k=cr(B,A,!1,m)&&k,v)for(Z=0;Z<v.length;Z++)B=m.g=v[Z],k=cr(B,A,!1,m)&&k}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let A=0;A<v.length;A++)ht(v[A]);delete c.g[m],c.h--}}this.G=null},_e.prototype.J=function(c,m,v,A){return this.i.add(String(c),m,!1,v,A)},_e.prototype.K=function(c,m,v,A){return this.i.add(String(c),m,!0,v,A)};function cr(c,m,v,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let k=!0;for(let B=0;B<m.length;++B){const Z=m[B];if(Z&&!Z.da&&Z.capture==v){const Et=Z.listener,de=Z.ha||Z.src;Z.fa&&gt(c.i,Z),k=Et.call(de,A)!==!1&&k}}return k&&!A.defaultPrevented}function Jh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function mu(c){c.g=Jh(()=>{c.g=null,c.i&&(c.i=!1,mu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class We extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:mu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(c){V.call(this),this.h=c,this.g={}}S(ms,V);var Ro=[];function Io(c){kt(c.g,function(m,v){this.g.hasOwnProperty(v)&&ua(m)},c),c.g={}}ms.prototype.N=function(){ms.Z.N.call(this),Io(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hr=d.JSON.stringify,Zh=d.JSON.parse,pu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function gu(){}function _u(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){N.call(this,"d")}S(ze,N);function wn(){N.call(this,"c")}S(wn,N);var fe={},yu=null;function ca(){return yu=yu||new _e}fe.Ia="serverreachability";function vu(c){N.call(this,fe.Ia,c)}S(vu,N);function ii(c){const m=ca();Me(m,new vu(m))}fe.STAT_EVENT="statevent";function ps(c,m){N.call(this,fe.STAT_EVENT,c),this.stat=m}S(ps,N);function ye(c){const m=ca();Me(m,new ps(m,c))}fe.Ja="timingevent";function ri(c,m){N.call(this,fe.Ja,c),this.size=m}S(ri,N);function si(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Wh(c,m,v,A,k,B){c.info(function(){if(c.g)if(B){var Z="",Et=B.split("&");for(let zt=0;zt<Et.length;zt++){var de=Et[zt].split("=");if(de.length>1){const re=de[0];de=de[1];const Dn=re.split("_");Z=Dn.length>=2&&Dn[1]=="type"?Z+(re+"="+de+"&"):Z+(re+"=redacted&")}}}else Z=null;else Z=B;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+m+`
`+v+`
`+Z})}function Eu(c,m,v,A,k,B,Z){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+m+`
`+v+`
`+B+" "+Z})}function ai(c,m,v,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+tf(c,v)+(A?" "+A:"")})}function gs(c,m){c.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function tf(c,m){if(!c.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var v=B[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var k=A[0];if(k!="noop"&&k!="stop"&&k!="close")for(let Z=1;Z<A.length;Z++)A[Z]=""}}}}return hr(B)}catch{return m}}var _s={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Do;function ys(){}S(ys,gu),ys.prototype.g=function(){return new XMLHttpRequest},Do=new ys;function Pi(c){return encodeURIComponent(String(c))}function Tu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function qn(c,m,v,A){this.j=c,this.i=m,this.l=v,this.S=A||1,this.V=new ms(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var ve={},Pe={};function oi(c,m,v){c.M=1,c.A=vs(Te(m)),c.u=v,c.R=!0,ha(c,null)}function ha(c,m){c.F=Date.now(),li(c),c.B=Te(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),pa(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Hn,c.g=ku(c.j,v?m:null,!c.u),c.P>0&&(c.O=new We(y(c.Y,c,c.g),c.P)),m=c.V,v=c.g,A=c.ba;var k="readystatechange";Array.isArray(k)||(k&&(Ro[0]=k.toString()),k=Ro);for(let B=0;B<k.length;B++){const Z=ie(v,k[B],A||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ii(),Wh(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Gn(c)==3?m.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)t:{const Et=Gn(this.g),de=this.g.ya(),zt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||Et!=4||de==7||(de==8||zt<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=ef(this);if(this.o=m==200,Eu(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,k=this.g;if((A=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(A)){var B=A;break e}}B=null}if(c=B)ai(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,c);else{this.o=!1,this.m=3,ye(12),dn(this),Rn(this);break t}}if(this.R){c=!0;let re;for(;!this.K&&this.C<v.length;)if(re=Su(this,v),re==Pe){Et==4&&(this.m=4,ye(14),c=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(re==ve){this.m=4,ye(15),ai(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ai(this.i,this.l,re,null),ci(this,re);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||v.length!=0||this.h.h||(this.m=1,ye(16),c=!1),this.o=this.o&&c,!c)ai(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Fo(Z),Z.P=!0,ye(11))}}else ai(this.i,this.l,v,null),ci(this,v);Et==4&&dn(this),this.o&&!this.K&&(Et==4?Mu(this.j,this):(this.o=!1,li(this)))}else Li(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),dn(this),Rn(this)}}}catch{}};function ef(c){if(!Au(c))return c.g.la();const m=Be(c.g);if(m==="")return"";let v="";const A=m.length,k=Gn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),Rn(c),"";c.h.i=new d.TextDecoder}for(let B=0;B<A;B++)c.h.h=!0,v+=c.h.i.decode(m[B],{stream:!(k&&B==A-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function Au(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Su(c,m){var v=c.C,A=m.indexOf(`
`,v);return A==-1?Pe:(v=Number(m.substring(v,A)),isNaN(v)?ve:(A+=1,A+v>m.length?Pe:(m=m.slice(A,A+v),c.C=A+v,m)))}qn.prototype.cancel=function(){this.K=!0,dn(this)};function li(c){c.T=Date.now()+c.H,fa(c,c.H)}function fa(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=si(y(c.aa,c),m)}function ui(c){c.D&&(d.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(gs(this.i,this.B),this.M!=2&&(ii(),ye(17)),dn(this),this.m=2,Rn(this)):fa(this,this.T-c)};function Rn(c){c.j.I==0||c.K||Mu(c.j,c)}function dn(c){ui(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Io(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function ci(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||fi(v.h,c))){if(!c.L&&fi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ea(v),vr(v);else break t;Rs(v),ye(18)}}else v.xa=k[1],0<v.xa-v.K&&k[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=si(y(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else yi(v,11)}else if((c.L||v.g==c)&&Ea(v),!w(m))for(k=v.Ba.g.parse(m),m=0;m<k.length;m++){let zt=k[m];const re=zt[0];if(!(re<=v.K))if(v.K=re,zt=zt[1],v.I==2)if(zt[0]=="c"){v.M=zt[1],v.ba=zt[2];const Dn=zt[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const vi=zt[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Kn=zt[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(A=1.5*Kn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Qn=c.g;if(Qn){const Is=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Is){var B=A.h;B.g||Is.indexOf("spdy")==-1&&Is.indexOf("quic")==-1&&Is.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Mo(B,B.h),B.h=null))}if(A.G){const Ta=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ta&&(A.wa=Ta,jt(A.J,A.G,Ta))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var Z=c;if(A.na=Pu(A,A.L?A.ba:null,A.W),Z.L){Vo(A.h,Z);var Et=Z,de=A.O;de&&(Et.H=de),Et.D&&(ui(Et),li(Et)),A.g=Z}else Ou(A);v.i.length>0&&_i(v)}else zt[0]!="stop"&&zt[0]!="close"||yi(v,7);else v.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?yi(v,7):Ho(v):zt[0]!="noop"&&v.l&&v.l.qa(zt),v.A=0)}}ii(4)}catch{}}var Ee=class{constructor(c,m){this.g=c,this.map=m}};function Oo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function No(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hi(c){return c.h?1:c.g?c.g.size:0}function fi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Mo(c,m){c.g?c.g.add(m):c.h=m}function Vo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Oo.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return H(c.i)}var bu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let k,B=null;A>=0?(k=c[v].substring(0,A),B=c[v].substring(A+1)):k=c[v],m(k,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof mn?(this.l=c.l,ke(this,c.j),this.o=c.o,this.g=c.g,fr(this,c.u),this.h=c.h,Po(this,Cu(c.i)),this.m=c.m):c&&(m=String(c).match(bu))?(this.l=!1,ke(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),fr(this,m[4]),this.h=di(m[5]||"",!0),Po(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new mr(null,this.l))}mn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Es(m,ma,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Es(m,ma,!0),"@"),c.push(Pi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Es(v,v.charAt(0)=="/"?ko:wu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Es(v,Ru)),c.join("")},mn.prototype.resolve=function(c){const m=Te(this);let v=!!c.j;v?ke(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var A=c.h;if(v)fr(m,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var k=m.h.lastIndexOf("/");k!=-1&&(A=m.h.slice(0,k+1)+A)}if(k=A,k==".."||k==".")A="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){A=k.lastIndexOf("/",0)==0,k=k.split("/");const B=[];for(let Z=0;Z<k.length;){const Et=k[Z++];Et=="."?A&&Z==k.length&&B.push(""):Et==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&Z==k.length&&B.push("")):(B.push(Et),A=!0)}A=B.join("/")}else A=k}return v?m.h=A:v=c.i.toString()!=="",v?Po(m,Cu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Te(c){return new mn(c)}function ke(c,m,v){c.j=v?di(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function fr(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Po(c,m,v){m instanceof mr?(c.i=m,ga(c.i,c.l)):(v||(m=Es(m,dr)),c.i=new mr(m,c.l))}function jt(c,m,v){c.i.set(m,v)}function vs(c){return jt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function di(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Es(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ma=/[#\/\?@]/g,wu=/[#\?:]/g,ko=/[#\?]/g,dr=/[#\?@]/g,Ru=/#/g;function mr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&da(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=mr.prototype,r.add=function(c,m){sn(this),this.i=null,c=pr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Iu(c,m){sn(c),m=pr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Lo(c,m){return sn(c),m=pr(c,m),c.g.has(m)}r.forEach=function(c,m){sn(this),this.g.forEach(function(v,A){v.forEach(function(k){c.call(m,k,A,this)},this)},this)};function xo(c,m){sn(c);let v=[];if(typeof m=="string")Lo(c,m)&&(v=v.concat(c.g.get(pr(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}r.set=function(c,m){return sn(this),this.i=null,c=pr(this,c),Lo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=xo(this,c),c.length>0?String(c[0]):m):m};function pa(c,m,v){Iu(c,m),v.length>0&&(c.i=null,c.g.set(pr(c,m),H(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const k=Pi(v);v=xo(this,v);for(let B=0;B<v.length;B++){let Z=k;v[B]!==""&&(Z+="="+Pi(v[B])),c.push(Z)}}return this.i=c.join("&")};function Cu(c){const m=new mr;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function pr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ga(c,m){m&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(v,A){const k=A.toLowerCase();A!=k&&(Iu(this,A),pa(this,k,v))},c)),c.j=m}function jn(c,m){const v=new Bn;if(d.Image){const A=new Image;A.onload=T(In,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(In,v,"TestLoadImage: error",!1,m,A),A.onabort=T(In,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(In,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function zo(c,m){const v=new Bn,A=new AbortController,k=setTimeout(()=>{A.abort(),In(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(B=>{clearTimeout(k),B.ok?In(v,"TestPingServer: ok",!0,m):In(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),In(v,"TestPingServer: error",!1,m)})}function In(c,m,v,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(v)}catch{}}function gr(){this.g=new pu}function mi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(mi,gu),mi.prototype.g=function(){return new Ts(this.i,this.h)};function Ts(c,m){_e.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Ts,_e),r=Ts.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Fn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_r(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_a(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function _a(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?_r(this):Fn(this),this.readyState==3&&_a(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,_r(this))},r.Na=function(c){this.g&&(this.response=c,_r(this))},r.ga=function(){this.g&&_r(this)};function _r(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Fn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Fn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let m="";return kt(c,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function As(c,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Cn(v),typeof c=="string"?v!=null&&Pi(v):jt(c,m,v))}function Kt(c){_e.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Kt,_e);var pi=/^https?$/i,Bo=["POST","PUT"];r=Kt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Do.g(),this.g.onreadystatechange=D(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(B){Ss(this,B);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)v.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())v.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),k=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Bo,m,void 0)>=0)||A||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Z]of v)this.g.setRequestHeader(B,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){Ss(this,B)}};function Ss(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,qo(c),ki(c)}function qo(c){c.A||(c.A=!0,Me(c,"complete"),Me(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Me(this,"complete"),Me(this,"abort"),ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?bs(this):this.Xa())},r.Xa=function(){bs(this)};function bs(c){if(c.h&&typeof u<"u"){if(c.v&&Gn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Me(c,"readystatechange"),Gn(c)==4){c.h=!1;try{const B=c.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=B===0){let Z=String(c.D).match(bu)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),A=!pi.test(Z?Z.toLowerCase():"")}v=A}if(v)Me(c,"complete"),Me(c,"success");else{c.o=6;try{var k=Gn(c)>2?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.ca()+"]",qo(c)}}finally{ki(c)}}}}function ki(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Me(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Zh(m)}};function Be(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(c){const m={};c=(c.g&&Gn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(w(c[A]))continue;var v=Tu(c[A]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[k]||[];m[k]=B,B.push(v)}Ht(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function yr(c){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,c),this.Za=gi("retryDelaySeedMs",1e4,c),this.Ta=gi("forwardChannelMaxRetries",2,c),this.va=gi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Oo(c&&c.concurrentRequestLimit),this.Ba=new gr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=yr.prototype,r.ka=8,r.I=1,r.connect=function(c,m,v,A){ye(0),this.W=c,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Pu(this,null,this.W),_i(this)};function Ho(c){if(ya(c),c.I==3){var m=c.V++,v=Te(c.J);if(jt(v,"SID",c.M),jt(v,"RID",m),jt(v,"TYPE","terminate"),ws(c,v),m=new qn(c,c.j,m),m.M=2,m.A=vs(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=ku(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}Uu(c)}function vr(c){c.g&&(Fo(c),c.g.cancel(),c.g=null)}function ya(c){vr(c),c.v&&(d.clearTimeout(c.v),c.v=null),Ea(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function _i(c){if(!No(c.h)&&!c.m){c.m=!0;var m=c.Ea;$t||b(),It||($t(),It=!0),I.add(m,c),c.D=0}}function va(c,m){return hi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=si(y(c.Ea,c,m),Vu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const k=new qn(this,this.j,c);let B=this.o;if(this.U&&(B?(B=M(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(k.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Du(this,k,m),v=Te(this.J),jt(v,"RID",c),jt(v,"CVER",22),this.G&&jt(v,"X-HTTP-Session-Id",this.G),ws(this,v),B&&(this.R?m="headers="+Pi(Cn(B))+"&"+m:this.u&&As(v,this.u,B)),Mo(this.h,k),this.Ra&&jt(v,"TYPE","init"),this.S?(jt(v,"$req",m),jt(v,"SID","null"),k.U=!0,oi(k,v,null)):oi(k,v,m),this.I=2}}else this.I==3&&(c?jo(this,c):this.i.length==0||No(this.h)||jo(this))};function jo(c,m){var v;m?v=m.l:v=c.V++;const A=Te(c.J);jt(A,"SID",c.M),jt(A,"RID",v),jt(A,"AID",c.K),ws(c,A),c.u&&c.o&&As(A,c.u,c.o),v=new qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Du(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Mo(c.h,v),oi(v,A,m)}function ws(c,m){c.H&&kt(c.H,function(v,A){jt(m,A,v)}),c.l&&kt({},function(v,A){jt(m,A,v)})}function Du(c,m,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var k=c.i;let Et=-1;for(;;){const de=["count="+v];Et==-1?v>0?(Et=k[0].g,de.push("ofs="+Et)):Et=0:de.push("ofs="+Et);let zt=!0;for(let re=0;re<v;re++){var B=k[re].g;const Dn=k[re].map;if(B-=Et,B<0)Et=Math.max(0,k[re].g-100),zt=!1;else try{B="req"+B+"_"||"";try{var Z=Dn instanceof Map?Dn:Object.entries(Dn);for(const[vi,Kn]of Z){let Qn=Kn;p(Kn)&&(Qn=hr(Kn)),de.push(B+vi+"="+encodeURIComponent(Qn))}}catch(vi){throw de.push(B+"type="+encodeURIComponent("_badmap")),vi}}catch{A&&A(Dn)}}if(zt){Z=de.join("&");break t}}Z=void 0}return c=c.i.splice(0,v),m.G=c,Z}function Ou(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;$t||b(),It||($t(),It=!0),I.add(m,c),c.A=0}}function Rs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=si(y(c.Da,c),Vu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=si(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),vr(this),Nu(this))};function Fo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Nu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Te(c.na);jt(m,"RID","rpc"),jt(m,"SID",c.M),jt(m,"AID",c.K),jt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&jt(m,"TO",c.ia),jt(m,"TYPE","xmlhttp"),ws(c,m),c.u&&c.o&&As(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=vs(Te(m)),v.u=null,v.R=!0,ha(v,c)}r.Va=function(){this.C!=null&&(this.C=null,vr(this),Rs(this),ye(19))};function Ea(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Mu(c,m){var v=null;if(c.g==m){Ea(c),Fo(c),c.g=null;var A=2}else if(fi(c.h,m))v=m.G,Vo(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var k=c.D;A=ca(),Me(A,new ri(A,v)),_i(c)}else Ou(c);else if(k=m.m,k==3||k==0&&m.X>0||!(A==1&&va(c,m)||A==2&&Rs(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),k){case 1:yi(c,5);break;case 4:yi(c,10);break;case 3:yi(c,6);break;default:yi(c,2)}}}function Vu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function yi(c,m){if(c.j.info("Error code "+m),m==2){var v=y(c.bb,c),A=c.Ua;const k=!A;A=new mn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(A,"https"),vs(A),k?jn(A.toString(),v):zo(A.toString(),v)}else ye(2);c.I=0,c.l&&c.l.pa(m),Uu(c),ya(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Uu(c){if(c.I=0,c.ja=[],c.l){const m=Uo(c.h);(m.length!=0||c.i.length!=0)&&($(c.ja,m),$(c.ja,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.oa()}}function Pu(c,m,v){var A=v instanceof mn?Te(v):new mn(v);if(A.g!="")m&&(A.g=m+"."+A.g),fr(A,A.u);else{var k=d.location;A=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;const B=new mn(null);A&&ke(B,A),m&&(B.g=m),k&&fr(B,k),v&&(B.h=v),A=B}return v=c.G,m=c.wa,v&&m&&jt(A,v,m),jt(A,"VER",c.ka),ws(c,A),A}function ku(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Kt(new mi({ab:v})):new Kt(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lu(){}r=Lu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Er(){}Er.prototype.g=function(c,m){return new tn(c,m)};function tn(c,m){_e.call(this),this.g=new yr(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!w(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new xi(this)}S(tn,_e),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Ho(this.g)},tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=hr(c),c=v);m.i.push(new Ee(m.Ya++,c)),m.I==3&&_i(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,tn.Z.N.call(this)};function xu(c){ze.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(xu,ze);function zu(){wn.call(this),this.status=1}S(zu,wn);function xi(c){this.g=c}S(xi,Lu),xi.prototype.ra=function(){Me(this.g,"a")},xi.prototype.qa=function(c){Me(this.g,new xu(c))},xi.prototype.pa=function(c){Me(this.g,new zu)},xi.prototype.oa=function(){Me(this.g,"b")},Er.prototype.createWebChannel=Er.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,fA=function(){return new Er},hA=function(){return ca()},cA=fe,Im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_s.NO_ERROR=0,_s.TIMEOUT=8,_s.HTTP_ERROR=6,eh=_s,Co.COMPLETE="complete",uA=Co,_u.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Vl=_u,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,lA=Kt}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let _o="12.8.0";function XI(r){_o=r}const Zs=new Zm("@firebase/firestore");function Ja(){return Zs.logLevel}function it(r,...t){if(Zs.logLevel<=Ot.DEBUG){const n=t.map(hp);Zs.debug(`Firestore (${_o}): ${r}`,...n)}}function or(r,...t){if(Zs.logLevel<=Ot.ERROR){const n=t.map(hp);Zs.error(`Firestore (${_o}): ${r}`,...n)}}function lo(r,...t){if(Zs.logLevel<=Ot.WARN){const n=t.map(hp);Zs.warn(`Firestore (${_o}): ${r}`,...n)}}function hp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function mt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,dA(r,s,n)}function dA(r,t,n){let s=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw or(s),new Error(s)}function qt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||dA(t,o,s)}function vt(r,t){return r}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends Vi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class mA{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class $I{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n($e.UNAUTHENTICATED)))}shutdown(){}}class JI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ZI{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){qt(this.o===void 0,42304);let s=this.i;const o=_=>this.i!==s?(s=this.i,n(_)):Promise.resolve();let u=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new rr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=u;t.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new rr)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new mA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class WI{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class tC{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new WI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class uE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){qt(this.o===void 0,3512);const s=u=>{u.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new uE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new uE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function nC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class fp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=nC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Nt(r,t){return r<t?-1:r>t?1:0}function Cm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return um(o)===um(u)?Nt(o,u):um(o)?1:-1}return Nt(r.length,t.length)}const iC=55296,rC=57343;function um(r){const t=r.charCodeAt(0);return t>=iC&&t<=rC}function uo(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}const cE="__name__";class bi{constructor(t,n,s){n===void 0?n=0:n>t.length&&mt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&mt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return bi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof bi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=bi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Nt(t.length,n.length)}static compareSegments(t,n){const s=bi.isNumericId(t),o=bi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?bi.extractNumericId(t).compare(bi.extractNumericId(n)):Cm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zr.fromString(t.substring(4,t.length-2))}}class Zt extends bi{construct(t,n,s){return new Zt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new nt(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new Zt(n)}static emptyPath(){return new Zt([])}}const sC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends bi{construct(t,n,s){return new Ke(t,n,s)}static isValidIdentifier(t){return sC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cE}static keyField(){return new Ke([cE])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new nt(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new nt(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new nt(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(u(),o++)}if(u(),d)throw new nt(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(n)}static emptyPath(){return new Ke([])}}class ut{constructor(t){this.path=t}static fromPath(t){return new ut(Zt.fromString(t))}static fromName(t){return new ut(Zt.fromString(t).popFirst(5))}static empty(){return new ut(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Zt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Zt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new Zt(t.slice()))}}function pA(r,t,n){if(!n)throw new nt(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function aC(r,t,n,s){if(t===!0&&s===!0)throw new nt(K.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function hE(r){if(!ut.isDocumentKey(r))throw new nt(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function fE(r){if(ut.isDocumentKey(r))throw new nt(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function gA(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Mh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":mt(12329,{type:typeof r})}function lr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new nt(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mh(r);throw new nt(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function Ce(r,t){const n={typeString:r};return t&&(n.value=t),n}function ou(r,t){if(!gA(r))throw new nt(K.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new nt(K.INVALID_ARGUMENT,n);return!0}const dE=-62135596800,mE=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(t){return ee.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*mE);return new ee(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new nt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new nt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<dE)throw new nt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mE}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ou(t,ee._jsonSchema))return new ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-dE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:Ce("string",ee._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new ee(0,0))}static max(){return new _t(new ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ql=-1;function oC(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(s===1e9?new ee(n+1,0):new ee(n,s));return new es(o,ut.empty(),t)}function lC(r){return new es(r.readTime,r.key,Ql)}class es{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new es(_t.min(),ut.empty(),Ql)}static max(){return new es(_t.max(),ut.empty(),Ql)}}function uC(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ut.comparator(r.documentKey,t.documentKey),n!==0?n:Nt(r.largestBatchId,t.largestBatchId))}const cC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function yo(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==cC)throw r;it("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new X(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):X.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):X.reject(n)}static resolve(t){return new X(((n,s)=>{n(t)}))}static reject(t){return new X(((n,s)=>{s(t)}))}static waitFor(t){return new X(((n,s)=>{let o=0,u=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++u,d&&u===o&&n()}),(_=>s(_)))})),d=!0,u===o&&n()}))}static or(t){let n=X.resolve(!1);for(const s of t)n=n.next((o=>o?X.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new X(((s,o)=>{const u=t.length,d=new Array(u);let p=0;for(let _=0;_<u;_++){const y=_;n(t[y]).next((T=>{d[y]=T,++p,p===u&&s(d)}),(T=>o(T)))}}))}static doWhile(t,n){return new X(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function fC(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vo(r){return r.name==="IndexedDbTransactionError"}class Vh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Vh.ce=-1;const dp=-1;function Uh(r){return r==null}function ph(r){return r===0&&1/r==-1/0}function dC(r){return typeof r=="number"&&Number.isInteger(r)&&!ph(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const _A="";function mC(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=pE(t)),t=pC(r.get(n),t);return pE(t)}function pC(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case _A:n+="";break;default:n+=u}}return n}function pE(r){return r+_A+""}function gE(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function cs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function yA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class oe{constructor(t,n){this.comparator=t,this.root=n||Ge.EMPTY}insert(t,n){return new oe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Gc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Gc(this.root,t,this.comparator,!0)}}class Gc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Ge.RED,this.left=o??Ge.EMPTY,this.right=u??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Ge(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Ge(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new _E(this.data.getIterator())}getIteratorFrom(t){return new _E(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ue(this.comparator);return n.data=t,n}}class _E{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new Sn([])}unionWith(t){let n=new Ue(Ke.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Sn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return uo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class vA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new vA("Invalid base64 string: "+u):u}})(t);return new Qe(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(t);return new Qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const gC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const n=gC.exec(r);if(qt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function is(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const EA="server_timestamp",TA="__type__",AA="__previous_value__",SA="__local_write_time__";function mp(r){return(r?.mapValue?.fields||{})[TA]?.stringValue===EA}function Ph(r){const t=r.mapValue.fields[AA];return mp(t)?Ph(t):t}function Yl(r){const t=ns(r.mapValue.fields[SA].timestampValue);return new ee(t.seconds,t.nanos)}class _C{constructor(t,n,s,o,u,d,p,_,y,T,S){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=S}}const gh="(default)";class Xl{constructor(t,n){this.projectId=t,this.database=n||gh}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===gh}isEqual(t){return t instanceof Xl&&t.projectId===this.projectId&&t.database===this.database}}function yC(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new nt(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(r.options.projectId,t)}const bA="__type__",vC="__max__",Kc={mapValue:{}},wA="__vector__",_h="value";function rs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?mp(r)?4:TC(r)?9007199254740991:EC(r)?10:11:mt(28295,{value:r})}function Mi(r,t){if(r===t)return!0;const n=rs(r);if(n!==rs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Yl(r).isEqual(Yl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=ns(o.timestampValue),p=ns(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return is(o.bytesValue).isEqual(is(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return ge(o.geoPointValue.latitude)===ge(u.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ge(o.integerValue)===ge(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=ge(o.doubleValue),p=ge(u.doubleValue);return d===p?ph(d)===ph(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return uo(r.arrayValue.values||[],t.arrayValue.values||[],Mi);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},p=u.mapValue.fields||{};if(gE(d)!==gE(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Mi(d[_],p[_])))return!1;return!0})(r,t);default:return mt(52216,{left:r})}}function $l(r,t){return(r.values||[]).find((n=>Mi(n,t)))!==void 0}function co(r,t){if(r===t)return 0;const n=rs(r),s=rs(t);if(n!==s)return Nt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,t.booleanValue);case 2:return(function(u,d){const p=ge(u.integerValue||u.doubleValue),_=ge(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return yE(r.timestampValue,t.timestampValue);case 4:return yE(Yl(r),Yl(t));case 5:return Cm(r.stringValue,t.stringValue);case 6:return(function(u,d){const p=is(u),_=is(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(u,d){const p=u.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const T=Nt(p[y],_[y]);if(T!==0)return T}return Nt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,d){const p=Nt(ge(u.latitude),ge(d.latitude));return p!==0?p:Nt(ge(u.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return vE(r.arrayValue,t.arrayValue);case 10:return(function(u,d){const p=u.fields||{},_=d.fields||{},y=p[_h]?.arrayValue,T=_[_h]?.arrayValue,S=Nt(y?.values?.length||0,T?.values?.length||0);return S!==0?S:vE(y,T)})(r.mapValue,t.mapValue);case 11:return(function(u,d){if(u===Kc.mapValue&&d===Kc.mapValue)return 0;if(u===Kc.mapValue)return 1;if(d===Kc.mapValue)return-1;const p=u.fields||{},_=Object.keys(p),y=d.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let S=0;S<_.length&&S<T.length;++S){const D=Cm(_[S],T[S]);if(D!==0)return D;const H=co(p[_[S]],y[T[S]]);if(H!==0)return H}return Nt(_.length,T.length)})(r.mapValue,t.mapValue);default:throw mt(23264,{he:n})}}function yE(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Nt(r,t);const n=ns(r),s=ns(t),o=Nt(n.seconds,s.seconds);return o!==0?o:Nt(n.nanos,s.nanos)}function vE(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=co(n[o],s[o]);if(u)return u}return Nt(n.length,s.length)}function ho(r){return Dm(r)}function Dm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ns(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return is(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ut.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Dm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of s)u?u=!1:o+=",",o+=`${d}:${Dm(n.fields[d])}`;return o+"}"})(r.mapValue):mt(61005,{value:r})}function nh(r){switch(rs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ph(r);return t?16+nh(t):16;case 5:return 2*r.stringValue.length;case 6:return is(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+nh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return cs(s.fields,((u,d)=>{o+=u.length+nh(d)})),o})(r.mapValue);default:throw mt(13486,{value:r})}}function EE(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Om(r){return!!r&&"integerValue"in r}function pp(r){return!!r&&"arrayValue"in r}function TE(r){return!!r&&"nullValue"in r}function AE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ih(r){return!!r&&"mapValue"in r}function EC(r){return(r?.mapValue?.fields||{})[bA]?.stringValue===wA}function zl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return cs(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=zl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=zl(r.arrayValue.values[n]);return t}return{...r}}function TC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===vC}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!ih(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=zl(n)}setAll(t){let n=Ke.emptyPath(),s={},o=[];t.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const _=this.getFieldsMap(n);this.applyChanges(_,s,o),s={},o=[],n=p.popLast()}d?s[p.lastSegment()]=zl(d):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Mi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){cs(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new fn(zl(this.value))}}function RA(r){const t=[];return cs(r.fields,((n,s)=>{const o=new Ke([n]);if(ih(s)){const u=RA(s.mapValue).fields;if(u.length===0)t.push(o);else for(const d of u)t.push(o.child(d))}else t.push(o)})),new Sn(t)}class Je{constructor(t,n,s,o,u,d,p){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,_t.min(),_t.min(),_t.min(),fn.empty(),0)}static newFoundDocument(t,n,s,o){return new Je(t,1,n,_t.min(),s,o,0)}static newNoDocument(t,n){return new Je(t,2,n,_t.min(),_t.min(),fn.empty(),0)}static newUnknownDocument(t,n){return new Je(t,3,n,_t.min(),_t.min(),fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yh{constructor(t,n){this.position=t,this.inclusive=n}}function SE(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],d=r.position[o];if(u.field.isKeyField()?s=ut.comparator(ut.fromName(d.referenceValue),n.key):s=co(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function bE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Mi(r.position[n],t.position[n]))return!1;return!0}class Jl{constructor(t,n="asc"){this.field=t,this.dir=n}}function AC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class IA{}class Ie extends IA{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new bC(t,n,s):n==="array-contains"?new IC(t,s):n==="in"?new CC(t,s):n==="not-in"?new DC(t,s):n==="array-contains-any"?new OC(t,s):new Ie(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new wC(t,s):new RC(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(co(n,this.value)):n!==null&&rs(this.value)===rs(n)&&this.matchesComparison(co(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends IA{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ei(t,n)}matches(t){return CA(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CA(r){return r.op==="and"}function DA(r){return SC(r)&&CA(r)}function SC(r){for(const t of r.filters)if(t instanceof ei)return!1;return!0}function Nm(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+ho(r.value);if(DA(r))return r.filters.map((t=>Nm(t))).join(",");{const t=r.filters.map((n=>Nm(n))).join(",");return`${r.op}(${t})`}}function OA(r,t){return r instanceof Ie?(function(s,o){return o instanceof Ie&&s.op===o.op&&s.field.isEqual(o.field)&&Mi(s.value,o.value)})(r,t):r instanceof ei?(function(s,o){return o instanceof ei&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,d,p)=>u&&OA(d,o.filters[p])),!0):!1})(r,t):void mt(19439)}function NA(r){return r instanceof Ie?(function(n){return`${n.field.canonicalString()} ${n.op} ${ho(n.value)}`})(r):r instanceof ei?(function(n){return n.op.toString()+" {"+n.getFilters().map(NA).join(" ,")+"}"})(r):"Filter"}class bC extends Ie{constructor(t,n,s){super(t,n,s),this.key=ut.fromName(s.referenceValue)}matches(t){const n=ut.comparator(t.key,this.key);return this.matchesComparison(n)}}class wC extends Ie{constructor(t,n){super(t,"in",n),this.keys=MA("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class RC extends Ie{constructor(t,n){super(t,"not-in",n),this.keys=MA("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function MA(r,t){return(t.arrayValue?.values||[]).map((n=>ut.fromName(n.referenceValue)))}class IC extends Ie{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return pp(n)&&$l(n.arrayValue,this.value)}}class CC extends Ie{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&$l(this.value.arrayValue,n)}}class DC extends Ie{constructor(t,n){super(t,"not-in",n)}matches(t){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$l(this.value.arrayValue,n)}}class OC extends Ie{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!pp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>$l(this.value.arrayValue,s)))}}class NC{constructor(t,n=null,s=[],o=[],u=null,d=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function wE(r,t=null,n=[],s=[],o=null,u=null,d=null){return new NC(r,t,n,s,o,u,d)}function gp(r){const t=vt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Nm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Uh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>ho(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>ho(s))).join(",")),t.Te=n}return t.Te}function _p(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!AC(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!OA(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!bE(r.startAt,t.startAt)&&bE(r.endAt,t.endAt)}function Mm(r){return ut.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Eo{constructor(t,n=null,s=[],o=[],u=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function MC(r,t,n,s,o,u,d,p){return new Eo(r,t,n,s,o,u,d,p)}function yp(r){return new Eo(r)}function RE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function VC(r){return ut.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function VA(r){return r.collectionGroup!==null}function Bl(r){const t=vt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ue(Ke.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Jl(u,s))})),n.has(Ke.keyField().canonicalString())||t.Ie.push(new Jl(Ke.keyField(),s))}return t.Ie}function Di(r){const t=vt(r);return t.Ee||(t.Ee=UC(t,Bl(r))),t.Ee}function UC(r,t){if(r.limitType==="F")return wE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Jl(o.field,u)}));const n=r.endAt?new yh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new yh(r.startAt.position,r.startAt.inclusive):null;return wE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Vm(r,t){const n=r.filters.concat([t]);return new Eo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function PC(r,t){const n=r.explicitOrderBy.concat([t]);return new Eo(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Um(r,t,n){return new Eo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function kh(r,t){return _p(Di(r),Di(t))&&r.limitType===t.limitType}function UA(r){return`${gp(Di(r))}|lt:${r.limitType}`}function Za(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>NA(o))).join(", ")}]`),Uh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>ho(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>ho(o))).join(",")),`Target(${s})`})(Di(r))}; limitType=${r.limitType})`}function Lh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ut.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Bl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(d,p,_){const y=SE(d,p,_);return d.inclusive?y<=0:y<0})(s.startAt,Bl(s),o)||s.endAt&&!(function(d,p,_){const y=SE(d,p,_);return d.inclusive?y>=0:y>0})(s.endAt,Bl(s),o))})(r,t)}function kC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function PA(r){return(t,n)=>{let s=!1;for(const o of Bl(r)){const u=LC(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function LC(r,t,n){const s=r.field.isKeyField()?ut.comparator(t.key,n.key):(function(u,d,p){const _=d.data.field(u),y=p.data.field(u);return _!==null&&y!==null?co(_,y):mt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return mt(19790,{direction:r.dir})}}class ia{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){cs(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return yA(this.inner)}size(){return this.innerSize}}const xC=new oe(ut.comparator);function ur(){return xC}const kA=new oe(ut.comparator);function Ul(...r){let t=kA;for(const n of r)t=t.insert(n.key,n);return t}function LA(r){let t=kA;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Fs(){return ql()}function xA(){return ql()}function ql(){return new ia((r=>r.toString()),((r,t)=>r.isEqual(t)))}const zC=new oe(ut.comparator),BC=new Ue(ut.comparator);function Mt(...r){let t=BC;for(const n of r)t=t.add(n);return t}const qC=new Ue(Nt);function HC(){return qC}function vp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(t)?"-0":t}}function zA(r){return{integerValue:""+r}}function jC(r,t){return dC(t)?zA(t):vp(r,t)}class xh{constructor(){this._=void 0}}function FC(r,t,n){return r instanceof vh?(function(o,u){const d={fields:{[TA]:{stringValue:EA},[SA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&mp(u)&&(u=Ph(u)),u&&(d.fields[AA]=u),{mapValue:d}})(n,t):r instanceof Zl?qA(r,t):r instanceof Wl?HA(r,t):(function(o,u){const d=BA(o,u),p=IE(d)+IE(o.Ae);return Om(d)&&Om(o.Ae)?zA(p):vp(o.serializer,p)})(r,t)}function GC(r,t,n){return r instanceof Zl?qA(r,t):r instanceof Wl?HA(r,t):n}function BA(r,t){return r instanceof Eh?(function(s){return Om(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class vh extends xh{}class Zl extends xh{constructor(t){super(),this.elements=t}}function qA(r,t){const n=jA(t);for(const s of r.elements)n.some((o=>Mi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Wl extends xh{constructor(t){super(),this.elements=t}}function HA(r,t){let n=jA(t);for(const s of r.elements)n=n.filter((o=>!Mi(o,s)));return{arrayValue:{values:n}}}class Eh extends xh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function IE(r){return ge(r.integerValue||r.doubleValue)}function jA(r){return pp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function KC(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof Zl&&o instanceof Zl||s instanceof Wl&&o instanceof Wl?uo(s.elements,o.elements,Mi):s instanceof Eh&&o instanceof Eh?Mi(s.Ae,o.Ae):s instanceof vh&&o instanceof vh})(r.transform,t.transform)}class QC{constructor(t,n){this.version=t,this.transformResults=n}}class Zn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Zn}static exists(t){return new Zn(void 0,t)}static updateTime(t){return new Zn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function rh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class zh{}function FA(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Ep(r.key,Zn.none()):new lu(r.key,r.data,Zn.none());{const n=r.data,s=fn.empty();let o=new Ue(Ke.comparator);for(let u of t.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),o=o.add(u)}return new hs(r.key,s,new Sn(o.toArray()),Zn.none())}}function YC(r,t,n){r instanceof lu?(function(o,u,d){const p=o.value.clone(),_=DE(o.fieldTransforms,u,d.transformResults);p.setAll(_),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,n):r instanceof hs?(function(o,u,d){if(!rh(o.precondition,u))return void u.convertToUnknownDocument(d.version);const p=DE(o.fieldTransforms,u,d.transformResults),_=u.data;_.setAll(GA(o)),_.setAll(p),u.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,n):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function Hl(r,t,n,s){return r instanceof lu?(function(u,d,p,_){if(!rh(u.precondition,d))return p;const y=u.value.clone(),T=OE(u.fieldTransforms,_,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof hs?(function(u,d,p,_){if(!rh(u.precondition,d))return p;const y=OE(u.fieldTransforms,_,d),T=d.data;return T.setAll(GA(u)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,n,s):(function(u,d,p){return rh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,n)}function XC(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=BA(s.transform,o||null);u!=null&&(n===null&&(n=fn.empty()),n.set(s.field,u))}return n||null}function CE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&uo(s,o,((u,d)=>KC(u,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class lu extends zh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class hs extends zh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function GA(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function DE(r,t,n){const s=new Map;qt(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],d=u.transform,p=t.data.field(u.field);s.set(u.field,GC(d,p,n[o]))}return s}function OE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,d=n.data.field(o.field);s.set(o.field,FC(u,d,t))}return s}class Ep extends zh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $C extends zh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class JC{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&YC(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Hl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Hl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=xA();return this.mutations.forEach((o=>{const u=t.get(o.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(o.key)?null:p;const _=FA(d,p);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&uo(this.mutations,t.mutations,((n,s)=>CE(n,s)))&&uo(this.baseMutations,t.baseMutations,((n,s)=>CE(n,s)))}}class Tp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return zC})();const u=t.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,s[d].version);return new Tp(t,n,s,o)}}class ZC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class WC{constructor(t,n){this.count=t,this.unchangedNames=n}}var Re,Pt;function t2(r){switch(r){case K.OK:return mt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return mt(15467,{code:r})}}function KA(r){if(r===void 0)return or("GRPC error has no .code"),K.UNKNOWN;switch(r){case Re.OK:return K.OK;case Re.CANCELLED:return K.CANCELLED;case Re.UNKNOWN:return K.UNKNOWN;case Re.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Re.INTERNAL:return K.INTERNAL;case Re.UNAVAILABLE:return K.UNAVAILABLE;case Re.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Re.NOT_FOUND:return K.NOT_FOUND;case Re.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Re.ABORTED:return K.ABORTED;case Re.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Re.DATA_LOSS:return K.DATA_LOSS;default:return mt(39323,{code:r})}}(Pt=Re||(Re={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function e2(){return new TextEncoder}const n2=new Zr([4294967295,4294967295],0);function NE(r){const t=e2().encode(r),n=new oA;return n.update(t),new Uint8Array(n.digest())}function ME(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Zr([n,s],0),new Zr([o,u],0)]}class Ap{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Pl(`Invalid padding: ${n}`);if(s<0)throw new Pl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Zr.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Zr.fromNumber(s)));return o.compare(n2)===1&&(o=new Zr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=NE(t),[s,o]=ME(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,o,u);if(!this.we(d))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new Ap(u,o,n);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const n=NE(t),[s,o]=ME(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,o,u);this.be(d)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,uu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Bh(_t.min(),o,new oe(Nt),ur(),Mt())}}class uu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new uu(s,n,Mt(),Mt(),Mt())}}class sh{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=o}}class QA{constructor(t,n){this.targetId=t,this.Ce=n}}class YA{constructor(t,n,s=Qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class VE{constructor(){this.ve=0,this.Fe=UE(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),n=Mt(),s=Mt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:mt(38017,{changeType:u})}})),new uu(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=UE()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class i2{constructor(t){this.Ge=t,this.ze=new Map,this.je=ur(),this.He=Qc(),this.Je=Qc(),this.Ze=new oe(Nt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Mm(u))if(s===0){const d=new ut(u.path);this.et(n,d,Je.newNoDocument(d,_t.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(n);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let d,p;try{d=is(s).toUint8Array()}catch(_){if(_ instanceof vA)return lo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Ap(d,o,u)}catch(_){return lo(_ instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&Mm(p.target)){const _=new ut(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Je.newNoDocument(_,t))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let s=Mt();this.Je.forEach(((u,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(t)));const o=new Bh(t,n,this.Ze,this.je,s);return this.je=ur(),this.He=Qc(),this.Je=Qc(),this.Ze=new oe(Nt),o}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new VE,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Ue(Nt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Ue(Nt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||it("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new VE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Qc(){return new oe(ut.comparator)}function UE(){return new oe(ut.comparator)}const r2={asc:"ASCENDING",desc:"DESCENDING"},s2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},a2={and:"AND",or:"OR"};class o2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Pm(r,t){return r.useProto3Json||Uh(t)?t:{value:t}}function Th(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function XA(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function l2(r,t){return Th(r,t.toTimestamp())}function Oi(r){return qt(!!r,49232),_t.fromTimestamp((function(n){const s=ns(n);return new ee(s.seconds,s.nanos)})(r))}function Sp(r,t){return km(r,t).canonicalString()}function km(r,t){const n=(function(o){return new Zt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function $A(r){const t=Zt.fromString(r);return qt(e0(t),10190,{key:t.toString()}),t}function Lm(r,t){return Sp(r.databaseId,t.path)}function cm(r,t){const n=$A(t);if(n.get(1)!==r.databaseId.projectId)throw new nt(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new nt(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ut(ZA(n))}function JA(r,t){return Sp(r.databaseId,t)}function u2(r){const t=$A(r);return t.length===4?Zt.emptyPath():ZA(t)}function xm(r){return new Zt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ZA(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function PE(r,t,n){return{name:Lm(r,t),fields:n.value.mapValue.fields}}function c2(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:mt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?(qt(T===void 0||typeof T=="string",58123),Qe.fromBase64String(T||"")):(qt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Qe.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?K.UNKNOWN:KA(y.code);return new nt(T,y.message||"")})(d);n=new YA(s,o,u,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=cm(r,s.document.name),u=Oi(s.document.updateTime),d=s.document.createTime?Oi(s.document.createTime):_t.min(),p=new fn({mapValue:{fields:s.document.fields}}),_=Je.newFoundDocument(o,u,d,p),y=s.targetIds||[],T=s.removedTargetIds||[];n=new sh(y,T,_.key,_)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=cm(r,s.document),u=s.readTime?Oi(s.readTime):_t.min(),d=Je.newNoDocument(o,u),p=s.removedTargetIds||[];n=new sh([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=cm(r,s.document),u=s.removedTargetIds||[];n=new sh([],u,o,null)}else{if(!("filter"in t))return mt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,d=new WC(o,u),p=s.targetId;n=new QA(p,d)}}return n}function h2(r,t){let n;if(t instanceof lu)n={update:PE(r,t.key,t.value)};else if(t instanceof Ep)n={delete:Lm(r,t.key)};else if(t instanceof hs)n={update:PE(r,t.key,t.data),updateMask:E2(t.fieldMask)};else{if(!(t instanceof $C))return mt(16599,{dt:t.type});n={verify:Lm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,d){const p=d.transform;if(p instanceof vh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Zl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Wl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Eh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw mt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:l2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:mt(27497)})(r,t.precondition)),n}function f2(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map((n=>(function(o,u){let d=o.updateTime?Oi(o.updateTime):Oi(u);return d.isEqual(_t.min())&&(d=Oi(u)),new QC(d,o.transformResults||[])})(n,t)))):[]}function d2(r,t){return{documents:[JA(r,t.path)]}}function m2(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=JA(r,o);const u=(function(y){if(y.length!==0)return t0(ei.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const d=(function(y){if(y.length!==0)return y.map((T=>(function(D){return{field:Wa(D.field),direction:_2(D.dir)}})(T)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Pm(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function p2(r){let t=u2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){qt(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=(function(S){const D=WA(S);return D instanceof ei&&DA(D)?D.getFilters():[D]})(n.where));let d=[];n.orderBy&&(d=(function(S){return S.map((D=>(function($){return new Jl(to($.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(D)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let D;return D=typeof S=="object"?S.value:S,Uh(D)?null:D})(n.limit));let _=null;n.startAt&&(_=(function(S){const D=!!S.before,H=S.values||[];return new yh(H,D)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const D=!S.before,H=S.values||[];return new yh(H,D)})(n.endAt)),MC(t,o,d,u,p,"F",_,y)}function g2(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function WA(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=to(n.unaryFilter.field);return Ie.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=to(n.unaryFilter.field);return Ie.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=to(n.unaryFilter.field);return Ie.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=to(n.unaryFilter.field);return Ie.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ie.create(to(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ei.create(n.compositeFilter.filters.map((s=>WA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(n.compositeFilter.op))})(r):mt(30097,{filter:r})}function _2(r){return r2[r]}function y2(r){return s2[r]}function v2(r){return a2[r]}function Wa(r){return{fieldPath:r.canonicalString()}}function to(r){return Ke.fromServerFormat(r.fieldPath)}function t0(r){return r instanceof Ie?(function(n){if(n.op==="=="){if(AE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(TE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(AE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(TE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:y2(n.op),value:n.value}}})(r):r instanceof ei?(function(n){const s=n.getFilters().map((o=>t0(o)));return s.length===1?s[0]:{compositeFilter:{op:v2(n.op),filters:s}}})(r):mt(54877,{filter:r})}function E2(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function e0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function n0(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Xr{constructor(t,n,s,o,u=_t.min(),d=_t.min(),p=Qe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Xr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class T2{constructor(t){this.yt=t}}function A2(r){const t=p2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Um(t,t.limit,"L"):t}class S2{constructor(){this.Sn=new b2}addToCollectionParentIndex(t,n){return this.Sn.add(n),X.resolve()}getCollectionParents(t,n){return X.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return X.resolve()}deleteFieldIndex(t,n){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,n){return X.resolve()}getDocumentsMatchingTarget(t,n){return X.resolve(null)}getIndexType(t,n){return X.resolve(0)}getFieldIndexes(t,n){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,n){return X.resolve(es.min())}getMinOffsetFromCollectionGroup(t,n){return X.resolve(es.min())}updateCollectionGroup(t,n,s){return X.resolve()}updateIndexEntries(t,n){return X.resolve()}}class b2{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ue(Zt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ue(Zt.comparator)).toArray()}}const kE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},i0=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(i0,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class fo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new fo(0)}static ar(){return new fo(-1)}}const LE="LruGarbageCollector",w2=1048576;function xE([r,t],[n,s]){const o=Nt(r,n);return o===0?Nt(t,s):o}class R2{constructor(t){this.Pr=t,this.buffer=new Ue(xE),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();xE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class I2{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){it(LE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vo(n)?it(LE,"Ignoring IndexedDB error during garbage collection: ",n):await yo(n)}await this.Ar(3e5)}))}}class C2{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return X.resolve(Vh.ce);const s=new R2(n);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(kE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kE):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,o,u,d,p,_,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(s=S,p=Date.now(),this.removeTargets(t,s,n)))).next((S=>(u=S,_=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),Ja()<=Ot.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${u} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function D2(r,t){return new C2(r,t)}class O2{constructor(){this.changes=new ia((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?X.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class N2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class M2{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Hl(s.mutation,o,Sn.empty(),ee.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Mt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Mt()){const o=Fs();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let d=Ul();return u.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const s=Fs();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Mt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(t,n,s,o){let u=ur();const d=ql(),p=(function(){return ql()})();return n.forEach(((_,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof hs)?u=u.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Hl(T.mutation,y,T.mutation.getFieldMask(),ee.now())):d.set(y.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,u).next((_=>(_.forEach(((y,T)=>d.set(y,T))),n.forEach(((y,T)=>p.set(y,new N2(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,n){const s=ql();let o=new oe(((d,p)=>d-p)),u=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=n.get(_);if(y===null)return;let T=s.get(_)||Sn.empty();T=p.applyToLocalView(y,T),s.set(_,T);const S=(o.get(p.batchId)||Mt()).add(_);o=o.insert(p.batchId,S)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,T=_.value,S=xA();T.forEach((D=>{if(!u.has(D)){const H=FA(n.get(D),s.get(D));H!==null&&S.set(D,H),u=u.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return X.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return VC(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):VA(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):X.resolve(Fs());let p=Ql,_=u;return d.next((y=>X.forEach(y,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(T)?X.resolve():this.remoteDocumentCache.getEntry(t,T).next((D=>{_=_.insert(T,D)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,_,y,Mt()))).next((T=>({batchId:p,changes:LA(T)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ut(n)).next((s=>{let o=Ul();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let d=Ul();return this.indexManager.getCollectionParents(t,u).next((p=>X.forEach(p,(_=>{const y=(function(S,D){return new Eo(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,_.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((T=>{T.forEach(((S,D)=>{d=d.insert(S,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((d=>{u.forEach(((_,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Je.newInvalidDocument(T)))}));let p=Ul();return d.forEach(((_,y)=>{const T=u.get(_);T!==void 0&&Hl(T.mutation,y,Sn.empty(),ee.now()),Lh(n,y)&&(p=p.insert(_,y))})),p}))}}class V2{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return X.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}})(n)),X.resolve()}getNamedQuery(t,n){return X.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:A2(o.bundledQuery),readTime:Oi(o.readTime)}})(n)),X.resolve()}}class U2{constructor(){this.overlays=new oe(ut.comparator),this.Lr=new Map}getOverlay(t,n){return X.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Fs();return X.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.bt(t,n,u)})),X.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),X.resolve()}getOverlaysForCollection(t,n,s){const o=Fs(),u=n.length+1,d=new ut(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&_.largestBatchId>s&&o.set(_.getKey(),_)}return X.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new oe(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=Fs(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=Fs(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=o)););return X.resolve(p)}bt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new ZC(n,s));let u=this.Lr.get(n);u===void 0&&(u=Mt(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class P2{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,X.resolve()}}class bp{constructor(){this.kr=new Ue(xe.Kr),this.qr=new Ue(xe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new xe(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new xe(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new ut(new Zt([])),s=new xe(n,t),o=new xe(n,t+1),u=[];return this.qr.forEachInRange([s,o],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new ut(new Zt([])),s=new xe(n,t),o=new xe(n,t+1);let u=Mt();return this.qr.forEachInRange([s,o],(d=>{u=u.add(d.key)})),u}containsKey(t){const n=new xe(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class xe{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return ut.comparator(t.key,n.key)||Nt(t.Hr,n.Hr)}static Ur(t,n){return Nt(t.Hr,n.Hr)||ut.comparator(t.key,n.key)}}class k2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ue(xe.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new JC(u,n,s,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new xe(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,n){return X.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return X.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?dp:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new xe(n,0),o=new xe(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(d=>{const p=this.Zr(d.Hr);u.push(p)})),X.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ue(Nt);return n.forEach((o=>{const u=new xe(o,0),d=new xe(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(p=>{s=s.add(p.Hr)}))})),X.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;ut.isDocumentKey(u)||(u=u.child(""));const d=new xe(new ut(u),0);let p=new Ue(Nt);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(_.Hr)),!0)}),d),X.resolve(this.Yr(p))}Yr(t){const n=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){qt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return X.forEach(n.mutations,(o=>{const u=new xe(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new xe(n,0),o=this.Jr.firstAfterOrEqual(s);return X.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class L2{constructor(t){this.ti=t,this.docs=(function(){return new oe(ut.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,d=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return X.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(t,n){let s=ur();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Je.newInvalidDocument(o))})),X.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=ur();const d=n.path,p=new ut(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||uC(lC(T),s)<=0||(o.has(T.key)||Lh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return X.resolve(u)}getAllFromCollectionGroup(t,n,s,o){mt(9500)}ni(t,n){return X.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new x2(this)}getSize(t){return X.resolve(this.size)}}class x2 extends O2{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(s)})),X.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class z2{constructor(t){this.persistence=t,this.ri=new ia((n=>gp(n)),_p),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.ii=0,this.si=new bp,this.targetCount=0,this.oi=fo._r()}forEachTarget(t,n){return this.ri.forEach(((s,o)=>n(o))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),X.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new fo(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,X.resolve()}updateTargetData(t,n){return this.lr(n),X.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),X.waitFor(u).next((()=>o))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return X.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),X.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((d=>{u.push(o.markPotentiallyOrphaned(t,d))})),X.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),X.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return X.resolve(s)}containsKey(t,n){return X.resolve(this.si.containsKey(n))}}class r0{constructor(t,n){this._i={},this.overlays={},this.ai=new Vh(0),this.ui=!1,this.ui=!0,this.ci=new P2,this.referenceDelegate=t(this),this.li=new z2(this),this.indexManager=new S2,this.remoteDocumentCache=(function(o){return new L2(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new T2(n),this.Pi=new V2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new U2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new k2(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){it("MemoryPersistence","Starting transaction:",t);const o=new B2(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return X.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class B2 extends hC{constructor(t){super(),this.currentSequenceNumber=t}}class wp{constructor(t){this.persistence=t,this.Ri=new bp,this.Ai=null}static Vi(t){return new wp(t)}get di(){if(this.Ai)return this.Ai;throw mt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),X.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),X.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),X.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(s=>{const o=ut.fromPath(s);return this.mi(t,o).next((u=>{u||n.removeEntry(o,_t.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return X.or([()=>X.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Ah{constructor(t,n){this.persistence=t,this.fi=new ia((s=>mC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=D2(this,n)}static Vi(t,n){return new Ah(t,n)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return X.forEach(this.fi,((s,o)=>this.wr(t,s,o).next((u=>u?X.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(d=>this.wr(t,d,n).next((p=>{p||(s++,u.removeEntry(d,_t.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),X.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),X.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),X.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=nh(t.data.value)),n}wr(t,n,s){return X.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.fi.get(n);return X.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Rp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=o}static Es(t,n){let s=Mt(),o=Mt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Rp(t,n.fromCache,s,o)}}class q2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class H2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return m1()?8:fC(Ze())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.gs(t,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(t,n,o,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new q2;return this.ys(t,n,d).next((p=>{if(u.result=p,this.As)return this.ws(t,n,d,p.size)}))})).next((()=>u.result))}ws(t,n,s,o){return s.documentReadCount<this.Vs?(Ja()<=Ot.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Ja()<=Ot.DEBUG&&it("QueryEngine","Query:",Za(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Ja()<=Ot.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(n))):X.resolve())}gs(t,n){if(RE(n))return X.resolve(null);let s=Di(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Um(n,null,"F"),s=Di(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const d=Mt(...u);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((_=>{const y=this.bs(n,p);return this.Ss(n,y,d,_.readTime)?this.gs(t,Um(n,null,"F")):this.Ds(t,y,n,_)}))))})))))}ps(t,n,s,o){return RE(n)||o.isEqual(_t.min())?X.resolve(null):this.fs.getDocuments(t,s).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,s,o)?X.resolve(null):(Ja()<=Ot.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(n)),this.Ds(t,d,n,oC(o,Ql)).next((p=>p)))}))}bs(t,n){let s=new Ue(PA(t));return n.forEach(((o,u)=>{Lh(t,u)&&(s=s.add(u))})),s}Ss(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,n,s){return Ja()<=Ot.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Za(n)),this.fs.getDocumentsMatchingQuery(t,n,es.min(),s)}Ds(t,n,s,o){return this.fs.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const Ip="LocalStore",j2=3e8;class F2{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.vs=new oe(Nt),this.Fs=new ia((u=>gp(u)),_p),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new M2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function G2(r,t,n,s){return new F2(r,t,n,s)}async function s0(r,t){const n=vt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],p=[];let _=Mt();for(const y of o){d.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of u){p.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return n.localDocuments.getDocuments(s,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function K2(r,t){const n=vt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,T){const S=y.batch,D=S.keys();let H=X.resolve();return D.forEach(($=>{H=H.next((()=>T.getEntry(_,$))).next((W=>{const J=y.docVersions.get($);qt(J!==null,48541),W.version.compareTo(J)<0&&(S.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),T.addEntry(W)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let _=Mt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function a0(r){const t=vt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function Q2(r,t){const n=vt(r),s=t.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];t.targetChanges.forEach(((T,S)=>{const D=o.get(S);if(!D)return;p.push(n.li.removeMatchingKeys(u,T.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,T.addedDocuments,S))));let H=D.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?H=H.withResumeToken(Qe.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,s)),o=o.insert(S,H),(function(W,J,ot){return W.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=j2?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(D,H,T)&&p.push(n.li.updateTargetData(u,H))}));let _=ur(),y=Mt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(Y2(u,d,t.documentUpdates).next((T=>{_=T.Bs,y=T.Ls}))),!s.isEqual(_t.min())){const T=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(T)}return X.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,_,y))).next((()=>_))})).then((u=>(n.vs=o,u)))}function Y2(r,t,n){let s=Mt(),o=Mt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let d=ur();return n.forEach(((p,_)=>{const y=u.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(_t.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):it(Ip,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:o}}))}function X2(r,t){const n=vt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=dp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function $2(r,t){const n=vt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,t).next((u=>u?(o=u,X.resolve(o)):n.li.allocateTargetId(s).next((d=>(o=new Xr(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function zm(r,t,n){const s=vt(r),o=s.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!vo(d))throw d;it(Ip,`Failed to update sequence numbers for target ${t}: ${d}`)}s.vs=s.vs.remove(t),s.Fs.delete(o.target)}function zE(r,t,n){const s=vt(r);let o=_t.min(),u=Mt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,T){const S=vt(_),D=S.Fs.get(T);return D!==void 0?X.resolve(S.vs.get(D)):S.li.getTargetData(y,T)})(s,d,Di(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{u=_}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,t,n?o:_t.min(),n?u:Mt()))).next((p=>(J2(s,kC(t),p),{documents:p,ks:u})))))}function J2(r,t,n){let s=r.Ms.get(t)||_t.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(t,s)}class BE{constructor(){this.activeTargetIds=HC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Z2{constructor(){this.vo=new BE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new BE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class W2{Mo(t){}shutdown(){}}const qE="ConnectivityMonitor";class HE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){it(qE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){it(qE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Yc=null;function Bm(){return Yc===null?Yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yc++,"0x"+Yc.toString(16)}const hm="RestConnection",tD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class eD{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===gh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const d=Bm(),p=this.Qo(t,n.toUriEncodedString());it(hm,`Sending RPC '${t}' ${d}:`,p,s);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,o,u);const{host:y}=new URL(p),T=os(y);return this.zo(t,p,_,s,T).then((S=>(it(hm,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw lo(hm,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",s),S}))}jo(t,n,s,o,u,d){return this.Wo(t,n,s,o,u)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_o})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}Qo(t,n){const s=tD[t];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class nD{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Xe="WebChannelConnection",Dl=(r,t,n)=>{r.listen(t,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class so extends eD{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!so.c_){const t=hA();Dl(t,cA.STAT_EVENT,(n=>{n.stat===Im.PROXY?it(Xe,"STAT_EVENT: detected buffering proxy"):n.stat===Im.NOPROXY&&it(Xe,"STAT_EVENT: detected no buffering proxy")})),so.c_=!0}}zo(t,n,s,o,u){const d=Bm();return new Promise(((p,_)=>{const y=new lA;y.setWithCredentials(!0),y.listenOnce(uA.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case eh.NO_ERROR:const S=y.getResponseJson();it(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case eh.TIMEOUT:it(Xe,`RPC '${t}' ${d} timed out`),_(new nt(K.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const D=y.getStatus();if(it(Xe,`RPC '${t}' ${d} failed with status:`,D,"response text:",y.getResponseText()),D>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const $=H?.error;if($&&$.status&&$.message){const W=(function(ot){const pt=ot.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(pt)>=0?pt:K.UNKNOWN})($.status);_(new nt(W,$.message))}else _(new nt(K.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new nt(K.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{it(Xe,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(o);it(Xe,`RPC '${t}' ${d} sending request:`,o),y.send(n,"POST",T,s,15)}))}T_(t,n,s){const o=Bm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const y=u.join("");it(Xe,`Creating RPC '${t}' stream ${o}: ${y}`,p);const T=d.createWebChannel(y,p);this.I_(T);let S=!1,D=!1;const H=new nD({Ho:$=>{D?it(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,$):(S||(it(Xe,`Opening RPC '${t}' stream ${o} transport.`),T.open(),S=!0),it(Xe,`RPC '${t}' stream ${o} sending:`,$),T.send($))},Jo:()=>T.close()});return Dl(T,Vl.EventType.OPEN,(()=>{D||(it(Xe,`RPC '${t}' stream ${o} transport opened.`),H.i_())})),Dl(T,Vl.EventType.CLOSE,(()=>{D||(D=!0,it(Xe,`RPC '${t}' stream ${o} transport closed`),H.o_(),this.E_(T))})),Dl(T,Vl.EventType.ERROR,($=>{D||(D=!0,lo(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),H.o_(new nt(K.UNAVAILABLE,"The operation could not be completed")))})),Dl(T,Vl.EventType.MESSAGE,($=>{if(!D){const W=$.data[0];qt(!!W,16349);const J=W,ot=J?.error||J[0]?.error;if(ot){it(Xe,`RPC '${t}' stream ${o} received error:`,ot);const pt=ot.status;let ct=(function(It){const I=Re[It];if(I!==void 0)return KA(I)})(pt),At=ot.message;ct===void 0&&(ct=K.INTERNAL,At="Unknown error status: "+pt+" with message "+ot.message),D=!0,H.o_(new nt(ct,At)),T.close()}else it(Xe,`RPC '${t}' stream ${o} received:`,W),H.__(W)}})),so.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return fA()}}function iD(r){return new so(r)}function fm(){return typeof document<"u"?document:null}function qh(r){return new o2(r,!0)}so.c_=!1;class o0{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const jE="PersistentStream";class l0{constructor(t,n,s,o,u,d,p,_){this.Ci=t,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new o0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new nt(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(jE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(it(jE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rD extends l0{constructor(t,n,s,o,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,d),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=c2(this.serializer,t),s=(function(u){if(!("targetChange"in u))return _t.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Oi(d.readTime):_t.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=xm(this.serializer),n.addTarget=(function(u,d){let p;const _=d.target;if(p=Mm(_)?{documents:d2(u,_)}:{query:m2(u,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=XA(u,d.resumeToken);const y=Pm(u,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=Th(u,d.snapshotVersion.toTimestamp());const y=Pm(u,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const s=g2(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=xm(this.serializer),n.removeTarget=t,this.K_(n)}}class sD extends l0{constructor(t,n,s,o,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=f2(t.writeResults,t.commitTime),s=Oi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=xm(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>h2(this.serializer,s)))};this.K_(n)}}class aD{}class oD extends aD{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new nt(K.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(t,km(n,s),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new nt(K.UNKNOWN,u.toString())}))}jo(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,km(n,s),o,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new nt(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function lD(r,t,n,s){return new oD(r,t,n,s)}class uD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(or(n),this.aa=!1):it("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ws="RemoteStore";class cD{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{ra(this)&&(it(Ws,"Restarting streams for network reachability change."),await(async function(_){const y=vt(_);y.Ea.add(4),await cu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Hh(y)})(this))}))})),this.Va=new uD(s,o)}}async function Hh(r){if(ra(r))for(const t of r.Ra)await t(!0)}async function cu(r){for(const t of r.Ra)await t(!1)}function u0(r,t){const n=vt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Np(n)?Op(n):To(n).O_()&&Dp(n,t))}function Cp(r,t){const n=vt(r),s=To(n);n.Ia.delete(t),s.O_()&&c0(n,t),n.Ia.size===0&&(s.O_()?s.L_():ra(n)&&n.Va.set("Unknown"))}function Dp(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}To(r).Z_(t)}function c0(r,t){r.da.$e(t),To(r).X_(t)}function Op(r){r.da=new i2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),To(r).start(),r.Va.ua()}function Np(r){return ra(r)&&!To(r).x_()&&r.Ia.size>0}function ra(r){return vt(r).Ea.size===0}function h0(r){r.da=void 0}async function hD(r){r.Va.set("Online")}async function fD(r){r.Ia.forEach(((t,n)=>{Dp(r,t)}))}async function dD(r,t){h0(r),Np(r)?(r.Va.ha(t),Op(r)):r.Va.set("Unknown")}async function mD(r,t,n){if(r.Va.set("Online"),t instanceof YA&&t.state===2&&t.cause)try{await(async function(o,u){const d=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(r,t)}catch(s){it(Ws,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Sh(r,s)}else if(t instanceof sh?r.da.Xe(t):t instanceof QA?r.da.st(t):r.da.tt(t),!n.isEqual(_t.min()))try{const s=await a0(r.localStore);n.compareTo(s)>=0&&await(function(u,d){const p=u.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const T=u.Ia.get(_);if(!T)return;u.Ia.set(_,T.withResumeToken(Qe.EMPTY_BYTE_STRING,T.snapshotVersion)),c0(u,_);const S=new Xr(T.target,_,y,T.sequenceNumber);Dp(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){it(Ws,"Failed to raise snapshot:",s),await Sh(r,s)}}async function Sh(r,t,n){if(!vo(t))throw t;r.Ea.add(1),await cu(r),r.Va.set("Offline"),n||(n=()=>a0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{it(Ws,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Hh(r)}))}function f0(r,t){return t().catch((n=>Sh(r,n,t)))}async function jh(r){const t=vt(r),n=ss(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:dp;for(;pD(t);)try{const o=await X2(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,gD(t,o)}catch(o){await Sh(t,o)}d0(t)&&m0(t)}function pD(r){return ra(r)&&r.Ta.length<10}function gD(r,t){r.Ta.push(t);const n=ss(r);n.O_()&&n.Y_&&n.ea(t.mutations)}function d0(r){return ra(r)&&!ss(r).x_()&&r.Ta.length>0}function m0(r){ss(r).start()}async function _D(r){ss(r).ra()}async function yD(r){const t=ss(r);for(const n of r.Ta)t.ea(n.mutations)}async function vD(r,t,n){const s=r.Ta.shift(),o=Tp.from(s,t,n);await f0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await jh(r)}async function ED(r,t){t&&ss(r).Y_&&await(async function(s,o){if((function(d){return t2(d)&&d!==K.ABORTED})(o.code)){const u=s.Ta.shift();ss(s).B_(),await f0(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await jh(s)}})(r,t),d0(r)&&m0(r)}async function FE(r,t){const n=vt(r);n.asyncQueue.verifyOperationInProgress(),it(Ws,"RemoteStore received new credentials");const s=ra(n);n.Ea.add(3),await cu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Hh(n)}async function TD(r,t){const n=vt(r);t?(n.Ea.delete(2),await Hh(n)):t||(n.Ea.add(2),await cu(n),n.Va.set("Unknown"))}function To(r){return r.ma||(r.ma=(function(n,s,o){const u=vt(n);return u.sa(),new rD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:hD.bind(null,r),Yo:fD.bind(null,r),t_:dD.bind(null,r),J_:mD.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),Np(r)?Op(r):r.Va.set("Unknown")):(await r.ma.stop(),h0(r))}))),r.ma}function ss(r){return r.fa||(r.fa=(function(n,s,o){const u=vt(n);return u.sa(),new sD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:_D.bind(null,r),t_:ED.bind(null,r),ta:yD.bind(null,r),na:vD.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await jh(r)):(await r.fa.stop(),r.Ta.length>0&&(it(Ws,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Mp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const d=Date.now()+s,p=new Mp(t,n,d,o,u);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vp(r,t){if(or("AsyncQueue",`${t}: ${r}`),vo(r))return new nt(K.UNAVAILABLE,`${t}: ${r}`);throw r}class ao{static emptySet(t){return new ao(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ut.comparator(n.key,s.key):(n,s)=>ut.comparator(n.key,s.key),this.keyedMap=Ul(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ao)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new ao;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class GE{constructor(){this.ga=new oe(ut.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):mt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class mo{constructor(t,n,s,o,u,d,p,_,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new mo(t,n,ao.emptySet(n),d,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class AD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class SD{constructor(){this.queries=KE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=vt(n),u=o.queries;o.queries=KE(),u.forEach(((d,p)=>{for(const _ of p.ba)_.onError(s)}))})(this,new nt(K.ABORTED,"Firestore shutting down"))}}function KE(){return new ia((r=>UA(r)),kh)}async function p0(r,t){const n=vt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.Da()&&(s=2):(u=new AD,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const p=Vp(d,`Initialization of query '${Za(t.query)}' failed`);return void t.onError(p)}n.queries.set(o,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Up(n)}async function g0(r,t){const n=vt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const d=u.ba.indexOf(t);d>=0&&(u.ba.splice(d,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function bD(r,t){const n=vt(r);let s=!1;for(const o of t){const u=o.query,d=n.queries.get(u);if(d){for(const p of d.ba)p.Fa(o)&&(s=!0);d.wa=o}}s&&Up(n)}function wD(r,t,n){const s=vt(r),o=s.queries.get(t);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(t)}function Up(r){r.Ca.forEach((t=>{t.next()}))}var qm,QE;(QE=qm||(qm={})).Ma="default",QE.Cache="cache";class _0{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new mo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=mo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==qm.Cache}}class y0{constructor(t){this.key=t}}class v0{constructor(t){this.key=t}}class RD{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Mt(),this.mutatedKeys=Mt(),this.eu=PA(t),this.tu=new ao(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new GE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((T,S)=>{const D=o.get(T),H=Lh(this.query,S)?S:null,$=!!D&&this.mutatedKeys.has(D.key),W=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let J=!1;D&&H?D.data.isEqual(H.data)?$!==W&&(s.track({type:3,doc:H}),J=!0):this.su(D,H)||(s.track({type:2,doc:H}),J=!0,(_&&this.eu(H,_)>0||y&&this.eu(H,y)<0)&&(p=!0)):!D&&H?(s.track({type:0,doc:H}),J=!0):D&&!H&&(s.track({type:1,doc:D}),J=!0,(_||y)&&(p=!0)),J&&(H?(d=d.add(H),u=W?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Ss:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,S)=>(function(H,$){const W=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Vt:J})}};return W(H)-W($)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],_=this.Ya.size===0&&this.current&&!o?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new mo(this.query,t.tu,u,d,t.mutatedKeys,_===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new GE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Mt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new v0(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new y0(s))})),n}cu(t){this.Za=t.ks,this.Ya=Mt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Pp="SyncEngine";class ID{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class CD{constructor(t){this.key=t,this.hu=!1}}class DD{constructor(t,n,s,o,u,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ia((p=>UA(p)),kh),this.Iu=new Map,this.Eu=new Set,this.Ru=new oe(ut.comparator),this.Au=new Map,this.Vu=new bp,this.du={},this.mu=new Map,this.fu=fo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OD(r,t,n=!0){const s=w0(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await E0(s,t,n,!0),o}async function ND(r,t){const n=w0(r);await E0(n,t,!0,!1)}async function E0(r,t,n,s){const o=await $2(r.localStore,Di(t)),u=o.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await MD(r,t,u,d==="current",o.resumeToken)),r.isPrimaryClient&&n&&u0(r.remoteStore,o),p}async function MD(r,t,n,s,o){r.pu=(S,D,H)=>(async function(W,J,ot,pt){let ct=J.view.ru(ot);ct.Ss&&(ct=await zE(W.localStore,J.query,!1).then((({documents:I})=>J.view.ru(I,ct))));const At=pt&&pt.targetChanges.get(J.targetId),$t=pt&&pt.targetMismatches.get(J.targetId)!=null,It=J.view.applyChanges(ct,W.isPrimaryClient,At,$t);return XE(W,J.targetId,It.au),It.snapshot})(r,S,D,H);const u=await zE(r.localStore,t,!0),d=new RD(t,u.ks),p=d.ru(u.documents),_=uu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=d.applyChanges(p,r.isPrimaryClient,_);XE(r,n,y.au);const T=new ID(t,n,d);return r.Tu.set(t,T),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function VD(r,t,n){const s=vt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((d=>!kh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await zm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Cp(s.remoteStore,o.targetId),Hm(s,o.targetId)})).catch(yo)):(Hm(s,o.targetId),await zm(s.localStore,o.targetId,!0))}async function UD(r,t){const n=vt(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Cp(n.remoteStore,s.targetId))}async function PD(r,t,n){const s=HD(r);try{const o=await(function(d,p){const _=vt(d),y=ee.now(),T=p.reduce(((H,$)=>H.add($.key)),Mt());let S,D;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let $=ur(),W=Mt();return _.xs.getEntries(H,T).next((J=>{$=J,$.forEach(((ot,pt)=>{pt.isValidDocument()||(W=W.add(ot))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,$))).next((J=>{S=J;const ot=[];for(const pt of p){const ct=XC(pt,S.get(pt.key).overlayedDocument);ct!=null&&ot.push(new hs(pt.key,ct,RA(ct.value.mapValue),Zn.exists(!0)))}return _.mutationQueue.addMutationBatch(H,y,ot,p)})).next((J=>{D=J;const ot=J.applyToLocalDocumentSet(S,W);return _.documentOverlayCache.saveOverlays(H,J.batchId,ot)}))})).then((()=>({batchId:D.batchId,changes:LA(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new oe(Nt)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(s,o.batchId,n),await hu(s,o.changes),await jh(s.remoteStore)}catch(o){const u=Vp(o,"Failed to persist write");n.reject(u)}}async function T0(r,t){const n=vt(r);try{const s=await Q2(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const d=n.Au.get(u);d&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?qt(d.hu,14607):o.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await hu(n,s,t)}catch(s){await yo(s)}}function YE(r,t,n){const s=vt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const _=vt(d);_.onlineState=p;let y=!1;_.queries.forEach(((T,S)=>{for(const D of S.ba)D.va(p)&&(y=!0)})),y&&Up(_)})(s.eventManager,t),o.length&&s.Pu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function kD(r,t,n){const s=vt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let d=new oe(ut.comparator);d=d.insert(u,Je.newNoDocument(u,_t.min()));const p=Mt().add(u),_=new Bh(_t.min(),new Map,new oe(Nt),d,p);await T0(s,_),s.Ru=s.Ru.remove(u),s.Au.delete(t),kp(s)}else await zm(s.localStore,t,!1).then((()=>Hm(s,t,n))).catch(yo)}async function LD(r,t){const n=vt(r),s=t.batch.batchId;try{const o=await K2(n.localStore,t);S0(n,s,null),A0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await hu(n,o)}catch(o){await yo(o)}}async function xD(r,t,n){const s=vt(r);try{const o=await(function(d,p){const _=vt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,p).next((S=>(qt(S!==null,37113),T=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(s.localStore,t);S0(s,t,n),A0(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await hu(s,o)}catch(o){await yo(o)}}function A0(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function S0(r,t,n){const s=vt(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.du[s.currentUser.toKey()]=o}}function Hm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((s=>{r.Vu.containsKey(s)||b0(r,s)}))}function b0(r,t){r.Eu.delete(t.path.canonicalString());const n=r.Ru.get(t);n!==null&&(Cp(r.remoteStore,n),r.Ru=r.Ru.remove(t),r.Au.delete(n),kp(r))}function XE(r,t,n){for(const s of n)s instanceof y0?(r.Vu.addReference(s.key,t),zD(r,s)):s instanceof v0?(it(Pp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,t),r.Vu.containsKey(s.key)||b0(r,s.key)):mt(19791,{wu:s})}function zD(r,t){const n=t.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(it(Pp,"New document in limbo: "+n),r.Eu.add(s),kp(r))}function kp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new ut(Zt.fromString(t)),s=r.fu.next();r.Au.set(s,new CD(n)),r.Ru=r.Ru.insert(n,s),u0(r.remoteStore,new Xr(Di(yp(n.path)),s,"TargetPurposeLimboResolution",Vh.ce))}}async function hu(r,t,n){const s=vt(r),o=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,_)=>{d.push(s.pu(_,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Rp.Es(_.targetId,y);u.push(T)}})))})),await Promise.all(d),s.Pu.J_(o),await(async function(_,y){const T=vt(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(y,(D=>X.forEach(D.Ts,(H=>T.persistence.referenceDelegate.addReference(S,D.targetId,H))).next((()=>X.forEach(D.Is,(H=>T.persistence.referenceDelegate.removeReference(S,D.targetId,H)))))))))}catch(S){if(!vo(S))throw S;it(Ip,"Failed to update sequence numbers: "+S)}for(const S of y){const D=S.targetId;if(!S.fromCache){const H=T.vs.get(D),$=H.snapshotVersion,W=H.withLastLimboFreeSnapshotVersion($);T.vs=T.vs.insert(D,W)}}})(s.localStore,u))}async function BD(r,t){const n=vt(r);if(!n.currentUser.isEqual(t)){it(Pp,"User change. New user:",t.toKey());const s=await s0(n.localStore,t);n.currentUser=t,(function(u,d){u.mu.forEach((p=>{p.forEach((_=>{_.reject(new nt(K.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await hu(n,s.Ns)}}function qD(r,t){const n=vt(r),s=n.Au.get(t);if(s&&s.hu)return Mt().add(s.key);{let o=Mt();const u=n.Iu.get(t);if(!u)return o;for(const d of u){const p=n.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function w0(r){const t=vt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=T0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kD.bind(null,t),t.Pu.J_=bD.bind(null,t.eventManager),t.Pu.yu=wD.bind(null,t.eventManager),t}function HD(r){const t=vt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=LD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xD.bind(null,t),t}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=qh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return G2(this.persistence,new H2,t.initialUser,this.serializer)}Cu(t){return new r0(wp.Vi,this.serializer)}Du(t){return new Z2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class jD extends bh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){qt(this.persistence.referenceDelegate instanceof Ah,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new I2(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new r0((s=>Ah.Vi(s,n)),this.serializer)}}class jm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>YE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=BD.bind(null,this.syncEngine),await TD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new SD})()}createDatastore(t){const n=qh(t.databaseInfo.databaseId),s=iD(t.databaseInfo);return lD(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,d,p){return new cD(s,o,u,d,p)})(this.localStore,this.datastore,t.asyncQueue,(n=>YE(this.syncEngine,n,0)),(function(){return HE.v()?new HE:new W2})())}createSyncEngine(t,n){return(function(o,u,d,p,_,y,T){const S=new DD(o,u,d,p,_,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=vt(n);it(Ws,"RemoteStore shutting down."),s.Ea.add(5),await cu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jm.provider={build:()=>new jm};class R0{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):or("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const as="FirestoreClient";class FD{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=fp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{it(as,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(it(as,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Vp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function dm(r,t){r.asyncQueue.verifyOperationInProgress(),it(as,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await s0(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function $E(r,t){r.asyncQueue.verifyOperationInProgress();const n=await GD(r);it(as,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>FE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>FE(t.remoteStore,o))),r._onlineComponents=t}async function GD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(as,"Using user provided OfflineComponentProvider");try{await dm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;lo("Error using user provided cache. Falling back to memory cache: "+n),await dm(r,new bh)}}else it(as,"Using default OfflineComponentProvider"),await dm(r,new jD(void 0));return r._offlineComponents}async function I0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(as,"Using user provided OnlineComponentProvider"),await $E(r,r._uninitializedComponentsProvider._online)):(it(as,"Using default OnlineComponentProvider"),await $E(r,new jm))),r._onlineComponents}function KD(r){return I0(r).then((t=>t.syncEngine))}async function C0(r){const t=await I0(r),n=t.eventManager;return n.onListen=OD.bind(null,t.syncEngine),n.onUnlisten=VD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ND.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=UD.bind(null,t.syncEngine),n}function QD(r,t,n={}){const s=new rr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,_,y){const T=new R0({next:D=>{T.Nu(),d.enqueueAndForget((()=>g0(u,S)));const H=D.docs.has(p);!H&&D.fromCache?y.reject(new nt(K.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&D.fromCache&&_&&_.source==="server"?y.reject(new nt(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(D)},error:D=>y.reject(D)}),S=new _0(yp(p.path),T,{includeMetadataChanges:!0,Ka:!0});return p0(u,S)})(await C0(r),r.asyncQueue,t,n,s))),s.promise}function YD(r,t,n={}){const s=new rr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,_,y){const T=new R0({next:D=>{T.Nu(),d.enqueueAndForget((()=>g0(u,S))),D.fromCache&&_.source==="server"?y.reject(new nt(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(D)},error:D=>y.reject(D)}),S=new _0(p,T,{includeMetadataChanges:!0,Ka:!0});return p0(u,S)})(await C0(r),r.asyncQueue,t,n,s))),s.promise}function XD(r,t){const n=new rr;return r.asyncQueue.enqueueAndForget((async()=>PD(await KD(r),t,n))),n.promise}function D0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const $D="ComponentProvider",JE=new Map;function JD(r,t,n,s,o){return new _C(r,t,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,D0(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const O0="firestore.googleapis.com",ZE=!0;class WE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new nt(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=O0,this.ssl=ZE}else this.host=t.host,this.ssl=t.ssl??ZE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=i0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<w2)throw new nt(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}aC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D0(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new nt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new nt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new nt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Fh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new nt(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new $I;switch(s.type){case"firstParty":return new tC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new nt(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=JE.get(n);s&&(it($D,"Removing Datastore"),JE.delete(n),s.terminate())})(this),Promise.resolve()}}function ZD(r,t,n,s={}){r=lr(r,Fh);const o=os(t),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${n}`;o&&($m(`https://${p}`),Jm("Firestore",!0)),u.host!==O0&&u.host!==p&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:p,ssl:o,emulatorOptions:s};if(!Ys(_,d)&&(r._setSettings(_),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=$e.MOCK_USER;else{y=ET(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new nt(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new $e(S)}r._authCredentials=new JI(new mA(y,T))}}class sa{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new sa(this.firestore,t,this._query)}}class De{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new De(this.firestore,t,this._key)}toJSON(){return{type:De._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(ou(n,De._jsonSchema))return new De(t,s||null,new ut(Zt.fromString(n.referencePath)))}}De._jsonSchemaVersion="firestore/documentReference/1.0",De._jsonSchema={type:Ce("string",De._jsonSchemaVersion),referencePath:Ce("string")};class Wr extends sa{constructor(t,n,s){super(t,n,yp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new De(this.firestore,null,new ut(t))}withConverter(t){return new Wr(this.firestore,t,this._path)}}function Gh(r,t,...n){if(r=ae(r),pA("collection","path",t),r instanceof Fh){const s=Zt.fromString(t,...n);return fE(s),new Wr(r,null,s)}{if(!(r instanceof De||r instanceof Wr))throw new nt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(t,...n));return fE(s),new Wr(r.firestore,null,s)}}function aa(r,t,...n){if(r=ae(r),arguments.length===1&&(t=fp.newId()),pA("doc","path",t),r instanceof Fh){const s=Zt.fromString(t,...n);return hE(s),new De(r,null,new ut(s))}{if(!(r instanceof De||r instanceof Wr))throw new nt(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(t,...n));return hE(s),new De(r.firestore,r instanceof Wr?r.converter:null,new ut(s))}}const tT="AsyncQueue";class eT{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new o0(this,"async_queue_retry"),this._c=()=>{const s=fm();s&&it(tT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=fm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new rr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!vo(t))throw t;it(tT,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,or("INTERNAL UNHANDLED ERROR: ",nT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Mp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&mt(47125,{Pc:nT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function nT(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Ao extends Fh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new eT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new eT(t),this._firestoreClient=void 0,await t}}}function WD(r,t){const n=typeof r=="object"?r:tp(),s=typeof r=="string"?r:gh,o=Ch(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=_T("firestore");u&&ZD(o,...u)}return o}function Lp(r){if(r._terminated)throw new nt(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||tO(r),r._firestoreClient}function tO(r){const t=r._freezeSettings(),n=JD(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new FD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xn(Qe.fromBase64String(t))}catch(n){throw new nt(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new xn(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ou(t,xn._jsonSchema))return xn.fromBase64String(t.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:Ce("string",xn._jsonSchemaVersion),bytes:Ce("string")};class xp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new nt(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class zp{constructor(t){this._methodName=t}}class Ni{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new nt(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new nt(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(t){if(ou(t,Ni._jsonSchema))return new Ni(t.latitude,t.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Ce("string",Ni._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Wn{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Wn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ou(t,Wn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Wn(t.vectorValues);throw new nt(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wn._jsonSchemaVersion="firestore/vectorValue/1.0",Wn._jsonSchema={type:Ce("string",Wn._jsonSchemaVersion),vectorValues:Ce("object")};const eO=/^__.*__$/;class nO{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new hs(t,this.data,this.fieldMask,n,this.fieldTransforms):new lu(t,this.data,n,this.fieldTransforms)}}class N0{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new hs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function M0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{dataSource:r})}}class Bp{constructor(t,n,s,o,u,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Bp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return wh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(M0(this.dataSource)&&eO.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class iO{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||qh(t)}createContext(t,n,s,o=!1){return new Bp({dataSource:t,methodName:n,targetDoc:s,path:Ke.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qp(r){const t=r._freezeSettings(),n=qh(r._databaseId);return new iO(r._databaseId,!!t.ignoreUndefinedProperties,n)}function rO(r,t,n,s,o,u={}){const d=r.createContext(u.merge||u.mergeFields?2:0,t,n,o);Hp("Data must be an object, but it was:",d,s);const p=V0(s,d);let _,y;if(u.merge)_=new Sn(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const D=po(t,S,n);if(!d.contains(D))throw new nt(K.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);k0(T,D)||T.push(D)}_=new Sn(T),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new nO(new fn(p),_,y)}class Kh extends zp{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Kh}}function sO(r,t,n,s){const o=r.createContext(1,t,n);Hp("Data must be an object, but it was:",o,s);const u=[],d=fn.empty();cs(s,((_,y)=>{const T=P0(t,_,n);y=ae(y);const S=o.childContextForFieldPath(T);if(y instanceof Kh)u.push(T);else{const D=fu(y,S);D!=null&&(u.push(T),d.set(T,D))}}));const p=new Sn(u);return new N0(d,p,o.fieldTransforms)}function aO(r,t,n,s,o,u){const d=r.createContext(1,t,n),p=[po(t,s,n)],_=[o];if(u.length%2!=0)throw new nt(K.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<u.length;D+=2)p.push(po(t,u[D])),_.push(u[D+1]);const y=[],T=fn.empty();for(let D=p.length-1;D>=0;--D)if(!k0(y,p[D])){const H=p[D];let $=_[D];$=ae($);const W=d.childContextForFieldPath(H);if($ instanceof Kh)y.push(H);else{const J=fu($,W);J!=null&&(y.push(H),T.set(H,J))}}const S=new Sn(y);return new N0(T,S,d.fieldTransforms)}function oO(r,t,n,s=!1){return fu(n,r.createContext(s?4:3,t))}function fu(r,t){if(U0(r=ae(r)))return Hp("Unsupported field value:",t,r),V0(r,t);if(r instanceof zp)return(function(s,o){if(!M0(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,o){const u=[];let d=0;for(const p of s){let _=fu(p,o.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),d++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=ae(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return jC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ee.fromDate(s);return{timestampValue:Th(o.serializer,u)}}if(s instanceof ee){const u=new ee(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Th(o.serializer,u)}}if(s instanceof Ni)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xn)return{bytesValue:XA(o.serializer,s._byteString)};if(s instanceof De){const u=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Sp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Wn)return(function(d,p){const _=d instanceof Wn?d.toArray():d;return{mapValue:{fields:{[bA]:{stringValue:wA},[_h]:{arrayValue:{values:_.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return vp(p.serializer,T)}))}}}}}})(s,o);if(n0(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Mh(s)}`)})(r,t)}function V0(r,t){const n={};return yA(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cs(r,((s,o)=>{const u=fu(o,t.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function U0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ee||r instanceof Ni||r instanceof xn||r instanceof De||r instanceof zp||r instanceof Wn||n0(r))}function Hp(r,t,n){if(!U0(n)||!gA(n)){const s=Mh(n);throw s==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+s)}}function po(r,t,n){if((t=ae(t))instanceof xp)return t._internalPath;if(typeof t=="string")return P0(r,t);throw wh("Field path arguments must be of type string or ",r,!1,void 0,n)}const lO=new RegExp("[~\\*/\\[\\]]");function P0(r,t,n){if(t.search(lO)>=0)throw wh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new xp(...t.split("."))._internalPath}catch{throw wh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function wh(r,t,n,s,o){const u=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(u||d)&&(_+=" (found",u&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new nt(K.INVALID_ARGUMENT,p+r+_)}function k0(r,t){return r.some((n=>n.isEqual(t)))}class uO{convertValue(t,n="none"){switch(rs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(is(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return cs(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[_h].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new Wn(n)}convertGeoPoint(t){return new Ni(ge(t.latitude),ge(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Ph(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Yl(t));default:return null}}convertTimestamp(t){const n=ns(t);return new ee(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Zt.fromString(t);qt(e0(s),9688,{name:t});const o=new Xl(s.get(1),s.get(3)),u=new ut(s.popFirst(5));return o.isEqual(n)||or(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class L0 extends uO{constructor(t){super(),this.firestore=t}convertBytes(t){return new xn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new De(this.firestore,null,n)}}const iT="@firebase/firestore",rT="4.10.0";class x0{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new De(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new cO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(po("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cO extends x0{data(){return super.data()}}function hO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new nt(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jp{}class z0 extends jp{}function fO(r,t,...n){let s=[];t instanceof jp&&s.push(t),s=s.concat(n),(function(u){const d=u.filter((_=>_ instanceof Gp)).length,p=u.filter((_=>_ instanceof Fp)).length;if(d>1||d>0&&p>0)throw new nt(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Fp extends z0{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Fp(t,n,s)}_apply(t){const n=this._parse(t);return B0(t._query,n),new sa(t.firestore,t.converter,Vm(t._query,n))}_parse(t){const n=qp(t.firestore);return(function(u,d,p,_,y,T,S){let D;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new nt(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){aT(S,T);const $=[];for(const W of S)$.push(sT(_,u,W));D={arrayValue:{values:$}}}else D=sT(_,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||aT(S,T),D=oO(p,d,S,T==="in"||T==="not-in");return Ie.create(y,T,D)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Gp extends jp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Gp(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ei.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let d=o;const p=u.getFlattenedFilters();for(const _ of p)B0(d,_),d=Vm(d,_)})(t._query,n),new sa(t.firestore,t.converter,Vm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kp extends z0{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Kp(t,n)}_apply(t){const n=(function(o,u,d){if(o.startAt!==null)throw new nt(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new nt(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jl(u,d)})(t._query,this._field,this._direction);return new sa(t.firestore,t.converter,PC(t._query,n))}}function dO(r,t="asc"){const n=t,s=po("orderBy",r);return Kp._create(s,n)}function sT(r,t,n){if(typeof(n=ae(n))=="string"){if(n==="")throw new nt(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VA(t)&&n.indexOf("/")!==-1)throw new nt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Zt.fromString(n));if(!ut.isDocumentKey(s))throw new nt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return EE(r,new ut(s))}if(n instanceof De)return EE(r,n._key);throw new nt(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mh(n)}.`)}function aT(r,t){if(!Array.isArray(r)||r.length===0)throw new nt(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function B0(r,t){const n=(function(o,u){for(const d of o)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new nt(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new nt(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function mO(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class kl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gs extends x0{constructor(t,n,s,o,u,d){super(t,n,s,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(po("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Gs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gs._jsonSchema={type:Ce("string",Gs._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class ah extends Gs{data(t={}){return super.data(t)}}class oo{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new kl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new ah(this._firestore,this._userDataWriter,s.key,s,new kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new nt(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const _=new ah(o._firestore,o._userDataWriter,p.doc.key,p.doc,new kl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const _=new ah(o._firestore,o._userDataWriter,p.doc.key,p.doc,new kl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:pO(p.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=oo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=fp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function pO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:r})}}oo._jsonSchemaVersion="firestore/querySnapshot/1.0",oo._jsonSchema={type:Ce("string",oo._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};function Qp(r){r=lr(r,De);const t=lr(r.firestore,Ao),n=Lp(t);return QD(n,r._key).then((s=>_O(t,r,s)))}function q0(r){r=lr(r,sa);const t=lr(r.firestore,Ao),n=Lp(t),s=new L0(t);return hO(r._query),YD(n,r._query).then((o=>new oo(t,s,r,o)))}function H0(r,t,n,...s){r=lr(r,De);const o=lr(r.firestore,Ao),u=qp(o);let d;return d=typeof(t=ae(t))=="string"||t instanceof xp?aO(u,"updateDoc",r._key,t,n,s):sO(u,"updateDoc",r._key,t),Yp(o,[d.toMutation(r._key,Zn.exists(!0))])}function gO(r){return Yp(lr(r.firestore,Ao),[new Ep(r._key,Zn.none())])}function j0(r,t){const n=lr(r.firestore,Ao),s=aa(r),o=mO(r.converter,t),u=qp(r.firestore);return Yp(n,[rO(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Zn.exists(!1))]).then((()=>s))}function Yp(r,t){const n=Lp(r);return XD(n,t)}function _O(r,t,n){const s=n.docs.get(t._key),o=new L0(r);return new Gs(r,o,t._key,s,new kl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){XI(ea),Xs(new ts("firestore",((s,{instanceIdentifier:o,options:u})=>{const d=s.getProvider("app").getImmediate(),p=new Ao(new ZI(s.getProvider("auth-internal")),new eC(d,s.getProvider("app-check-internal")),yC(d,o),d);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Ri(iT,rT,t),Ri(iT,rT,"esm2020")})();const F0="firebasestorage.googleapis.com",G0="storageBucket",yO=120*1e3,vO=600*1e3;class he extends Vi{constructor(t,n,s=0){super(mm(t),`Firebase Storage: ${n} (${mm(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,he.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return mm(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ce;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ce||(ce={}));function mm(r){return"storage/"+r}function Xp(){const r="An unknown error occurred, please check the error payload for server response.";return new he(ce.UNKNOWN,r)}function EO(r){return new he(ce.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function TO(r){return new he(ce.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function AO(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new he(ce.UNAUTHENTICATED,r)}function SO(){return new he(ce.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bO(r){return new he(ce.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function wO(){return new he(ce.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function RO(){return new he(ce.CANCELED,"User canceled the upload/download.")}function IO(r){return new he(ce.INVALID_URL,"Invalid URL '"+r+"'.")}function CO(r){return new he(ce.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function DO(){return new he(ce.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+G0+"' property when initializing the app?")}function OO(){return new he(ce.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function NO(){return new he(ce.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function MO(r){return new he(ce.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Fm(r){return new he(ce.INVALID_ARGUMENT,r)}function K0(){return new he(ce.APP_DELETED,"The Firebase app was deleted.")}function VO(r){return new he(ce.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jl(r,t){return new he(ce.INVALID_FORMAT,"String does not match format '"+r+"': "+t)}function Ol(r){throw new he(ce.INTERNAL_ERROR,"Internal error: "+r)}class bn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let s;try{s=bn.makeFromUrl(t,n)}catch{return new bn(t,"")}if(s.path==="")return s;throw CO(t)}static makeFromUrl(t,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(At){At.path.charAt(At.path.length-1)==="/"&&(At.path_=At.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),_={bucket:1,path:3};function y(At){At.path_=decodeURIComponent(At.path)}const T="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),D="(/([^?#]*).*)?$",H=new RegExp(`^https?://${S}/${T}/b/${o}/o${D}`,"i"),$={bucket:1,path:3},W=n===F0?"(?:storage.googleapis.com|storage.cloud.google.com)":n,J="([^?#]*)",ot=new RegExp(`^https?://${W}/${o}/${J}`,"i"),ct=[{regex:p,indices:_,postModify:u},{regex:H,indices:$,postModify:y},{regex:ot,indices:{bucket:1,path:2},postModify:y}];for(let At=0;At<ct.length;At++){const $t=ct[At],It=$t.regex.exec(t);if(It){const I=It[$t.indices.bucket];let b=It[$t.indices.path];b||(b=""),s=new bn(I,b),$t.postModify(s);break}}if(s==null)throw IO(t);return s}}class UO{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function PO(r,t,n){let s=1,o=null,u=null,d=!1,p=0;function _(){return p===2}let y=!1;function T(...J){y||(y=!0,t.apply(null,J))}function S(J){o=setTimeout(()=>{o=null,r(H,_())},J)}function D(){u&&clearTimeout(u)}function H(J,...ot){if(y){D();return}if(J){D(),T.call(null,J,...ot);return}if(_()||d){D(),T.call(null,J,...ot);return}s<64&&(s*=2);let ct;p===1?(p=2,ct=0):ct=(s+Math.random())*1e3,S(ct)}let $=!1;function W(J){$||($=!0,D(),!y&&(o!==null?(J||(p=2),clearTimeout(o),S(0)):J||(p=1)))}return S(0),u=setTimeout(()=>{d=!0,W(!0)},n),W}function kO(r){r(!1)}function LO(r){return r!==void 0}function xO(r){return typeof r=="object"&&!Array.isArray(r)}function $p(r){return typeof r=="string"||r instanceof String}function oT(r){return Jp()&&r instanceof Blob}function Jp(){return typeof Blob<"u"}function lT(r,t,n,s){if(s<t)throw Fm(`Invalid value for '${r}'. Expected ${t} or greater.`);if(s>n)throw Fm(`Invalid value for '${r}'. Expected ${n} or less.`)}function Qh(r,t,n){let s=t;return n==null&&(s=`https://${t}`),`${n}://${s}/v0${r}`}function Q0(r){const t=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=t(s)+"="+t(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Ks;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Ks||(Ks={}));function zO(r,t){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=t.indexOf(r)!==-1;return n||o||u}class BO{constructor(t,n,s,o,u,d,p,_,y,T,S,D=!0,H=!1){this.url_=t,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=_,this.timeout_=y,this.progressCallback_=T,this.connectionFactory_=S,this.retry=D,this.isUsingEmulator=H,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($,W)=>{this.resolve_=$,this.reject_=W,this.start_()})}start_(){const t=(s,o)=>{if(o){s(!1,new Xc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const d=p=>{const _=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(_,y)};this.progressCallback_!==null&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const p=u.getErrorCode()===Ks.NO_ERROR,_=u.getStatus();if(!p||zO(_,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===Ks.ABORT;s(!1,new Xc(!1,null,T));return}const y=this.successCodes_.indexOf(_)!==-1;s(!0,new Xc(y,u))})},n=(s,o)=>{const u=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const _=this.callback_(p,p.getResponse());LO(_)?u(_):u()}catch(_){d(_)}else if(p!==null){const _=Xp();_.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,_)):d(_)}else if(o.canceled){const _=this.appDelete_?K0():RO();d(_)}else{const _=wO();d(_)}};this.canceled_?n(!1,new Xc(!1,null,!0)):this.backoffId_=PO(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&kO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xc{constructor(t,n,s){this.wasSuccessCode=t,this.connection=n,this.canceled=!!s}}function qO(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function HO(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function jO(r,t){t&&(r["X-Firebase-GMPID"]=t)}function FO(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function GO(r,t,n,s,o,u,d=!0,p=!1){const _=Q0(r.urlParams),y=r.url+_,T=Object.assign({},r.headers);return jO(T,t),qO(T,n),HO(T,u),FO(T,s),new BO(y,r.method,T,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,d,p)}function KO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function QO(...r){const t=KO();if(t!==void 0){const n=new t;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}else{if(Jp())return new Blob(r);throw new he(ce.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function YO(r,t,n){return r.webkitSlice?r.webkitSlice(t,n):r.mozSlice?r.mozSlice(t,n):r.slice?r.slice(t,n):null}function XO(r){if(typeof atob>"u")throw MO("base-64");return atob(r)}const wi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pm{constructor(t,n){this.data=t,this.contentType=n||null}}function $O(r,t){switch(r){case wi.RAW:return new pm(Y0(t));case wi.BASE64:case wi.BASE64URL:return new pm(X0(r,t));case wi.DATA_URL:return new pm(ZO(t),WO(t))}throw Xp()}function Y0(r){const t=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<=127)t.push(s);else if(s<=2047)t.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const u=s,d=r.charCodeAt(++n);s=65536|(u&1023)<<10|d&1023,t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(t)}function JO(r){let t;try{t=decodeURIComponent(r)}catch{throw jl(wi.DATA_URL,"Malformed data URL.")}return Y0(t)}function X0(r,t){switch(r){case wi.BASE64:{const o=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(o||u)throw jl(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case wi.BASE64URL:{const o=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(o||u)throw jl(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=XO(t)}catch(o){throw o.message.includes("polyfill")?o:jl(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class $0{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw jl(wi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=tN(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=t.substring(t.indexOf(",")+1)}}function ZO(r){const t=new $0(r);return t.base64?X0(wi.BASE64,t.rest):JO(t.rest)}function WO(r){return new $0(r).contentType}function tN(r,t){return r.length>=t.length?r.substring(r.length-t.length)===t:!1}class Yr{constructor(t,n){let s=0,o="";oT(t)?(this.data_=t,s=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),s=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),s=t.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,n){if(oT(this.data_)){const s=this.data_,o=YO(s,t,n);return o===null?null:new Yr(o)}else{const s=new Uint8Array(this.data_.buffer,t,n-t);return new Yr(s,!0)}}static getBlob(...t){if(Jp()){const n=t.map(s=>s instanceof Yr?s.data_:s);return new Yr(QO.apply(null,n))}else{const n=t.map(d=>$p(d)?$O(wi.RAW,d).data:d.data_);let s=0;n.forEach(d=>{s+=d.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(d=>{for(let p=0;p<d.length;p++)o[u++]=d[p]}),new Yr(o,!0)}}uploadData(){return this.data_}}function J0(r){let t;try{t=JSON.parse(r)}catch{return null}return xO(t)?t:null}function eN(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function nN(r,t){const n=t.split("/").filter(s=>s.length>0).join("/");return r.length===0?n:r+"/"+n}function Z0(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}function iN(r,t){return t}class nn{constructor(t,n,s,o){this.server=t,this.local=n||t,this.writable=!!s,this.xform=o||iN}}let $c=null;function rN(r){return!$p(r)||r.length<2?r:Z0(r)}function W0(){if($c)return $c;const r=[];r.push(new nn("bucket")),r.push(new nn("generation")),r.push(new nn("metageneration")),r.push(new nn("name","fullPath",!0));function t(u,d){return rN(d)}const n=new nn("name");n.xform=t,r.push(n);function s(u,d){return d!==void 0?Number(d):d}const o=new nn("size");return o.xform=s,r.push(o),r.push(new nn("timeCreated")),r.push(new nn("updated")),r.push(new nn("md5Hash",null,!0)),r.push(new nn("cacheControl",null,!0)),r.push(new nn("contentDisposition",null,!0)),r.push(new nn("contentEncoding",null,!0)),r.push(new nn("contentLanguage",null,!0)),r.push(new nn("contentType",null,!0)),r.push(new nn("metadata","customMetadata",!0)),$c=r,$c}function sN(r,t){function n(){const s=r.bucket,o=r.fullPath,u=new bn(s,o);return t._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function aN(r,t,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const d=n[u];s[d.local]=d.xform(s,t[d.server])}return sN(s,r),s}function tS(r,t,n){const s=J0(t);return s===null?null:aN(r,s,n)}function oN(r,t,n,s){const o=J0(t);if(o===null||!$p(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const d=encodeURIComponent;return u.split(",").map(y=>{const T=r.bucket,S=r.fullPath,D="/b/"+d(T)+"/o/"+d(S),H=Qh(D,n,s),$=Q0({alt:"media",token:y});return H+$})[0]}function lN(r,t){const n={},s=t.length;for(let o=0;o<s;o++){const u=t[o];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}class Zp{constructor(t,n,s,o){this.url=t,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function eS(r){if(!r)throw Xp()}function uN(r,t){function n(s,o){const u=tS(r,o,t);return eS(u!==null),u}return n}function cN(r,t){function n(s,o){const u=tS(r,o,t);return eS(u!==null),oN(u,o,r.host,r._protocol)}return n}function nS(r){function t(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=SO():o=AO():n.getStatus()===402?o=TO(r.bucket):n.getStatus()===403?o=bO(r.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return t}function iS(r){const t=nS(r);function n(s,o){let u=t(s,o);return s.getStatus()===404&&(u=EO(r.path)),u.serverResponse=o.serverResponse,u}return n}function hN(r,t,n){const s=t.fullServerUrl(),o=Qh(s,r.host,r._protocol),u="GET",d=r.maxOperationRetryTime,p=new Zp(o,u,cN(r,n),d);return p.errorHandler=iS(t),p}function fN(r,t){const n=t.fullServerUrl(),s=Qh(n,r.host,r._protocol),o="DELETE",u=r.maxOperationRetryTime;function d(_,y){}const p=new Zp(s,o,d,u);return p.successCodes=[200,204],p.errorHandler=iS(t),p}function dN(r,t){return r&&r.contentType||t&&t.type()||"application/octet-stream"}function mN(r,t,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=t.size(),s.contentType||(s.contentType=dN(null,t)),s}function pN(r,t,n,s,o){const u=t.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function p(){let ct="";for(let At=0;At<2;At++)ct=ct+Math.random().toString().slice(2);return ct}const _=p();d["Content-Type"]="multipart/related; boundary="+_;const y=mN(t,s,o),T=lN(y,n),S="--"+_+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+T+`\r
--`+_+`\r
Content-Type: `+y.contentType+`\r
\r
`,D=`\r
--`+_+"--",H=Yr.getBlob(S,s,D);if(H===null)throw OO();const $={name:y.fullPath},W=Qh(u,r.host,r._protocol),J="POST",ot=r.maxUploadRetryTime,pt=new Zp(W,J,uN(r,n),ot);return pt.urlParams=$,pt.headers=d,pt.body=H.uploadData(),pt.errorHandler=nS(t),pt}class gN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ks.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ks.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ks.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,s,o,u){if(this.sent_)throw Ol("cannot .send() more than once");if(os(t)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),u!==void 0)for(const d in u)u.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,u[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ol("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ol("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ol("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ol("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class _N extends gN{initXhr(){this.xhr_.responseType="text"}}function Wp(){return new _N}class ta{constructor(t,n){this._service=t,n instanceof bn?this._location=n:this._location=bn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new ta(t,n)}get root(){const t=new bn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Z0(this._location.path)}get storage(){return this._service}get parent(){const t=eN(this._location.path);if(t===null)return null;const n=new bn(this._location.bucket,t);return new ta(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw VO(t)}}function yN(r,t,n){r._throwIfRoot("uploadBytes");const s=pN(r.storage,r._location,W0(),new Yr(t,!0),n);return r.storage.makeRequestWithTokens(s,Wp).then(o=>({metadata:o,ref:r}))}function vN(r){r._throwIfRoot("getDownloadURL");const t=hN(r.storage,r._location,W0());return r.storage.makeRequestWithTokens(t,Wp).then(n=>{if(n===null)throw NO();return n})}function EN(r){r._throwIfRoot("deleteObject");const t=fN(r.storage,r._location);return r.storage.makeRequestWithTokens(t,Wp)}function TN(r,t){const n=nN(r._location.path,t),s=new bn(r._location.bucket,n);return new ta(r.storage,s)}function AN(r){return/^[A-Za-z]+:\/\//.test(r)}function SN(r,t){return new ta(r,t)}function rS(r,t){if(r instanceof tg){const n=r;if(n._bucket==null)throw DO();const s=new ta(n,n._bucket);return t!=null?rS(s,t):s}else return t!==void 0?TN(r,t):r}function bN(r,t){if(t&&AN(t)){if(r instanceof tg)return SN(r,t);throw Fm("To use ref(service, url), the first argument must be a Storage instance.")}else return rS(r,t)}function uT(r,t){const n=t?.[G0];return n==null?null:bn.makeFromBucketSpec(n,r)}function wN(r,t,n,s={}){r.host=`${t}:${n}`;const o=os(t);o&&($m(`https://${r.host}/b`),Jm("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:ET(u,r.app.options.projectId))}class tg{constructor(t,n,s,o,u,d=!1){this.app=t,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=d,this._bucket=null,this._host=F0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yO,this._maxUploadRetryTime=vO,this._requests=new Set,o!=null?this._bucket=bn.makeFromBucketSpec(o,this._host):this._bucket=uT(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,t):this._bucket=uT(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){lT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){lT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ta(this,t)}_makeRequest(t,n,s,o,u=!0){if(this._deleted)return new UO(K0());{const d=GO(t,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(t,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,s,o).getPromise()}}const cT="@firebase/storage",hT="0.14.0";const sS="storage";function RN(r,t,n){return r=ae(r),yN(r,t,n)}function IN(r){return r=ae(r),vN(r)}function CN(r){return r=ae(r),EN(r)}function aS(r,t){return r=ae(r),bN(r,t)}function DN(r=tp(),t){r=ae(r);const s=Ch(r,sS).getImmediate({identifier:t}),o=_T("storage");return o&&ON(s,...o),s}function ON(r,t,n,s={}){wN(r,t,n,s)}function NN(r,{instanceIdentifier:t}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new tg(n,s,o,t,ea)}function MN(){Xs(new ts(sS,NN,"PUBLIC").setMultipleInstances(!0)),Ri(cT,hT,""),Ri(cT,hT,"esm2020")}MN();const eg="prsm_cache",Yh="prsm_cache_timestamp",Xh="articles_cache",du="articles_cache_timestamp",oS=300*1e3;function VN(){try{const r=localStorage.getItem(eg),t=localStorage.getItem(Yh);if(r&&t){const n=JSON.parse(r);return Rh.fromMap(n)}}catch(r){console.warn("Error reading cache:",r),PN()}return null}function UN(){try{const r=localStorage.getItem(Yh);return r?Date.now()-parseInt(r,10)<oS:!1}catch{return!1}}function lS(r){try{localStorage.setItem(eg,JSON.stringify(r.toMap())),localStorage.setItem(Yh,Date.now().toString())}catch(t){console.warn("Error writing cache:",t)}}function PN(){try{localStorage.removeItem(eg),localStorage.removeItem(Yh),localStorage.removeItem(Xh),localStorage.removeItem(du)}catch(r){console.warn("Error clearing cache:",r)}}const Ui=WD(cp),uS=DN(cp);async function kN(r){return(await Qp(aa(Ui,"accessCodes",r))).exists()}async function gm(){const r=await Qp(aa(Ui,"info","prsm"));if(r.exists()){const t=Rh.fromMap(r.data());return lS(t),t}return null}async function LN(r){if(r?.forceRefresh??!1)return gm();const n=VN(),s=UN();return n&&s?n:n&&!s?(gm().catch(o=>console.warn("Background cache refresh failed:",o)),n):gm()}async function KN(){return LN({forceRefresh:!0})}async function QN(r){console.log("Updating PRSM in Firestore..."),console.log(r.toMap()),await H0(aa(Ui,"info","prsm"),r.toMap()),lS(r)}async function YN(r,t){const n=aS(uS,`Photos/${t.replace(" ","_")}.${r.name.split(".")[1]}`),s=await RN(n,r),o=await IN(s.ref);return new Qs({url:o,id:s.ref.fullPath})}async function XN(r){try{const t=aS(uS,r.id);await CN(t)}catch(t){console.error("Error deleting photo:",t)}}function xN(){try{const r=localStorage.getItem(Xh),t=localStorage.getItem(du);if(r&&t)return JSON.parse(r).map(s=>tu.fromMap(s.data,s.id))}catch(r){console.warn("Error reading articles cache:",r),$h()}return null}function zN(){try{const r=localStorage.getItem(du);return r?Date.now()-parseInt(r,10)<oS:!1}catch{return!1}}function BN(r){try{const t=r.map(n=>({id:n.id,data:n.toMap()}));localStorage.setItem(Xh,JSON.stringify(t)),localStorage.setItem(du,Date.now().toString())}catch(t){console.warn("Error writing articles cache:",t)}}function $h(){try{localStorage.removeItem(Xh),localStorage.removeItem(du)}catch(r){console.warn("Error clearing articles cache:",r)}}async function _m(){const r=fO(Gh(Ui,"articles"),dO("createdAt","desc")),n=(await q0(r)).docs.map(s=>tu.fromMap(s.data(),s.id));return BN(n),n}async function qN(r){if(r?.forceRefresh??!1)return _m();const n=xN(),s=zN();return n&&s?n:n&&!s?(_m().catch(o=>console.warn("Background articles cache refresh failed:",o)),n):_m()}async function $N(){return qN({forceRefresh:!0})}async function JN(r){const t=await Qp(aa(Ui,"articles",r));return t.exists()?tu.fromMap(t.data(),t.id):null}async function ZN(r){const t=await j0(Gh(Ui,"articles"),r.toMap());return $h(),t.id}async function WN(r,t){await H0(aa(Ui,"articles",r),t.toMap()),$h()}async function tM(r){await gO(aa(Ui,"articles",r)),$h()}async function eM(r){await j0(Gh(Ui,"subscribers"),{email:r,subscribedAt:new Date().toISOString()})}async function nM(){return(await q0(Gh(Ui,"subscribers"))).docs.map(t=>t.data().email)}const nr=FI(cp);async function iM(r,t){return $T(nr,op).then(async()=>{try{return await OR(nr,r,t),console.log(nr.currentUser),localStorage.setItem("userId",nr.currentUser.uid),localStorage.setItem("isAdmin","true"),"Success"}catch(n){const s=n.code;switch(s){case"auth/user-not-found":return"User not found";case"auth/wrong-password":return"Invalid Password";case"auth/invalid-credential":return"Incorrect email or password";default:return s}}})}async function rM(){return UR(nr)}async function sM(r,t,n){return await kN(n)?$T(nr,op).then(async()=>{try{return await DR(nr,r,t),localStorage.setItem("userId",nr.currentUser.uid),localStorage.setItem("isAdmin","true"),"Success"}catch(o){return o.code==="auth/email-already-in-use"?"Account already exists with that email":"Error signing up"}}):"Invalid Access Code"}async function aM(r){VR(nr,t=>{t?r(!0):(r(!1),window.location.href=Xb+"Auth/Login/")})}export{Xm as A,tu as B,ts as C,ZN as D,$b as E,Km as F,WN as G,tM as H,qN as I,JN as J,rM as K,Xb as O,Rh as P,Qm as S,Ym as T,Xs as _,sM as a,Ri as b,FN as c,An as d,tp as e,Ch as f,LN as g,ae as h,_T as i,HN as j,os as k,iM as l,Vi as m,aM as n,KN as o,$m as p,$N as q,jN as r,eM as s,QN as t,Jm as u,XN as v,YN as w,Qs as x,nM as y,cp as z};
