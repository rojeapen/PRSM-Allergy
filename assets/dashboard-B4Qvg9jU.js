import{c as Te,j as e,r as l,A as c,i as ke,b as Ee,u as S,P as N,d as te,e as se,f as Le,S as Fe}from"./auth-COtb7vVW.js";import{H as Me}from"./header-BUGNByUh.js";class d{platform;url;id;constructor(n){this.platform=n.platform,this.url=n.url,this.id=n.id}}Te.createRoot(document.getElementById("root")).render(e.jsx(l.StrictMode,{children:e.jsx(De,{})}));class le{url;file;id;constructor(n){this.url=n.url,this.file=n.file,this.id=n.id}}function De(){const[r,n]=l.useState([]),[ae,y]=l.useState(!1),[M,D]=l.useState(!1),[u,k]=l.useState(new d({platform:"",url:""})),[I,w]=l.useState(null),[p,j]=l.useState(null),[a,b]=l.useState(null),[G,R]=l.useState(""),[H,U]=l.useState(""),[m,B]=l.useState(null),[ie,C]=l.useState(!1),[W,O]=l.useState(!1),[f,E]=l.useState([]),[ne,L]=l.useState(!1),[V,_]=l.useState(!1),[z,$]=l.useState(""),[g,P]=l.useState([]),[oe,q]=l.useState(!1),[J,K]=l.useState(!1),[h,F]=l.useState(new c({title:"",description:""})),[Q,A]=l.useState(null),[x,v]=l.useState(null),[re,T]=l.useState(!1),[X,Y]=l.useState(!1);l.useEffect(()=>{ke(t=>{}),Ee().then(t=>{b(t),R(t.landingPageTitle),U(t.landingPageSubtitle),B(t.landingPagePhoto.url);const s=t.galleryPhotos.map(o=>new le({url:o.url,id:o.id}));E(s);const i=t.socialMediaLinks.map((o,Ae)=>new d({platform:o.platform,url:o.url,id:Ae.toString()}));n(i),$(t.aboutSubtitle||""),P((t.aboutTiles||[]).map(o=>new c({title:o.title,description:o.description})))})},[]);const ce=t=>{$(t),q(!0)},de=async()=>{a&&(K(!0),a.aboutSubtitle=z,await S(a),q(!1),K(!1),b(N.fromMap(a.toMap())))},ue=()=>{!h.title.trim()||!h.description.trim()||(P([...g,new c({title:h.title,description:h.description})]),F(new c({title:"",description:""})),T(!0))},he=t=>{A(t),v(new c({...g[t]}))},Z=(t,s)=>{x&&v(new c({...x,[t]:s}))},me=t=>{if(!x)return;const s=[...g];s[t]=new c({...x}),P(s),A(null),v(null),T(!0)},ge=()=>{A(null),v(null)},pe=t=>{P(g.filter((s,i)=>i!==t)),T(!0),Q===t&&(A(null),v(null))},be=async()=>{a&&(Y(!0),a.aboutTiles=g,await S(a),T(!1),Y(!1),b(N.fromMap(a.toMap())))},xe=async()=>{if(O(!0),a.landingPageTitle=G,a.landingPageSubtitle=H,m&&typeof m!="string"){await te(a.landingPagePhoto);const t=await se(m,"Landing Page Background");a.landingPagePhoto=t}await S(a),C(!1),O(!1),b(N.fromMap(a.toMap()))},je=async t=>{E([...f,new le({file:t})]),L(!0)},fe=t=>{const s=f.filter(i=>i.file?i.file!==t:i.url!==t);E(s),L(!0)},ve=async()=>{_(!0);const t=[];for(const s of f)if(s.file){const i=await se(s.file,`Gallery Photo ${Date.now()}`);t.push(i)}else s.url&&t.push(new Le({url:s.url,id:s.id}));for(const s of a.galleryPhotos)t.find(o=>o.id===s.id)||await te(s);a.galleryPhotos=t,await S(a),L(!1),_(!1),b(N.fromMap(a.toMap()))},Se=()=>{!u.platform.trim()||!u.url.trim()||(n([...r,new d({platform:u.platform,url:u.url})]),k(new d({platform:"",url:""})),y(!0))},Ne=t=>{w(t),j(new d({...r[t]}))},ee=(t,s)=>{p&&j(new d({...p,[t]:s}))},ye=t=>{if(!p)return;const s=[...r];s[t]=new d({...p}),n(s),w(null),j(null),y(!0)},we=()=>{w(null),j(null)},Ce=t=>{n(r.filter((s,i)=>i!==t)),y(!0),I===t&&(w(null),j(null))},Pe=async()=>{D(!0),a.socialMediaLinks=r.map(t=>new Fe({platform:t.platform,url:t.url})),await S(a),y(!1),D(!1),b(N.fromMap(a.toMap()))};return e.jsxs(e.Fragment,{children:[e.jsx(Me,{isDashboardPage:!0}),a?e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"dashboard-section light",children:[e.jsxs("div",{className:"section-title",children:[e.jsx("h1",{children:"Hero Section"}),e.jsx("p",{children:"Edit the hero section of the main website"})]}),e.jsxs("div",{className:"section-content-horizontal",children:[e.jsxs("div",{className:"hero-inputs-side",children:[e.jsxs("div",{className:"section-item",children:[e.jsx("label",{htmlFor:"title",children:"Title: "}),e.jsx("input",{type:"text",id:"title",className:"input-light",value:G,onChange:t=>{R(t.target.value),C(!0)}})]}),e.jsxs("div",{className:"section-item",children:[e.jsx("label",{htmlFor:"subtitle",children:"Subtitle: "}),e.jsx("input",{type:"text",id:"subtitle",className:"input-light",value:H,onChange:t=>{U(t.target.value),C(!0)}})]}),e.jsxs("div",{className:"section-item",children:[e.jsx("label",{htmlFor:"background-image",children:"Background Image: "}),e.jsx("input",{type:"file",id:"background-image",className:"input-light",onChange:t=>{t.target.files&&t.target.files[0]&&(B(t.target.files[0]),C(!0))}})]}),ie&&!W&&e.jsx("button",{className:"btn-primary",onClick:xe,children:"Save Changes"}),W&&e.jsx("div",{className:"loader"})]}),e.jsxs("div",{className:"hero-preview-side",children:[e.jsx("label",{children:"Preview Image"}),e.jsx("div",{className:"hero-preview",children:m?typeof m=="string"?e.jsx("img",{src:m,alt:"Background Preview",className:"hero-preview-image"}):e.jsx("img",{src:URL.createObjectURL(m),alt:"Background Preview",className:"hero-preview-image"}):e.jsx("div",{className:"no-image",children:"No Image Selected"})})]})]})]}),e.jsxs("section",{className:"dashboard-section white",children:[e.jsxs("div",{className:"section-title",children:[e.jsx("h1",{children:"Gallery Photos"}),e.jsx("p",{children:"View, add, or delete gallery photos shown on the main website."})]}),e.jsxs("div",{className:"gallery-dashboard-content",children:[e.jsxs("div",{className:"gallery-dashboard-list",children:[f.length===0&&e.jsx("div",{children:"No gallery photos yet."}),f.map(t=>e.jsxs("div",{className:"gallery-dashboard-photo",children:[e.jsx("img",{src:t.url??URL.createObjectURL(t.file),alt:"Gallery",className:"gallery-dashboard-img"}),e.jsx("button",{className:"btn-danger",onClick:()=>fe(t.file??t.url),children:"Delete"})]}))]}),e.jsxs("div",{className:"gallery-dashboard-upload",children:[e.jsx("label",{htmlFor:"gallery-upload",children:"Add Photo:"}),e.jsx("input",{type:"file",id:"gallery-upload",className:"input-light",onChange:t=>{t.target.files&&t.target.files[0]&&je(t.target.files[0])}})]}),ne&&!V&&e.jsx("button",{className:"btn-primary",onClick:ve,children:"Save Changes"}),V&&e.jsx("div",{className:"loader"})]})]}),e.jsxs("section",{className:"dashboard-section light",children:[e.jsxs("div",{className:"section-title",children:[e.jsx("h1",{children:"About Section"}),e.jsx("p",{children:"Edit the about subtitle and about tiles shown on the main website."})]}),e.jsxs("div",{className:"section-content",children:[e.jsxs("div",{className:"section-item",style:{width:"100%",maxWidth:600},children:[e.jsx("label",{htmlFor:"about-subtitle",style:{minWidth:100},children:"Subtitle:"}),e.jsx("input",{type:"text",id:"about-subtitle",className:"input-light",value:z,onChange:t=>ce(t.target.value),style:{flex:1}}),oe&&!J&&e.jsx("button",{className:"btn-primary",onClick:de,children:"Save"}),J&&e.jsx("div",{className:"loader"})]}),e.jsxs("div",{style:{width:"100%",maxWidth:600,textAlign:"center"},children:[e.jsx("h3",{style:{margin:"1rem 0 0.5rem 0"},children:"About Tiles"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[g.length===0&&e.jsx("div",{children:"No about tiles yet."}),g.map((t,s)=>e.jsx("div",{className:"socials-dashboard-item",style:{alignItems:"flex-start"},children:Q===s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"socials-dashboard-info",style:{flex:1,flexDirection:"column",gap:"0.5rem"},children:[e.jsx("input",{className:"input-light socials-input",type:"text",value:x?.title||"",placeholder:"Title",onChange:i=>Z("title",i.target.value)}),e.jsx("input",{className:"input-light socials-input",type:"text",value:x?.description||"",placeholder:"Description",onChange:i=>Z("description",i.target.value)})]}),e.jsxs("div",{className:"socials-dashboard-actions",children:[e.jsx("button",{className:"btn-primary",onClick:()=>me(s),children:"Save"}),e.jsx("button",{className:"btn-danger",onClick:ge,children:"Cancel"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"socials-dashboard-info",style:{flex:1,flexDirection:"column",gap:"0.5rem"},children:[e.jsx("label",{htmlFor:"",children:t.title}),e.jsx("label",{htmlFor:"",children:t.description})]}),e.jsxs("div",{className:"socials-dashboard-actions",children:[e.jsx("button",{className:"btn-primary",onClick:()=>he(s),children:"Edit"}),e.jsx("button",{className:"btn-danger",onClick:()=>pe(s),children:"Delete"})]})]})},s))]}),e.jsxs("div",{className:"socials-dashboard-add",style:{marginTop:"1rem"},children:[e.jsx("input",{className:"input-light socials-input",type:"text",value:h.title,placeholder:"Title",onChange:t=>F(new c({...h,title:t.target.value}))}),e.jsx("input",{className:"input-light socials-input",type:"text",value:h.description,placeholder:"Description",onChange:t=>F(new c({...h,description:t.target.value}))}),e.jsx("button",{className:"btn-primary",onClick:ue,children:"Add"})]}),re&&!X&&e.jsx("button",{className:"btn-primary",style:{marginTop:"1rem"},onClick:be,children:"Save Changes"}),X&&e.jsx("div",{className:"loader"})]})]})]}),e.jsxs("section",{className:"dashboard-section light",children:[e.jsxs("div",{className:"section-title",children:[e.jsx("h1",{children:"Social Media Links"}),e.jsx("p",{children:"View, add, edit, or delete social media links shown on the main website."})]}),e.jsxs("div",{className:"socials-dashboard-content",children:[e.jsxs("div",{className:"socials-dashboard-list",children:[r.length===0&&e.jsx("div",{children:"No social media links yet."}),r.map((t,s)=>e.jsx("div",{className:"socials-dashboard-item",children:I===s?e.jsxs(e.Fragment,{children:[e.jsx("input",{className:"input-light socials-input",type:"text",value:p?.platform||"",placeholder:"Platform",onChange:i=>ee("platform",i.target.value)}),e.jsx("input",{className:"input-light socials-input",type:"text",value:p?.url||"",placeholder:"URL",onChange:i=>ee("url",i.target.value)}),e.jsx("button",{className:"btn-primary",onClick:()=>ye(s),children:"Save"}),e.jsx("button",{className:"btn-danger",onClick:we,children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"socials-dashboard-info",children:[e.jsx("label",{htmlFor:"",children:t.platform}),e.jsx("label",{htmlFor:"",children:t.url})]}),e.jsxs("div",{className:"socials-dashboard-actions",children:[e.jsx("button",{className:"btn-primary",onClick:()=>Ne(s),children:"Edit"}),e.jsx("button",{className:"btn-danger",onClick:()=>Ce(s),children:"Delete"})]})]})},s))]}),e.jsxs("div",{className:"socials-dashboard-add",children:[e.jsx("input",{className:"input-light socials-input",type:"text",value:u.platform,placeholder:"Platform",onChange:t=>k(new d({...u,platform:t.target.value}))}),e.jsx("input",{className:"input-light socials-input",type:"text",value:u.url,placeholder:"URL",onChange:t=>k(new d({...u,url:t.target.value}))}),e.jsx("button",{className:"btn-primary",onClick:Se,children:"Add"})]}),ae&&!M&&e.jsx("button",{className:"btn-primary",onClick:Pe,children:"Save Changes"}),M&&e.jsx("div",{className:"loader"})]})]})]}):e.jsx("div",{className:"loader-container",children:e.jsx("div",{className:"loader"})})]})}
